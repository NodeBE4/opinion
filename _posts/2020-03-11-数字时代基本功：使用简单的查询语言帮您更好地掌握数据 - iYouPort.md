---
layout: post
title: "数字时代基本功：使用简单的查询语言帮您更好地掌握数据 - iYouPort"
date: 2020-03-11T16:04:32+00:00
author: iYouPort
from: https://www.iyouport.org/%e6%95%b0%e5%ad%97%e6%97%b6%e4%bb%a3%e5%9f%ba%e6%9c%ac%e5%8a%9f%ef%bc%9a%e4%bd%bf%e7%94%a8%e7%ae%80%e5%8d%95%e7%9a%84%e6%9f%a5%e8%af%a2%e8%af%ad%e8%a8%80%e5%b8%ae%e6%82%a8%e6%9b%b4%e5%a5%bd%e5%9c%b0/
tags: [ iYouPort ]
categories: [ iYouPort ]
---

<article class="post-10135 post type-post status-publish format-standard has-post-thumbnail hentry category-knowledge-node category-osint tag-bigdata tag-investigation tag-query-language tag-sql tag-technique tag-technology" id="post-10135">
 <header class="entry-header">
  <h1 class="entry-title">
   数字时代基本功：使用简单的查询语言帮您更好地掌握数据
  </h1>
 </header>
 <div class="entry-meta">
  <span class="byline">
   <a href="https://www.iyouport.org/author/don-evans/" rel="author" title="由McCaffrey发布">
    McCaffrey
   </a>
  </span>
  <span class="cat-links">
   <a href="https://www.iyouport.org/category/knowledge-node/" rel="category tag">
    Knowledge Node
   </a>
   ,
   <a href="https://www.iyouport.org/category/osint/" rel="category tag">
    OSINT
   </a>
  </span>
  <span class="published-on">
   <time class="entry-date published" datetime="2020-03-12T00:04:32+08:00">
    2020年3月12日
   </time>
   <time class="updated" datetime="2019-10-29T14:57:38+08:00">
    2019年10月29日
   </time>
  </span>
  <span class="word-count">
   1 Minute
  </span>
 </div>
 <div class="entry-content">
  <ul>
   <li class="graf graf--p">
    <span style="color: #00ccff;">
     <em>
      <strong>
       这是公民记者和活动家组织必备的基本功。本文将尽可能说得简单，因此即便您没有任何基础，也一样不难掌握本文中介绍的知识
      </strong>
     </em>
    </span>
   </li>
  </ul>
  <p>
   <img alt="" class="aligncenter size-full wp-image-10136 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1100%2C733&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?w=1280&amp;ssl=1 1280w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=300%2C200&amp;ssl=1 300w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=768%2C512&amp;ssl=1 768w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1024%2C682&amp;ssl=1 1024w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1100%2C733&amp;ssl=1 1100w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=272%2C182&amp;ssl=1 272w" data-recalc-dims="1" height="733" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1100%2C733&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10136" data-recalc-dims="1" height="733" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1100%2C733&amp;ssl=1" srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?w=1280&amp;ssl=1 1280w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=300%2C200&amp;ssl=1 300w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=768%2C512&amp;ssl=1 768w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1024%2C682&amp;ssl=1 1024w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=1100%2C733&amp;ssl=1 1100w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/查询-.jpg?resize=272%2C182&amp;ssl=1 272w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   在现代工作场所中，处理数据已成为越来越重要的技能。
  </p>
  <p class="graf graf--p">
   数据不再是分析师和软件工程师的领域。借助当今的技术，任何人都可以使用数据来分析趋势并提供决策依据。
  </p>
  <p class="graf graf--p">
   处理数据时的基本概念是“查询”数据集。就是字面上的意思：询问有关一组数据的问题。查询语言是一种软件语言，提供用于询问此类问题的语法。
  </p>
  <p class="graf graf--p">
   如果您没有编写查询的经验，它们可能会显得有些吓人。但是，不要怕！只需少量练习，您就可以掌握基础知识。
  </p>
  <p class="graf graf--p">
   本文就是您开始的地方。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     Google Visualization API查询语言
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   您可能已经在大部分日常工作中使用过 Google 表格。也许您已经熟悉使用它来生成图表的方法。
  </p>
  <p class="graf graf--p">
   <a class="markup--anchor markup--p-anchor" data-href="https://developers.google.com/chart/interactive/docs/querylanguage" href="https://developers.google.com/chart/interactive/docs/querylanguage" rel="noopener noreferrer" target="_blank">
    Google Visualization API查询语言
   </a>
   是在幕后起作用的魔力，是它使之成为可能。
  </p>
  <p class="graf graf--p">
   但是您是否知道您可以通过 QUERY（）函数访问此语言吗？它是
   <strong class="markup--strong markup--p-strong">
    处理大量数据的强大工具
   </strong>
   。
  </p>
  <p class="graf graf--p">
   查询语言和SQL之间有很多相似之处。
  </p>
  <p class="graf graf--p">
   在这两种情况下，您都将定义列和行的数据集，并通过指定各种标准和条件来选择不同的列和行。
  </p>
  <p class="graf graf--p">
   在本演示中，示例数据将来自一个大型CSV文件，其中包含1872年至2019年之间的国际足球比赛结果。您可以
   <a class="markup--anchor markup--p-anchor" data-href="https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017" href="https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017" rel="noopener noreferrer" target="_blank">
    从 Kaggle 下载该数据
   </a>
   。
  </p>
  <p class="graf graf--p">
   在新的Google表格中，上传 CSV 文件。您可以使用 Ctrl + A（在Mac上为 Cmd + A）选择所有数据。
  </p>
  <p class="graf graf--p">
   从功能区菜单中，选择“数据”&gt;“命名范围…”，然后将所选范围称为“数据”。这将使其更易于使用。
  </p>
  <p class="graf graf--p">
   现在，您可以开始查询数据了。在电子表格中创建一个新选项卡，并在单元格 A1 中创建一个新的 QUERY（） 公式。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     获取所有英格兰比赛
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   第一个查询查找数据集中所有英格兰为主队或客队的比赛。
  </p>
  <p class="graf graf--p">
   QUERY（）至少接受两个参数。第一个是命名范围，它是需要查询的数据集；第二个是包含实际查询的字符串。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT * WHERE B = 'England' OR C = 'England'")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10137 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1100%2C357&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?w=1942&amp;ssl=1 1942w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=300%2C97&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=768%2C249&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1024%2C332&amp;ssl=1 1024w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1100%2C357&amp;ssl=1 1100w" data-recalc-dims="1" height="357" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1100%2C357&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10137" data-recalc-dims="1" height="357" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1100%2C357&amp;ssl=1" srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?w=1942&amp;ssl=1 1942w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=300%2C97&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=768%2C249&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1024%2C332&amp;ssl=1 1024w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/1-26.png?resize=1100%2C357&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   下面分析一下。
  </p>
  <p class="graf graf--p">
   SELECT * 要求返回数据集中的所有列。如果只需要A、B和C列，则可以编写 SELECT A，B，C。
  </p>
  <p class="graf graf--p">
   接下来需要包含一个过滤器，以便仅查找B列或C列中包含团队 ’England’ 的行。
  </p>
  <p class="graf graf--p">
   确保
   <strong class="markup--strong markup--p-strong">
    查询中的字符串使用单引号
   </strong>
   。双引号用于打开和关闭查询本身。
  </p>
  <p class="graf graf--p">
   此公式将返回英格兰踢过的所有比赛。如果要搜索另一个团队，只需在过滤器中更改条件即可。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     统计所有友谊赛
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   接下来，我们计算一下数据集中有多少个友谊赛匹配项。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT COUNT(A) WHERE F = 'Friendly'")</code></pre>
  <p class="graf graf--p">
   利用查询语言 COUNT（）函数。这是一个聚合函数的示例。聚合函数将许多行汇总起来。
  </p>
  <p class="graf graf--p">
   例如，在此数据集中，有16,716行，其中列 F 等于 “Friendly”。查询不返回所有这些行，而是返回单个行 —— 对其进行计数。
  </p>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10138 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1100%2C336&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?w=1118&amp;ssl=1 1118w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=300%2C92&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=768%2C235&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1024%2C313&amp;ssl=1 1024w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1100%2C336&amp;ssl=1 1100w" data-recalc-dims="1" height="336" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1100%2C336&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10138" data-recalc-dims="1" height="336" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1100%2C336&amp;ssl=1" srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?w=1118&amp;ssl=1 1118w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=300%2C92&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=768%2C235&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1024%2C313&amp;ssl=1 1024w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/10/2-24.png?resize=1100%2C336&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   聚合函数的其他示例包括 MAX（），MIN（）和 AVG（）。不是返回与查询匹配的所有行，而是查找它们的最大值、最小值和平均值。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     按比赛分组
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   如果在聚合函数旁边使用 GROUP BY ，则汇总函数可以做更多的事。该查询会找出每种锦标赛类型进行了多少场比赛。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT F, COUNT(A) GROUP BY F")</code></pre>
  <p class="graf graf--p">
   该查询按F列中的每个值对数据集进行分组。然后，它计算每组中有多少行。
  </p>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10139 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1100%2C469&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?w=1454&amp;ssl=1 1454w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=300%2C128&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=768%2C327&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1024%2C437&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1100%2C469&amp;ssl=1 1100w" data-recalc-dims="1" height="469" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1100%2C469&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10139" data-recalc-dims="1" height="469" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1100%2C469&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?w=1454&amp;ssl=1 1454w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=300%2C128&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=768%2C327&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1024%2C437&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/3-20.png?resize=1100%2C469&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   您可以在多个列上使用 GROUP BY。例如，要查找每个国家在锦标赛中进行了多少场比赛，请使用以下查询：
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT H, F, COUNT(A) GROUP BY H, F")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10140 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1100%2C543&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?w=1618&amp;ssl=1 1618w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=300%2C148&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=768%2C379&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1024%2C505&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1100%2C543&amp;ssl=1 1100w" data-recalc-dims="1" height="543" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1100%2C543&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10140" data-recalc-dims="1" height="543" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1100%2C543&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?w=1618&amp;ssl=1 1618w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=300%2C148&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=768%2C379&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1024%2C505&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/4-18.png?resize=1100%2C543&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   下面来尝试一些更高级的过滤。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     获取所有英格兰vs德国的比赛
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   您可以使用AND和OR指定更复杂的过滤器逻辑。为了便于阅读，可以在过滤器的每个部分周围使用括号。
  </p>
  <p class="graf graf--p">
   例如，要查找英格兰和德国之间的所有比赛，就是这样：
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT * WHERE (B = 'England' AND C = 'Germany') OR (C = 'England' AND B ='Germany')")</code></pre>
  <p class="graf graf--p">
   此筛选有两个条件：一个条件是英格兰是主场队，而德国则不是；另一个条件是相反的。
  </p>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10141 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1100%2C259&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?w=1928&amp;ssl=1 1928w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=300%2C71&amp;ssl=1 300w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=768%2C181&amp;ssl=1 768w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1024%2C241&amp;ssl=1 1024w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1100%2C259&amp;ssl=1 1100w" data-recalc-dims="1" height="259" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1100%2C259&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10141" data-recalc-dims="1" height="259" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1100%2C259&amp;ssl=1" srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?w=1928&amp;ssl=1 1928w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=300%2C71&amp;ssl=1 300w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=768%2C181&amp;ssl=1 768w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1024%2C241&amp;ssl=1 1024w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2019/10/5-17.png?resize=1100%2C259&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   使用数据验证可轻松选择数据集中的任何两个球队。
  </p>
  <p class="graf graf--p">
   然后，您可以编写一个查询，使用其过滤器中不同单元格的值。请记住，使用单引号标识查询中的字符串，并使用双引号打开和关闭查询的不同部分。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT * WHERE (B = '"&amp;B1&amp;"' AND C = '"&amp;B2&amp;"') OR (C = '"&amp;B1&amp;"' AND B ='"&amp;B2&amp;"')")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10142 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1100%2C333&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?w=2094&amp;ssl=1 2094w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=300%2C91&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=768%2C233&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1024%2C310&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1100%2C333&amp;ssl=1 1100w" data-recalc-dims="1" height="333" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1100%2C333&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10142" data-recalc-dims="1" height="333" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1100%2C333&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?w=2094&amp;ssl=1 2094w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=300%2C91&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=768%2C233&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1024%2C310&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/6-18.png?resize=1100%2C333&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     寻找趋势
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   聚合函数和过滤器结合使用时将成为功能强大的工具。一旦熟悉了它们的工作方式，就可以开始在数据集中搜索各种有趣的趋势。
  </p>
  <p class="graf graf--p">
   例如下面的例子，查找自1900年以来每年的每场比赛平均进球。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT YEAR(A), AVG(D) + AVG(E) WHERE YEAR(A) &gt;= 1900 GROUP BY YEAR(A)")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10143 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1100%2C680&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?w=1200&amp;ssl=1 1200w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=300%2C186&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=768%2C475&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1024%2C633&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1100%2C680&amp;ssl=1 1100w" data-recalc-dims="1" height="680" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1100%2C680&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10143" data-recalc-dims="1" height="680" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1100%2C680&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?w=1200&amp;ssl=1 1200w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=300%2C186&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=768%2C475&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1024%2C633&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/7-16.png?resize=1100%2C680&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   如果将查询结果绘制为线形图，则可以立即开始查看一段时间内的趋势。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     排序结果
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   有时，您对查找数据集中的全部匹配行不感兴趣。通常，您将需要根据一些条件对它们进行排序。也许您只希望找到前十个记录。
  </p>
  <p class="graf graf--p">
   该查询查找数据集中得分最高的十个比赛的匹配项。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT * ORDER BY (D+E) DESC LIMIT 10")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10144 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1100%2C316&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?w=2276&amp;ssl=1 2276w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=300%2C86&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=768%2C221&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1024%2C294&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1100%2C316&amp;ssl=1 1100w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?w=2200&amp;ssl=1 2200w" data-recalc-dims="1" height="316" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1100%2C316&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10144" data-recalc-dims="1" height="316" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1100%2C316&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?w=2276&amp;ssl=1 2276w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=300%2C86&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=768%2C221&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1024%2C294&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?resize=1100%2C316&amp;ssl=1 1100w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/8-13.png?w=2200&amp;ssl=1 2200w" width="1100"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   注意 ORDER BY 语句。这将根据指定的列对行进行排序。在这里，查询按比赛中的得分数对输出进行排序。
  </p>
  <p class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    DESC 关键字指示按降序排序
   </strong>
   （ASC 则是按升序对它们进行排序）。
  </p>
  <p class="graf graf--p">
   最后，LIMIT 将输出限制为给定的行数（在本例中为10行）。
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     哪些城市举办了最多的世界杯比赛？
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   现在，作为最后一个例子，将所有内容整合在一起，激发您的想象力。
  </p>
  <p class="graf graf--p">
   此查询查找举办最多FIFA世界杯比赛的前十个城市。
  </p>
  <pre class="graf graf--pre"><code>=QUERY(data, "SELECT G, COUNT(A) WHERE F = 'FIFA World Cup' GROUP BY G ORDER BY COUNT(A) DESC LIMIT 10")</code></pre>
  <p class="graf graf--p">
   <img alt="" class="aligncenter size-full wp-image-10145 jetpack-lazy-image" data-lazy-sizes="(max-width: 1100px) 100vw, 1100px" data-lazy-src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1100%2C406&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?w=1620&amp;ssl=1 1620w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=300%2C111&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=768%2C283&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1024%2C378&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1100%2C406&amp;ssl=1 1100w" data-recalc-dims="1" height="406" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1100%2C406&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1100"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-10145" data-recalc-dims="1" height="406" sizes="(max-width: 1100px) 100vw, 1100px" src="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1100%2C406&amp;ssl=1" srcset="https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?w=1620&amp;ssl=1 1620w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=300%2C111&amp;ssl=1 300w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=768%2C283&amp;ssl=1 768w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1024%2C378&amp;ssl=1 1024w, https://i2.wp.com/www.iyouport.org/wp-content/uploads/2019/10/9-14.png?resize=1100%2C406&amp;ssl=1 1100w" width="1100"/>
   </noscript>
  </p>
  <h3 class="graf graf--p">
   <span style="color: #ff6600;">
    <strong class="markup--strong markup--p-strong">
     现在轮到你了
    </strong>
   </span>
  </h3>
  <p class="graf graf--p">
   希望本文对您的调查工作有用。如果您熟悉每个示例中的逻辑，那么您就可以尝试使用真正的 SQL。
  </p>
  <p class="graf graf--p">
   这将介绍诸如JOINS、嵌套查询和窗口函数的概念。当您掌握了这些内容后，您处理数据的能力就会大幅度提升。
  </p>
  <p class="graf graf--p">
   有很多地方可以开始学习 SQL。比如
   <a class="markup--anchor markup--p-anchor" data-href="https://www.w3schools.com/sql/default.asp" href="https://www.w3schools.com/sql/default.asp" rel="noopener noreferrer" target="_blank">
    这里
   </a>
   。加油哦！⚪️
  </p>
  <div id="atatags-1611829871-5f41becdd2781">
  </div>
  <div class="sharedaddy sd-sharing-enabled">
   <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
    <h3 class="sd-title">
     共享此文章：
    </h3>
    <div class="sd-content">
     <ul>
      <li class="share-twitter">
       <a class="share-twitter sd-button share-icon no-text" data-shared="sharing-twitter-10135" href="https://www.iyouport.org/%e6%95%b0%e5%ad%97%e6%97%b6%e4%bb%a3%e5%9f%ba%e6%9c%ac%e5%8a%9f%ef%bc%9a%e4%bd%bf%e7%94%a8%e7%ae%80%e5%8d%95%e7%9a%84%e6%9f%a5%e8%af%a2%e8%af%ad%e8%a8%80%e5%b8%ae%e6%82%a8%e6%9b%b4%e5%a5%bd%e5%9c%b0/?share=twitter" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Twitter 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Twitter 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-facebook">
       <a class="share-facebook sd-button share-icon no-text" data-shared="sharing-facebook-10135" href="https://www.iyouport.org/%e6%95%b0%e5%ad%97%e6%97%b6%e4%bb%a3%e5%9f%ba%e6%9c%ac%e5%8a%9f%ef%bc%9a%e4%bd%bf%e7%94%a8%e7%ae%80%e5%8d%95%e7%9a%84%e6%9f%a5%e8%af%a2%e8%af%ad%e8%a8%80%e5%b8%ae%e6%82%a8%e6%9b%b4%e5%a5%bd%e5%9c%b0/?share=facebook" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Facebook 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Facebook 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-end">
      </li>
     </ul>
    </div>
   </div>
  </div>
  <div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" data-name="like-post-frame-161182987-10135-5f41becdd2ff3" data-src="https://widgets.wp.com/likes/#blog_id=161182987&amp;post_id=10135&amp;origin=www.iyouport.org&amp;obj_id=161182987-10135-5f41becdd2ff3" id="like-post-wrapper-161182987-10135-5f41becdd2ff3">
   <h3 class="sd-title">
    赞过：
   </h3>
   <div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px;">
    <span class="button">
     <span>
      赞
     </span>
    </span>
    <span class="loading">
     正在加载……
    </span>
   </div>
   <span class="sd-text-color">
   </span>
   <a class="sd-link-color">
   </a>
  </div>
  <div class="jp-relatedposts" id="jp-relatedposts">
   <h3 class="jp-relatedposts-headline">
    <em>
     相关
    </em>
   </h3>
  </div>
 </div>
 <div class="entry-footer">
  <ul class="post-tags light-text">
   <li>
    Tagged
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/bigdata/" rel="tag">
     bigdata
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/investigation/" rel="tag">
     Investigation
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/query-language/" rel="tag">
     Query Language
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/sql/" rel="tag">
     SQL
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/technique/" rel="tag">
     technique
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/technology/" rel="tag">
     Technology
    </a>
   </li>
  </ul>
 </div>
 <div class="entry-author-wrapper">
  <div class="site-posted-on">
   <strong>
    Published
   </strong>
   <time class="entry-date published" datetime="2020-03-12T00:04:32+08:00">
    2020年3月12日
   </time>
   <time class="updated" datetime="2019-10-29T14:57:38+08:00">
    2019年10月29日
   </time>
  </div>
 </div>
</article>

