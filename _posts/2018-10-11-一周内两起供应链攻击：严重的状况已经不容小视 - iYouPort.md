---
layout: post
title: "一周内两起供应链攻击：严重的状况已经不容小视 - iYouPort"
date: 2018-10-11T03:11:52+00:00
author: iYouPort
from: https://www.iyouport.org/%e4%b8%80%e5%91%a8%e5%86%85%e4%b8%a4%e8%b5%b7%e4%be%9b%e5%ba%94%e9%93%be%e6%94%bb%e5%87%bb%ef%bc%9a%e4%b8%a5%e9%87%8d%e7%9a%84%e7%8a%b6%e5%86%b5%e5%b7%b2%e7%bb%8f%e4%b8%8d%e5%ae%b9%e5%b0%8f%e8%a7%86/
tags: [ iYouPort ]
categories: [ iYouPort ]
---

<article class="post-8165 post type-post status-publish format-standard has-post-thumbnail hentry category-newsletters category-56 tag-attacks tag-geopolitics tag-security" id="post-8165">
 <header class="entry-header">
  <h1 class="entry-title">
   一周内两起供应链攻击：严重的状况已经不容小视
  </h1>
 </header>
 <div class="entry-meta">
  <span class="byline">
   <a href="https://www.iyouport.org/author/don-evans/" rel="author" title="由McCaffrey发布">
    McCaffrey
   </a>
  </span>
  <span class="cat-links">
   <a href="https://www.iyouport.org/category/newsletters/" rel="category tag">
    Newsletters
   </a>
   ,
   <a href="https://www.iyouport.org/category/%e5%85%b3%e4%ba%8e%e5%9c%b0%e7%bc%98%e6%94%bf%e6%b2%bb/" rel="category tag">
    关于地缘政治
   </a>
  </span>
  <span class="published-on">
   <time class="entry-date published" datetime="2018-10-11T11:11:52+08:00">
    2018年10月11日
   </time>
   <time class="updated" datetime="2019-08-11T11:18:10+08:00">
    2019年8月11日
   </time>
  </span>
  <span class="word-count">
   0 Minutes
  </span>
 </div>
 <div class="entry-content">
  <ul>
   <li>
    <span style="color: #00ccff;">
     <em>
      <strong>
       一般情况下，用户都不会怀疑受信任的开发人员或供应商会在安装软件或更新时发起攻击。用户一般认为，只要软件供应商值得信赖，那他们的产品也一定没有安全问题。而攻击者正是利用了这个心理，发起了所谓的“供应链攻击”
      </strong>
     </em>
    </span>
   </li>
  </ul>
  <p>
   <img alt="" class="aligncenter size-full wp-image-8166 jetpack-lazy-image" data-lazy-sizes="(max-width: 1018px) 100vw, 1018px" data-lazy-src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=1018%2C680&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?w=1018&amp;ssl=1 1018w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=768%2C513&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=272%2C182&amp;ssl=1 272w" data-recalc-dims="1" height="680" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=1018%2C680&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1018"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-8166" data-recalc-dims="1" height="680" sizes="(max-width: 1018px) 100vw, 1018px" src="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=1018%2C680&amp;ssl=1" srcset="https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?w=1018&amp;ssl=1 1018w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=768%2C513&amp;ssl=1 768w, https://i0.wp.com/www.iyouport.org/wp-content/uploads/2019/08/供应链.png?resize=272%2C182&amp;ssl=1 272w" width="1018"/>
   </noscript>
  </p>
  <p>
   随着网络安全防护技术的提高，攻击者要想再利用原来的攻击技术来获得成功，就越来越难了。为此，黑客也正在琢磨着提高他们攻击成功率的方法，例如，利用用户对软件供应商的信任。
  </p>
  <p>
   一般情况下，用户都不会怀疑受信任的开发人员或供应商会在安装软件或更新时发起攻击。用户一般认为，只要软件供应商值得信赖，那他们的产品也一定没有安全问题。而攻击者正是利用了这个心理，发起了所谓的“供应链攻击”。在安装软件或更新时，用户时刻都要仔细检查源代码站点，以确保它是合法的。只有这样，才能让代码放心的在我们的计算机上运行。随着开发人员对软件和网页的防护能力越来强，所以在过去几年中，黑客已越来越多的利用这种供应链信任来传播恶意软件。
  </p>
  <p>
   在不到一周的时间里（10 份的第二周），研究人员新发现了两起新的利用供应链进行攻击的事件。
  </p>
  <p>
   第一个涉及到
   <a href="https://vestacp.com/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    VestaCP
   </a>
   ，一个系统管理员用来管理服务器的控制面板界面。Censys 执行的互联网扫描显示，目前有超过 132000 个未过期的TLS证书可以保护 VestaCP 用户。根据安全公司 Eset 上周四
   <a href="https://www.welivesecurity.com/2018/10/18/new-linux-chachaddos-malware-distributed-servers-vestacp-installed/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    发布的一篇帖子
   </a>
   ，有未知的攻击者破坏了 VestaCP 服务器并利用他们的访问权限对可下载的安装程序进行了恶意更改。
  </p>
  <p>
   注：Censys 是一款用以搜索联网设备信息的新型搜索引擎，安全专家可以使用它来评估他们实现方案的安全性，而黑客则可以使用它作为前期侦查攻击目标、收集目标信息的强大利器。
  </p>
  <p>
   <strong>
    供应链攻击过程
   </strong>
  </p>
  <p>
   Eset 恶意软件研究员 Marc-ÉtienneM.Léveillé 告诉 Ars：“VestaCP 安装脚本被攻击者修改后，可以在安装成功后向
   <a href="https://vestacp.com/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    vestacp.com
   </a>
   报告生成的管理员凭证。我们并不确切知道这种情况是何时发生的，但修改后的安装脚本在5月31日至6月13日期间，已经出现在了 GitHub 上的源代码管理中”。
  </p>
  <p>
   目前，对这个攻击还在进一步研究中，在调查完成之前，仍然不清楚攻击是如何发生的。根据 Léveillé 的初步调查结果，黑客最有可能通过利用 VestaCP 软件或用于传播它的服务器中的关键漏洞开始的，这使得攻击者可以自行控制攻击过程。也就是在此期间，攻击者将密码嗅探函数添加到安装源代码中。此时，VestaCP 软件已经包含了从用户服务器向
   <a href="https://vestacp.com/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    vestacp.com
   </a>
   网站发送统计信息的代码。
  </p>
  <p>
   Léveillé 认为恶意代码只是添加了一些难以解密的代码行，这些代码行导致密码被包含在其中。然后，攻击者利用他们对 VestaCP 网络的控制来检索被盗密码。研究人员说，虽然这种方法更复杂，但安全检测方案更难在源代码中检测到恶意代码。对此，Leveille 说，攻击者可能会使用密码通过其安全 shell 界面登录服务器。
  </p>
  <p>
   使用 SSH，攻击者就可以用 ChachaDDoS 感染服务器，ChachaDDoS 是一种相对较新的恶意软件，用于对其他网站进行拒绝服务攻击。该恶意软件提供了各种高级功能，包括防止管理员在服务器上查找和分析它的方法。Chacha运行在32位和64位 ARM，x86，x86_64，MIPS，MIPSEL 和 PowerPC 上。在10份的23号，安全公司 Sophos 的研究人员公布了一个
   <a href="https://news.sophos.com/en-us/2018/10/22/chalubo-botnet-wants-to-ddos-from-your-server-or-iot-device/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    新发现的 DDoS 僵尸网络
   </a>
   ，他们称之为 Chalubo，几乎可以肯定它运行的是 Eset 描述的 Chacha 恶意软件。
  </p>
  <p>
   对 VestaCP 供应链的攻击最少有14天了（按10月24截止），因为源代码中记录时间是14天。类似的帖子显示，VestaCP 用户早在4月初就报告了服务器遭到黑客攻击，这比 Eset 列出的5月31日早了近两个月。类似这样的讨论表明，在6月13日恶意修改的代码从源代码中删除之后，影响 VestaCP 用户的攻击仍在继续。
  </p>
  <p>
   <strong>
    利用 ClipboardHijacking 软件潜入 PyPI
   </strong>
  </p>
  <p>
   第二个供应链攻击涉及一个恶意软件包，该软件包已被插入到了广泛使用 Python 编程语言官方存储库中。被称为“Colourama”的软件包看起来与 Colorama 类似，Colorama 是 Python 存储库中下载量最多的 20 个合法模块之一。
  </p>
  <p>
   doppelgängerColourama 软件包包含合法模块的大多数合法函数，但与 Colorama 有一个显着区别：Colourama 添加的代码在 Windows 服务器上运行时安装了这个
   <a href="https://hastebin.com/raw/idamexogib" rel="nofollow noopener" title="This link will take you away from steemit.com">
    Visual Basic 脚本
   </a>
   。它会不断监控服务器的剪贴板，以获取用户将要支付加密货币的线索。恶意脚本触发后，该脚本会将支付信息从剪贴板中包含的钱包地址转移到攻击者拥有的钱包。
  </p>
  <p>
   这已不是 Python 的官方 PyPI 存储库第一次被滥用来执行此类社交工程攻击。2016 年，一名大学生的本科论文使用了同样的技术，让未经授权的 Python 模块在 17000 多个独立的域中执行了超过 45000 次，其中一些域属于美国政府和军事组织。一年后，
   <a href="https://arstechnica.com/information-technology/2017/09/devs-unknowingly-use-malicious-modules-put-into-official-python-repository/" rel="nofollow noopener" title="This link will take you away from steemit.com">
    PyPI 再次被包含恶意(但相对良性)代码的代码包所攻击
   </a>
   。
  </p>
  <p>
   在过去的六个月里，隐藏在 PyPI 的 ClipboardHijacking 软件已被下载了171次(不包括镜像站点)，其中有55次是在9月份。被感染的服务器不仅必须删除恶意的 Colourama 模块，还必须进行注册表更改以清除 Visual Basic 脚本。
  </p>
  <p>
   <strong>
    勒索软件 NotPetya
   </strong>
  </p>
  <p>
   根据目前所掌握的证据，两个新发现的供应链攻击都没有发生大规模的感染。但这并不代表供应链攻击的威力不大，在 2017 年爆发的 NotPetya 攻击，已被专家形容为一种网络战争。在出现数小时之内 NotPetya 就蔓延到了乌克兰以外，感染到全世界的计算机，从宾夕法尼亚的医院到塔斯阿尼亚岛的巧克力工厂的无数设备都被攻击到，给每一家都造成了9位数的损失。病毒甚至还传播回俄罗斯，给国营石油公司俄罗斯石油造成打击。
  </p>
  <p>
   据美国白宫估计，其结果就是超过100亿美元的总损失。它是通过 M.E.Doc 的合法更新模块开始传播的，这是一种在乌克兰广泛使用的税务会计应用程序。研究人员表示，最初的攻击可能需要访问 M.E.Doc 源代码并控制公司的网络，不过随后的应用程序版本中的一套传播工具让其全球范围内迅速传播。
  </p>
  <p>
   在 2017 年，另一个恶意软件又爆发了，这个爆发也是利用的供应链发起的，利用的是许多人用来管理硬盘驱动器的 CCleaner 实用程序。这次攻击首先感染了用于开发和传播该实用程序的网络，然后，攻击者使用他们的后台控制，感染了注入恶意代码 CCleaner 版本的 227 万台计算机。奇怪的是，在这些被感染的计算机中，只有大约40台计算机获得了第二阶段的有效载荷，这些计算机托管在12家公司的网络中，包括三星(Samsung)、华硕(Asus)、富士通(Fujitsu)、索尼(Sony)和英特尔(Intel)。
  </p>
  <p>
   <strong>
    供应链攻击在将来会更加普遍，如果可能的话，用户应该考虑扫描所有下载的安装程序和更新，并密切关注其名称的变化，以确保它们与自己要安装的合法模块相匹
   </strong>
   。◾️
  </p>
  <div id="atatags-1611829871-5f406cbeb0b29">
  </div>
  <div class="sharedaddy sd-sharing-enabled">
   <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
    <h3 class="sd-title">
     共享此文章：
    </h3>
    <div class="sd-content">
     <ul>
      <li class="share-twitter">
       <a class="share-twitter sd-button share-icon no-text" data-shared="sharing-twitter-8165" href="https://www.iyouport.org/%e4%b8%80%e5%91%a8%e5%86%85%e4%b8%a4%e8%b5%b7%e4%be%9b%e5%ba%94%e9%93%be%e6%94%bb%e5%87%bb%ef%bc%9a%e4%b8%a5%e9%87%8d%e7%9a%84%e7%8a%b6%e5%86%b5%e5%b7%b2%e7%bb%8f%e4%b8%8d%e5%ae%b9%e5%b0%8f%e8%a7%86/?share=twitter" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Twitter 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Twitter 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-facebook">
       <a class="share-facebook sd-button share-icon no-text" data-shared="sharing-facebook-8165" href="https://www.iyouport.org/%e4%b8%80%e5%91%a8%e5%86%85%e4%b8%a4%e8%b5%b7%e4%be%9b%e5%ba%94%e9%93%be%e6%94%bb%e5%87%bb%ef%bc%9a%e4%b8%a5%e9%87%8d%e7%9a%84%e7%8a%b6%e5%86%b5%e5%b7%b2%e7%bb%8f%e4%b8%8d%e5%ae%b9%e5%b0%8f%e8%a7%86/?share=facebook" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Facebook 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Facebook 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-end">
      </li>
     </ul>
    </div>
   </div>
  </div>
  <div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" data-name="like-post-frame-161182987-8165-5f406cbeb1215" data-src="https://widgets.wp.com/likes/#blog_id=161182987&amp;post_id=8165&amp;origin=www.iyouport.org&amp;obj_id=161182987-8165-5f406cbeb1215" id="like-post-wrapper-161182987-8165-5f406cbeb1215">
   <h3 class="sd-title">
    赞过：
   </h3>
   <div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px;">
    <span class="button">
     <span>
      赞
     </span>
    </span>
    <span class="loading">
     正在加载……
    </span>
   </div>
   <span class="sd-text-color">
   </span>
   <a class="sd-link-color">
   </a>
  </div>
  <div class="jp-relatedposts" id="jp-relatedposts">
   <h3 class="jp-relatedposts-headline">
    <em>
     相关
    </em>
   </h3>
  </div>
 </div>
 <div class="entry-footer">
  <ul class="post-tags light-text">
   <li>
    Tagged
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/attacks/" rel="tag">
     attacks
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/geopolitics/" rel="tag">
     Geopolitics
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/security/" rel="tag">
     Security
    </a>
   </li>
  </ul>
 </div>
 <div class="entry-author-wrapper">
  <div class="site-posted-on">
   <strong>
    Published
   </strong>
   <time class="entry-date published" datetime="2018-10-11T11:11:52+08:00">
    2018年10月11日
   </time>
   <time class="updated" datetime="2019-08-11T11:18:10+08:00">
    2019年8月11日
   </time>
  </div>
 </div>
</article>

