---
layout: post
title: "编程随想：关于 Tor的常见问题解答"
date: 2020-07-26T04:48:21.000Z
author: 火光
from: https://2049post.wordpress.com/2020/07/26/v1tech2/
tags: [ 火光 ]
categories: [ 火光 ]
---
<!--1595738901000-->
[编程随想：关于 Tor的常见问题解答](https://2049post.wordpress.com/2020/07/26/v1tech2/)
------

<div>
<div class="wp-block-jetpack-markdown"><p><a href="https://program-think.blogspot.com/2013/11/tor-faq.html">原文链接</a></p><p><strong>作者</strong>：编程随想</p><blockquote><p><strong>编者按</strong>： 这篇关于Tor的文章，为编程随想的经典科普系列之一。原文发布于2013年。时隔多年，虽然有些信息略有过时，但总体来说仍是匿名网络新手的优秀入门读物。在此转载，向编程随想及其他致力于普及网络技术的人士致敬，并且提醒各位：<strong>墙国议政，易惹官非；上网带Tor，安全宝贵</strong>。<br>本网站基于wordpress创建。wordpress会记录访问者的IP。网站管理无法看到具体IP地址，但可以看到访问IP的<strong>所属国家</strong>。因此，若安全隐私对您很重要，<strong>强烈建议您采用Tor，VPN，虚拟机等方式匿名访问。</strong></p></blockquote><p>Tor 是一个很老牌的翻墙工具，也是俺在博客中推荐的第一款翻墙工具 &#8212; &#8212; 当时正赶上朝廷的60大寿，GFW 加强封锁，俺就写了一篇《<a href="https://program-think.blogspot.com/2009/09/break-through-gfw-with-tor.html">&quot;如何翻墙&quot;系列：戴&quot;套&quot;翻墻的方法</a>》，算是 Tor 的入门教程。</p><p>4年过去了，虽然新的翻墙工具不断涌现，但 Tor 的影响力和用户数仍然持续增加 &#8212; &#8212; <strong>很多人不仅仅是用 Tor 来翻墙，更是用 Tor 来隐匿自己的上网行踪</strong>。在这期间，俺也收到很多读者来信/博客留言，询问关于 Tor 的各种问题。甚至有热心读者建议俺专门写一篇博文，聊聊 Tor 的高级话题。</p><p>为了帮大伙儿更好地使用 TOR，今天再发一篇教程，解答 TOR 的各种常见问题。</p><p><img src="https://miro.medium.com/max/150/0*TcMFhjoP-pia4zit" alt="Image for post"></p><h1>★Tor 是什么？</h1><p>Tor 是洋文 （The Onion Router）的缩写，中文又称&quot;洋葱网络/洋葱路由&quot;。简单而言，这是一款专门设计用于隐匿上网身份的工具。</p><p>Tor 的官网在&quot;<a href="https://www.torproject.org/">这里</a>&quot;。关于 Tor 的更详细介绍，请看维基百科的&quot;<a href="https://zh.wikipedia.org/wiki/Tor">这里</a>&quot;。</p><h1>★哪些网友需要使用 Tor？</h1><p>前面说了，设计 Tor 的主要目的是为了上网隐匿身份。所以，跟其它的翻墙工具不同 &#8212; &#8212; 它的重点功能是&quot;隐匿性&quot;，&quot;翻墙&quot;只是顺带的功能。</p><p>具有如下特点的用户，可以考虑使用 Tor。</p><h1>◇为了隐匿自己所在的国家</h1><p>比如有些视频网站为了版权的原因，会限制某些国家的IP，那么你可以利用 Tor 来伪装成别国的网民，就可以绕过视频网站的版权限制。</p><h1>◇为了隐匿自己的公网IP</h1><p>比如你想在网上发布敏感的政治言论，那隐匿公网 IP 是避免被跨省追捕的【<strong>必要条件</strong>】。</p><p>（提醒一下：&quot;隐匿公网 IP&quot;只是必要条件，不是充分条件！要避免被跨省，需要考虑多个层面的防范，具体请看《<a href="https://program-think.blogspot.com/2010/04/howto-cover-your-tracks-0.html">如何隐藏你的踪迹，避免跨省追捕</a>》系列博文）。</p><p>像俺这种长期抹黑朝廷的博主，Tor 是上网的必备工具。俺即使访问国内网站，也要走&quot;基于 Tor 的多重代理&quot;。（关于&quot;多重代理&quot;，后面还会提到）</p><h1>◇为了保护隐私</h1><p>刚才已经说了 Tor 的特点，在隐私保护方面，Tor 优于其它的翻墙工具。为了说明 Tor 在隐私方面的优点，拿 Tor 跟 VPN 做一个对比。</p><p>很多网友使用 VPN 翻墙，而且长期使用固定的 VPN 提供商。万一 VPN 提供商在 VPN 服务器上记录你的上网行为，那你的<strong>所有上网行踪</strong>就暴露无遗。</p><p>而如果使用 Tor，就可以大大降低这种风险 &#8212; &#8212; 具体原因，下面会聊。</p><h1>★软件安装方面的问题</h1><h1>◇Vidalia 跟 Tor 是啥关系？</h1><p>Tor 本身只提供命令行，没有图形界面。Vidalia 是专门为 Tor 量身打造的图形界面。</p><p>在 Vidalia 的图形化界面上，你不但可以配置各项参数，还可以监控 Tor 的流量和 Tor 的线路（后面会提到）。</p><p>补充说明：</p><p>从2014年之后，Tor 社区已经【不再】维护 Vidalia 这个软件了。所以俺后来又写了一篇：《<a href="https://program-think.blogspot.com/2015/03/Tor-Arm.html">扫盲 Arm &#8212; &#8212; Tor 的界面前端（替代已死亡的 Vidalia）</a>》</p><h1>◇如何获取 Tor 的软件包？</h1><p>关于这个问题，在 2009 年的入门教程《<a href="https://program-think.blogspot.com/2009/09/break-through-gfw-with-tor.html">&quot;如何翻墙&quot;系列：戴&quot;套&quot;翻墻的方法</a>》中已经介绍过，此处不再罗嗦。</p><h1>◇应该选择哪个安装包？</h1><p>先说明一下，Tor 是跨平台的。同时支持主流的：Windows、Linux、Mac OS。</p><p>在 Tor 官网有两个下载页面，分别如下：</p><p><a href="https://www.torproject.org/download/download-easy.html.en">https://www.torproject.org/download/download-easy.html.en</a><br>（这个是面向菜鸟用户的，每个操作系统只提供一个下载链接）</p><p><a href="https://www.torproject.org/download/download.html">https://www.torproject.org/download/download.html</a><br>（这个是面向高级用户的，每个操作系提供多种软件包供你选择）</p><p>后一个链接提供的多种选择，俺稍微解释一下。</p><p><strong>Tor Browser Bundle</strong><br>这个软件包捆绑了 Firefox 浏览器（<strong>对于 2.3.25 之后的版本，监听端口改为9150</strong>）。</p><p><strong>Expert Bundle</strong><br>这个软件包是面向高级用户，只有赤裸裸的 Tor，没有其它额外的东西（没有图形界面）。</p><blockquote><p>编者按：目前（2020年7月），编程随想提供的两个链接都会自动跳转到“面向菜鸟用户”的下载页面(<a href="https://www.torproject.org/download/" rel="nofollow">https://www.torproject.org/download/</a>)。面向高级用户、可以下载Expert Bundle和源代码的页面为<a href="https://www.torproject.org/download/tor/">https://www.torproject.org/download/tor/</a>。</p></blockquote><h1>◇Bridge 和 Relay 有啥区别？</h1><p>Bridge 的中文就是&quot;网桥&quot;。Tor 的网桥是一种特殊的中转节点。它跟其它中转节点的差异在于：普通的中转节点，其信息会被加入到 Tor 在全球的目录服务器，所以普通的中转节点会被所有的人看到，并用来进行流量中转。</p><p>而你自己搭建的网桥，其信息不会被加入到全球的目录服务器 &#8212; &#8212; 只会被你自己所用。</p><h1>◇Linux 用户如何获取软件包？</h1><p>因为 Tor 的名气大，那些主流的发行版基本上都提供 Tor 相关的软件包。如果你用的是主流的发行版，直接用系统的软件包管理工具，就可以自动安装/自动升级 Tor。</p><h1>◇Mac OS X 用户如何获取软件包？</h1><p>使用苹果系统的用户，可以看官网的&quot;<a href="https://www.torproject.org/docs/tor-doc-osx.html.en">这个文档</a>&quot;。里面有介绍如何通过&quot;Homebrew 包管理器&quot;安装 Tor。</p><h1>★浏览器方面的问题</h1><h1>◇如何配置浏览器的代理？</h1><p>（如果你使用的是 Tor Browser Bundle 内置的 Firefox，就无需再额外配置浏览器代理了）</p><p>早先的 Tor 客户端同时提供 HTTP 代理和 SOCKS，大概从 2013年开始，新版本的客户端不再提供 HTTP 代理了。所以原先的 <code>8118</code> 代理端口也就废弃了。</p><p>今后大伙儿需要用 Tor 提供的 SOCKS 代理来上网，端口号如下：</p><p><code>9150</code>（2.3.25版本之后的 Tor Browser Bundle 软件包）</p><p><code>9050</code>（其它的软件包）</p><p>Firefox 的代理设置如下图（至于 Chrome、IE、或其它浏览器，列位看官请依样画葫芦）：</p><p><img src="https://miro.medium.com/max/451/0*grhcNJ5XNcXo1mT4" alt="Image for post"></p><p>（顺便说一下：SOCKS 代理其实比 HTTP 代理更好，关于两者的差别，俺抽空写一篇扫盲）</p><h1>◇如何判断自己的浏览器是否在走 Tor 的线路？</h1><p>Tor 官网提供了一个测试界面，网址是<a href="https://check.torproject.org/">https://check.torproject.org/</a>。猛击该超链接，会打开一个界面。</p><p>如果你的浏览器已经在使用 Tor 的线路，会出现一个【绿色】洋葱头，以及一行绿色的洋文提示。</p><p>如果你的浏览器没有走 Tor 的线路，会出现一个【带红色打叉】的洋葱头，同时还有一行红色的洋文警告。</p><h1>◇Tor Browser Bundle 内置的 Firefox，有啥特殊之处？</h1><p>这个内置的 Firefox 跟普通的 Firefox 有如下几个差异：</p><p><strong>1. 版本差异</strong></p><p>这个内置的 Firefox 采用 Mozilla 官方提供的长期支持版本（洋文叫 ESR），而不是最新版本。</p><p>因为最新版本总是会增加很多新功能，可能会引入潜在的安全漏洞；而 ESR版本 相对而言比较稳健。</p><p><strong>2. 配置差异</strong></p><p>这个内置的 Firefox 专门进行了一些安全方面的定制（比如禁用 JavaScript）</p><h1>◇为啥 Tor Browser Bundle 内置的浏览器无法看视频？</h1><p>因为这个内置的浏览器没有装 Flash 播放插件。而大多数视频网站需要 Flash 插件来播放视频。</p><h1>★隐私方面的问题</h1><p>这一节是本文的重点，看仔细喽。</p><h1>◇Tor 客户端如何建立联网的线路？</h1><p>如果你比较好奇，为啥 Tor 的隐匿保护好于其它翻墙工具？那么有必要了解一下 Tor 客户端的联网机制。下面这三张图来自 Tor 的官网。因为图片中是洋文说明，俺稍微修改了一下，注上中文。</p><p><img src="https://miro.medium.com/max/510/0*QvqqmjD0Xm9LGABN" alt="Image for post"></p><p>第1图：当 Tor 客户端启动之后，会首先连接 Tor 的目录服务器。从目录服务器中获取全球的 Tor 节点信息。</p><p><img src="https://miro.medium.com/max/510/0*ocHuoX6_kj6N63jz" alt="Image for post"></p><p>第2图：假设你要访问 网站1，那么 Tor 客户端会随机挑选三个节点用于中转。</p><p>为了打字方便，俺把这三个节点分别称为：</p><p><strong>入口节点</strong>：</p><p>如果你仅仅使用 Tor 联网，该节点直接跟你的电脑相连；如果你使用双重代理，入口节点跟你的前置代理相连。</p><p><strong>中间节点</strong>：</p><p>介于入口节点和出口节点之间（这个节点的威胁最小）。</p><p><strong>出口节点</strong>：</p><p>该节点直接跟你访问的目标网站相连（<strong>这个节点的威胁最大</strong>）。</p><p>这三个节点中，只有&quot;出口节点&quot;会看到你的&quot;上网行为&quot;（图中标红色的虚线，表示 Tor 节点【<strong>会看到</strong>】&quot;原始流量&quot;）。</p><p>所谓的&quot;上网行为&quot;包括：你访问了哪个网站，你从该网站传输的流量。</p><p>如果这个网站使用【加密的】HTTPS 协议，&quot;出口节点&quot;看到的&quot;原始流量&quot;是 HTTPS 的密文，没啥关系；反之，如果这个网站使用【明文的】HTTP 协议，那么&quot;出口节点&quot;会看到你从该网站发送/接受的内容（<strong>这是主要风险点</strong>）。</p><p>除了&quot;出口节点&quot;，其它节点完全无法知道你的上网行为（图中标绿色的线，表示 Tor 节点<strong>看不到</strong>&quot;原始流量&quot;）。</p><p><img src="https://miro.medium.com/max/510/0*WzzskKdyCXGijGJH" alt="Image for post"></p><p>第3图：Tor 为了加强隐匿性，会动态变化中转线路。也就是说，每隔一段时间（约10分钟），就会随机挑选三个节点，重新构造一条传输线路。</p><p>因为线路动态变化，&quot;出口节点&quot;自然也动态变化。所以，即使&quot;出口节点&quot;偷窥你的上网行为，也只能看到一个短暂的片段。</p><h1>◇Tor 节点是否会偷窥到自己的隐私/上网行为？</h1><p>如果你弄懂了前一个问题的三张原理图，那你自然就知道，<strong>只有&quot;出口节点&quot;会看到你的上网行为</strong>。</p><h1>◇如何避免 Tor 节点看到你的上网行为？</h1><p>前面说了，&quot;上网行为&quot;包括两部分：</p><p>1. 你访问了哪个网站</p><p>2. 你从网站传输（发送、接受）的流量</p><p>对于第1点，是【<strong>无解</strong>】的！</p><p>不管采用哪种工具来隐匿行踪，最终，你都需要有某个&quot;主机&quot;帮你把数据送到你要访问的网站。所以，这个&quot;主机&quot;必然就知道你访问了啥网站。</p><p>对于第2点，是【<strong>有解</strong>】的。</p><p>主要方法就是：尽量采用 HTTPS 协议。比如像维基百科，同时支持 HTTP 和 HTTPS。那么你就应该采用 HTTPS 方式访问。这种情况下，Tor 的&quot;出口节点&quot;只知道你访问了维基百科，但是无法知道你访问了哪个页面。</p><p>为了养成经常使用 HTTPS 的习惯，建议大伙儿安装 EFF 官方提供的 <a href="https://www.eff.org/https-everywhere">HTTPS everywhere</a></p><h1>◇什么是&quot;陷阱节点&quot;/&quot;蜜罐节点&quot;？</h1><p>某些国家（比如咱们天朝）的政府会设置&quot;蜜罐节点&quot;。所谓的&quot;蜜罐节点&quot;，通俗的说，就是陷阱。</p><p>如果你使用的线路中，&quot;出口节点&quot;正好是蜜罐，那么该蜜罐就会窥探到你的上网行为 &#8212; &#8212; 前面已经说了，出口节点肯定会知道你的访问了哪个网站。并且，假如你访问的目标网站没有 HTTPS 加密，蜜罐就会知道你浏览的页面内容。</p><h1>◇如何避免&quot;陷阱节点&quot;/&quot;蜜罐节点&quot;？</h1><p>比较简单的做法，就是通过修改 Tor 的配置文件，规避这些不安全国家的节点。</p><p>对于天朝的网友，你至少需要屏蔽&quot;大陆、香港、澳门&quot;这三个节点。因为这三个地区都可能被六扇门设置蜜罐。</p><p>Tor 的配置文件名叫 <code>torrc</code>，这是一个文本文件，用记事本就可以打开。（如果你找不到该文件，在系统盘中搜索一下 <code>torrc</code> 这个文件名）</p><p>在该文件末尾，加入下面这行（<code>ExcludeNodes</code> 表示排除这些国家/地区的节点，<code>StrictNodes</code> 表示强制执行）。</p><p>ExcludeNodes  {cn},{hk},{mo}<br>StrictNodes  1</p><p>关于 strictnode，俺补充说明一下：</p><p>如果不设置 strictnode 1，Tor 客户端首先也会规避 ExcludeNodes 列出的这些国家。但如果 Tor 客户端找不到可用的线路，就会去尝试位于排除列表中的节点。</p><p>如果设置了 strictnode 1，即使 Tor 客户端找不到可用的线路，也不会去尝试这些国家的节点。</p><p>除了上述三个地区，还有几个国家跟天朝串通一气。如果你对安全性的要求比较高，可以把这些国家也列入 Tor 的排除节点列表。</p><p>下面给出这些流氓国家的代码，你依样画葫芦加入到 <code>ExcludeNodes</code> 那一行，国家代码之间用逗号分隔。</p><p>北朝鲜  {kp}<br>伊朗  {ir}<br>叙利亚  {sy}<br>巴基斯坦  {pk}<br>古巴  {cu}<br>越南  {vn}</p><h1>◇Tor 的加密流量能否被破解？</h1><p>根据斯诺登曝光的材料，NSA 目前具备的运算能力，可以解密很大一部分 Tor 流量。</p><p>因为目前（2013年）的 TOR 中继服务器，大部分还在使用 1024 位的 DHE 密钥，这类密钥虽然普通人难以破解，但是 NSA 掌握的运算能力可以在几小时内暴力破解。目前只有 10% 左右的中继服务器采用 ECDHE 密钥（基于椭圆曲线）。这类 ECDHE 密钥 NSA 比较难破解（更多介绍请看&quot;<a href="https://blog.erratasec.com/2013/09/tor-is-still-dhe-1024-nsa-crackable.html">这篇报道</a>&quot;）。</p><p>至于天朝方面，肯定【没有】NSA 这么牛的破解能力。所以墙内的同学们，咱们暂时还不用担心这个问题 <img src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p><p>另外，等到大部分中继服务器升级到 2.4 版本，ECDHE密钥 的使用就会普及，到时候这个风险会减低。</p><p>注：</p><p>本小节提及了好几种【密钥交换算法】。如果你对这方面感兴趣，可以看如下这篇博文，介绍了相关算法的原理。</p><p>《<a href="https://program-think.blogspot.com/2016/09/https-ssl-tls-3.html">扫盲 HTTPS 和 SSL/TLS 协议[3]：密钥交换（密钥协商）算法及其原理</a>》</p><h1>◇啥是流量关联分析？</h1><p>先声明：流量关联分析有很多种。这里说的是【<strong>针对 Tor</strong>】的流量关联分析&quot;。</p><p>&quot;关联分析&quot;是数据挖掘的一种手段 &#8212; &#8212; 先积累足够多的数据，然后通过某种算法找出数据之间的某些相关性特征。考虑到数据挖掘不是本文的主题，就不深入介绍了。</p><p>简单而言，如果某个攻击者能够监控你接入 Tor 网络的流量（入口节点之前的流量）以及你离开 Tor 网络的流量（出口节点之后的流量）。那么经过足够长时间的数据积累，攻击者就可以利用数据挖据【猜测】出：某些网络行为其实是来自某个公网 IP 的用户。</p><p>举例：</p><blockquote><p>*如果你仅仅使用 Tor（没用双重代理）联网，然后经常到 A网站 发敏感言论。假设1：<br>如果 GFW 对所有的 Tor 流量都做了记录（这只是假设，到底有没有，俺不晓得）<br>假设2：<br>A网站 对所有的用户留言做了记录（很多的国内网站都会记录）<br>假设3：<br>朝廷可以获取 A网站 的用户访问记录（只要是国内网站，朝廷肯定能拿到；至于国外网站，要看情况）<br>假设4：<br>朝廷针对 Tor 部署了关联分析的系统（这只是假设，到底有没有，俺不晓得）\</p><p>如果上述这 N 个假设【<strong><strong>同时成立</strong></strong>】，那么，经过足够长时间的积累（具体需要多长时间，取决于你发帖的频繁度），关联分析系统可以猜测出你是谁。*</p></blockquote><h1>◇如何规避（针对 Tor 的）流量关联分析？</h1><p>要规避&quot;针对 Tor 的流量关联分析&quot;，目前最直接有效的方法是：多重代理。因为一旦用了多重代理，Tor 的流量类型就被掩盖掉了。</p><p>比方说：如果你使用 VPN+Tor，那么你的 ISP 监控你的流量，看到的是 VPN 流量 &#8212; &#8212; （因为 VPN 加密）ISP【看不到】你的 Tor 流量。在这种情况下，流量关联分析的难度大大提高了。</p><p>除了&quot;针对 Tor 的流量关联分析&quot;，还有其它的流量分析技术。考虑到篇幅，就不深入介绍了。等俺有空，单独写一篇博文，专门聊这个话题。</p><h1>★双重代理方面的问题</h1><p>如果你对&quot;双重代理&quot;还不太了解，请先看俺之前的博文《<a href="https://program-think.blogspot.com/2012/03/howto-cover-your-tracks-5.html">如何隐藏你的踪迹，避免跨省追捕[5]：用多重代理隐匿公网IP</a>》。</p><h1>◇为啥要使用双重代理？</h1><p>俺总结了如下几个原因：</p><p><strong>原因1</strong></p><p>因为 Tor 的影响力很大，GFW 对 Tor 进行重点封杀。全球大多数的 Tor 中继节点都被 GFW 列入&quot;IP 黑名单&quot;。所以天朝的网友，如果单独使用 Tor，很难联网成功。这种情况下，就需要使用双重代理。</p><p><strong>原因2</strong></p><p>所有的软件都可能有缺陷（Tor 也不例外）。如果你仅仅使用 Tor，万一 Tor 出现安全漏洞并且被攻击者利用，那么攻击者就有可能对你进行逆向追溯（说不定能追溯出你的真实公网 IP）。</p><p>而如果使用多重代理，即使出现上述风险，攻击者也只能追踪到 Tor 的前置代理，而不会直接追踪到你本人。这样一来，风险大大降低。</p><p><strong>原因3</strong></p><p>前面提到，全球的 Tor 网络中可能会有陷阱节点。虽然你可以利用俺刚才介绍的方法，排除危险国家/地区的节点，但并不能确保万无一失。</p><p>比如说你碰到某个极小概率事件 &#8212; &#8212; 你使用的线路上，碰巧三个节点都是陷阱 &#8212; &#8212; 这种情况下，你的真实公网 IP 会暴露。</p><p>但如果你用了双重代理，即使碰到这种小概率事件，只会暴露你使用的前置代理服务器的 IP，而【不会暴露】你的本人的公网 IP。</p><p>举例：</p><blockquote><p><em>一个月前（2013年10月），美国地下网络&quot;丝绸之路&quot;的站长被 FBI 逮捕。他一直使用 Tor，为啥会暴露？<br>其中一种说法是：他没有使用双重代理。而 FBI 利用 NSA 的技术（据传闻是流量关联分析技术），再加上 FBI 本身也设置了蜜罐节点，最终定位了&quot;丝绸之路&quot;站长。</em></p></blockquote><p><strong>原因4</strong></p><p>刚才介绍了针对 Tor 的&quot;流量关联分析&quot;。如果你使用双重代理，会降低被关联分析的风险。</p><h1>◇哪些工具可以跟 Tor 组合双重代理？</h1><p>大部分翻墙工具都可以跟 Tor 组合。比如：所有的 VPN，无界、自由门、赛风、世界通、等等。</p><p>另外，你也可以使用公网上的一些代理服务器（公共代理），用来跟 Tor 组合成双重代理。前提是：这些&quot;公共代理&quot;【必须支持】HTTPS 代理或 SOCKS 代理。</p><p>如何用 Tor 组合&quot;公共代理&quot;，请看《<a href="https://program-think.blogspot.com/2012/09/gfw-news.html">2012年9月翻墙快报（兼谈复活 Tor 的方法）</a>》。</p><h1>◇为啥 GAE 翻墙工具无法跟 Tor 组合成双重代理？</h1><p>貌似 GAE 的翻墙工具，都只提供 HTTP 代理，没有提供【原生的】HTTPS 代理。而 Tor 客户端需要使用 HTTPS 跟中转节点进行数据传输。</p><h1>◇为啥 GoAgent 无法跟 Tor 组合成双重代理？</h1><p>GoAgent 也是 GAE 翻墙工具的一种，请参见前一个问题的解答。</p><h1>★其它方面的问题</h1><h1>◇为啥要使用虚拟机？</h1><p>虚拟机是为了进行网络隔离，确保你本机的软件总是经过代理联网，而不会直接联网 &#8212; &#8212; 直接联网可能会导致你的公网IP暴露。</p><p>具体的原理图，请看《<a href="https://program-think.blogspot.sk/2013/01/howto-cover-your-tracks-6.html">如何隐藏你的踪迹，避免跨省追捕[6]：用虚拟机隐匿公网 IP（原理介绍）</a>》</p><p>举例：</p><blockquote><p><em>前几个月，美国 FBI 为了打击儿童色情，逮捕了 Tor 匿名托管服务 Freedom Hosting 的负责人。然后 FBI 在该服务器上设置了木马。<br>该木马会利用 Tor 内置的 Firefox 浏览器的一个安全漏洞，来收集 Tor 用户的真实公网 IP。<br>（木马会向 FBI 的服务器发送一个信息，FBI 的服务器就会记录下发送端的 IP。如果没有虚拟机，这个</em><em><strong>直接联网</strong></em><em>的企图就得逞了）。</em></p></blockquote><p>如果你之前没用过操作系统虚拟机，可以先看俺写的系列教程《<a href="https://program-think.blogspot.com/2012/10/system-vm-0.html">扫盲操作系统虚拟机</a>》。</p><h1>◇如何【跨机器】共享 Tor Browser 的翻墙通道？</h1><p>用记事本（notepad）打开 Tor 的配置文件（如何找到配置文件，本文前面提到过）。在该文件末尾新增一行。</p><p>如果是 Tor Browser 软件包，加入如下这行</p><blockquote><p><em><strong>SocksListenAddress 0.0.0.0:9150</strong></em></p></blockquote><p>如果是 TOR 的其它软件包，加入如下这行</p><blockquote><p><em><strong>SocksListenAddress 0.0.0.0:9050</strong></em></p></blockquote><p>修改完记得保存，然后记得重启 Tor。之后，Tor 的监听端口就会绑定到 <code>0.0.0.0</code> 这个地址&#8212;&#8212;意思就是说，任何地址（任何机器）都可以连接到 Tor 的监听端口。</p><p>（唠叨一下：如果要跨机器共享 Tor 的 SOCKS 端口，别忘了修改防火墙的配置，允许 Tor 监听端口的 TCP 连入）</p><h1>◇啥是 obfs / obfsproxy？</h1><p>这玩意儿也是 Tor 官方提供的工具，主要是用来混淆 Tor 的流量。</p><p>因为 Tor 的名气太大了，很多网络监控系统（比如天朝大名鼎鼎的 GFW）可以根据网络传输内容，判断该流量是否为 Tor 的流量。如果是 Tor 流量就进行阻断。</p><p>（请注意：&quot;判断流量类型&quot;【不等于】&quot;解密内容&quot;）。</p><p>为了应对这类威胁，Tor 官方提供了一个额外的工具，用来混淆流量，让监控系统识别不出。原理图如下：</p><p><img src="https://miro.medium.com/max/830/0*rE8cAxCeQRfEHk4J" alt="Image for post"></p><p>虽然有 obfsproxy 这个工具，但是对于那些非常重视安全性的网友，俺依然提倡用&quot;双重代理&quot; &#8212; &#8212; 双重代理的优点刚才分析过，此处不再罗嗦。</p><h1>★结尾</h1><p>本文写得有点仓促，涉及的问题未必覆盖到方方面面。如果你觉得本文还有哪些问题没有覆盖到，欢迎到俺博客留言。</p><p><strong>俺博客上，和本文相关的帖子（需翻墙）</strong>：</p><p><a href="https://program-think.blogspot.com/2009/05/how-to-break-through-gfw.html">如何翻墙</a>（传说中的翻墙入门教程，不定期更新）</p><p><a href="https://program-think.blogspot.com/2009/09/break-through-gfw-with-tor.html">戴&quot;套&quot;翻墻的方法</a></p><p><a href="https://program-think.blogspot.com/2018/04/gfw-tor-browser-7.5-meek.html"><strong>&quot;如何翻墙&quot;系列：扫盲 Tor Browser 7.5 &#8212; &#8212; 关于 meek 插件的配置、优化、原理</strong></a></p><p><a href="https://program-think.blogspot.com/2015/03/Tor-Arm.html">扫盲 Arm &#8212; &#8212; Tor 的界面前端（替代已死亡的 Vidalia）</a></p><p><a href="https://program-think.blogspot.com/2010/04/howto-cover-your-tracks-0.html">如何隐藏你的踪迹，避免跨省追捕（系列）</a></p><p><a href="https://program-think.blogspot.com/2012/10/system-vm-0.html">扫盲操作系统虚拟机（系列）</a></p><p><strong>版权声明</strong></p><p>本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者<a href="mailto:program.think@gmail.com">编程随想</a>和本文原始地址：<br><a href="https://program-think.blogspot.com/2013/11/tor-faq.html">https://program-think.blogspot.com/2013/11/tor-faq.html</a></p></div><nav  class="wp-block-navigation" ><ul class="wp-block-navigation__container"><li class="wp-block-navigation-link"><a class="wp-block-navigation-link__content" href="https://2049post.wordpress.com/v1index/"><span class="wp-block-navigation-link__label">返回创刊号目录</span></a></li></ul></nav><p></p>
</div>
