<!DOCTYPE html>
<html>
  <head>
  <title>扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品 – 觀點 – 從草根到大師 git.io/JJCxS</title>

      <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="

      扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品  
  
    
      
    
  
  
这个长假前后出了不少新闻，除了“连环爆炸、TPP、诺贝尔医学奖”，还有一个信息安全方面的新闻——TrueCrypt 被发现存在高危的安全漏洞。这些新闻中，TPP 的影响最大，但不是很紧迫。所以俺先发一篇博文聊聊 TrueCrypt 的替代品（这事儿比较紧急）。        ★引子 
       ◇为啥到现在才介绍 TrueCrypt 的替代品 
  当年（2014）TrueCrypt 死亡的时候，俺发过一篇《  分析一下 TrueCrypt 之死（自杀 or 他杀？），介绍一下应对措施  》。当时俺提到：      
因为 TC 的源代码是公开的，任何人都可以拿它的代码克隆出一个新的磁盘加密工具。所以官网变脸之后，已经陆续出现了几个克隆（代码 fork）。假以时日，或许其中的某个克隆会再次成为主流。如果真这样的话，TC 就涅磐重生了。  提醒一下：如果你对安全性的要求比较高，短期内（至少1年之内）不要急着去用这些克隆的 TrueCrypt（这些克隆需要一定的时间才能成熟、稳定）。    
 从“TrueCrypt 死亡”到现在已经过了大约一年半，再加上 TrueCrypt 又曝了高危安全漏洞。所以俺估摸着：是时候写一篇【扫盲教程】来介绍 TrueCrypt 的替代品了。  
       
        ◇先说说 TrueCrypt 的安全漏洞 
  这次的安全漏洞由 Google 的安全研究人员（James Forshaw）发现。共有2个漏洞（漏洞编号：CVE-2015-7358、CVE-2015-7359），影响的是 Windows 平台，Linux 和 Mac OS X【不受影响】。  （因为该漏洞只影响 Windows 平台，这说明该漏洞与“加密盘格式”【无关】）  对技术感兴趣的同学，可以到“  这里  ”和“  这里  ”看这2个漏洞的详细描述。  顺便表扬一下 Google 的安全研究团队，确实有两下子。之前大名鼎鼎的“  Heartbleed 漏洞  ”也是 Google 安全研究团队曝光的。  俺选择 Blogspot 作为博客平台，就是考虑到 Google 在安全方面的实力；  与之对比，WordPress 虽然功能很牛，市场份额排名第一，但是经常曝出安全漏洞，不适合俺这种政治危险分子。         ★关于 VeraCrypt 
        
  VeraCrypt 是从 TrueCrypt 派生出来的开源项目，成立于2013年6月。其官网在  https://www.veracrypt.fr/   它刚成立那会儿，TrueCrypt 尚未死亡，所以 VeraCrypt 没有吸引太多的注意力。TrueCrypt 死亡之后，VeraCrypt 的使用量开始多起来。  此次曝光了高危漏洞之后，VeraCrypt 很快就在8天之后（9月26日）发布了 1.15 版本，修复了该漏洞。此举令其曝光率大增。  俺之所以首先推荐 VeraCrypt，除了此次修复漏洞及时，还有一个原因——其它替代品要么质量不如 VeraCrypt 成熟，要么功能不如 VeraCrypt 完备。  比如另一个名气比较大的替代品是  CipherShed  ，目前还停留在“Pre-Alpha”阶段——也就是说，连“Beta 品质”都没有达到。         ★如何获取 VeraCrypt？ 
  建议直接从  官网下载  ，【不要】从其它第三方的软件网站下载（大伙儿要吸取“  XcodeGhost 事件  ”的教训）。  目前 VeraCrypt 支持三大桌面操作系统，具体如下：  Windows（WinXP 或之后的版本，包括新出的 Windows 10）  Linux（内核主版本号大于等于 2.6）  Mac OS X（版本号大于等于 10.6）  对于 Windows 用户，下载的 exe 安装包自带数字签名（如何校验数字签名，请看  这篇博文  ）。另外，其官网还附上了不同平台安装包的“SHA 散列校验值”和“PGP 签名”。如果你下载的是 Linux 或 Mac OS X 的安装包，下载完之后，也请校验一下，以防万一。         ★如何安装 VeraCrypt？ 
  （考虑到大部分读者是 Windows 用户，为了节省口水， 
   本文后续章节只聊 Windows 下的 VeraCrypt。使用其它平台的同学，请依样画葫芦
   ）  安装前，先确保当前用户具有“管理员权限”。  双击下载好的安装包（就是那个 exe 文件），然后一路点 next 就可以了。         ★VeraCrypt 功能概述 
  下面开始聊功能，这是本文的重点，看仔细喽。  前面说了，VeraCrypt 是从 TrueCrypt 衍生出来的。所以其功能与 TrueCrypt 非常类似。关于 TrueCrypt 的功能介绍，俺已经写过一系列的傻瓜教程，包括如下：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》   （ 
   如果你之前【没有】使用过 TrueCrypt，强烈建议你先看完上述这几篇扫盲教程
   ）  为了打字省力，那些与 TrueCrypt 类似的功能，俺就【不】介绍了。下面俺只聊 VeraCrypt 的【新增功能】。         ★设置界面语言 
  考虑到某些网友是洋文菜鸟，先说一下如何配置界面的语言。  如果你打开 VeraCrypt 之后，界面是英文，先到主菜单中点击“Settings”，然后再点击“Language”菜单项，就会弹出一个选择语言的对话框，你把列表框的滚动条拉到底部，就会看到“简体中文”和“繁體中文”。具体截图如下：        
 （之所以出现2个“繁體中文”，是分别对应“港/台”）   选完中文之后，界面变为如下：        
        ★支持的加密盘格式 
  VeraCrypt 支持两种加密盘的格式，其中一种就是原先 TrueCrypt 使用的格式，另一种是 VeraCrypt 自己新创的格式。因此，如果你手头有原先 TrueCrypt 创建的加密盘，也可以用 VeraCrypt 直接挂载（mount）。  这两种格式的【唯一差异】在于——VeraCrypt 的新格式支持 PIM 功能（关于此功能，待会儿介绍）。   为了防止混淆，再唠叨一下关于加密盘的类型（“类型”与“格式”是两个概念，别混淆了）。  TrueCrypt 支持两种类型的加密盘——物理加密盘（加密分区、全盘加密）和虚拟加密盘（卷文件）；VeraCrypt 也支持这两种类型。  所以，排列组合之后，VeraCrypt 共支持如下4种：  旧格式（TrueCrypt 格式）的虚拟加密盘  旧格式（TrueCrypt 格式）的物理加密盘  新格式（VeraCrypt 格式）的虚拟加密盘  新格式（VeraCrypt 格式）的物理加密盘   当你使用旧格式（TrueCrypt 格式）的加密盘，其操作方式与原先的 TrueCrypt 基本一样。  当你使用新格式（VeraCrypt 格式）的加密盘，你可以配置 PIM 参数，也可以不配置（此时用的是默认值）。这个 PIM 参数有助于提升加密盘的安全性——主要是对抗“暴力破解”（本文后续章节会专门聊 PIM 功能）。         ★支持的加密算法和散列算法 
  这方面，VeraCrypt 与 TrueCrypt 大同小异——加密算法一样，散列算法多了一个 SHA-256。  更详细的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》，俺就不浪费口水了。         ★加密盘的认证方式 
  TrueCrypt 原先支持两种认证方式：“密码 ＆ keyfiles”。这两种方式，VeraCrypt 也都支持。相关的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》，俺就不浪费口水了。  另外，VeraCrypt 还新增了一个 PIM 功能。从某种意义上讲，PIM 也可以算是一种认证方式（因为挂载加密盘到时候也需要它）。关于 PIM 功能，本文下面专门用一个章节来详述。         ★创建加密盘 
  跟 TrueCrypt 类似，会出现一个“向导界面”，引导你一步步完成加密盘的创建。开头几步跟 TrueCrypt 类似，俺就不贴图了。  到最后一步，稍微有点不同，俺来聊一下。  以下是向导最后一步的界面，此时你选好文件系统格式之后，直接点击“格式化”按钮。        
  点击之后，你会发现进度条没有动静。因为 VeraCrypt 需要收集到足够多的随机信息，用来创建相关的加密密钥。  此时，你必须在当前这个窗口内，频繁并迅速地移动鼠标（随机移动）。大约四分之一柱香的功夫，就会出现进度条。        
  出现进度条，说明已经开始格式化。格式化完成后，会提示你。        
        ★挂载加密盘 
  挂载加密盘的界面，跟 TrueCrypt 有点小区别——多了两个复选框。  其中一个复选框是“TrueCrypt Mode”——勾选它是为了挂载旧格式（TrueCrypt 格式）的加密盘。         
        
  另一个复选框是“Use PIM”——这个复选框的作用，留到后面的章节介绍。  提醒一下：  VeraCrypt 挂载【新格式】加密盘的时候，你会明显感觉很慢。主要是因为 VeraCrypt 强化了安全性（具体的技术细节后面会提及）。         ★格式转换功能 
  VeraCrypt 不但可以打开旧格式（TrueCrypt 格式）的加密盘，而且可以把旧格式转化为新格式（VeraCrypt 格式）。  转换过程很简单——通过修改认证信息来进行。  也就是说：当你修改了某个旧格式加密盘的密码或者 keyfiles，修改成功之后，该加密盘就变为新格式了。  提醒： 
   该转换是【不可逆】的。也就是说，你无法用 VeraCrypt 把新格式转为旧格式。
           ★PIM 功能 
  现在开始讲 PIM——这是 VeraCrypt 新增的功能，因此俺就多费点口水。  所谓的 PIM 是洋文“Personal Iterations Multiplier”的缩写。通俗地说就是：你可以自定义“加密盘的头部密钥生成时的迭代次数”。这句话比较绕口，要想解释清楚，需要聊相关的技术实现机制（如下）。        ◇技术实现机制 
  （对技术细节【不】感兴趣的同学，就不用看俺的解释了。直接跳到下一节“VeraCrypt 相对 TrueCrypt 的改进”）   
   加密盘格式简介
    不论是新格式还是老格式，加密盘的数据大致可以分为两部分：“头部”和“数据区”。  所谓的“数据区”，存放的就是加密盘中文件系统的数据（通俗地说，就是你放到加密盘中的文件和目录的信息）  所谓的“头部”（header），存放的是加密盘本身的一些信息。刚才提到的“数据区”，其加密的密钥叫“Master Key”（也叫“主密钥、数据区密钥”），这个“Master Key”就是存储在加密盘头部的。此外，像“加密盘格式的版本号”、“是否有隐藏卷”等信息，也是存储在头部的。   
   “Header Key”的生成机制
    头部包含了很多加密盘的关键信息，自然也是要加密的。那么加密头部的密钥从哪里来捏？这个“Header Key”（也叫“首密钥、头部密钥”）是根据你输入的认证信息，来生成的（提醒一下，认证信息有2种：密码 和 keyfile）。  VeraCrypt 采用“PBKDF2 算法”来生成“Header Key”（该算法的具体描述参见“  这里  ”）。  在生成“Header Key”的过程中，会采用你指定的散列算法进行 N 次迭代，以生成一个难以猜测的密钥。这个 N 就是前面所说的“迭代次数”。  每当用户要挂载某个加密盘，软件界面会提示用户输入“密码和 keyfile”。然后根据用户的输入，计算出“Header Key”，然后用这个密钥对加密的头部进行解密（解到内存中）。如果解密成功，就说明用户输入的是对的。反之，则提示用户输入错误。   
   为啥要“迭代 N 次”？
    从上述可以看出：这个“迭代次数”越大，计算头部密钥的时间就越长，因此挂载加密盘的过程就越慢；表面上看，这是一个缺点。但其好处在于：如果某个攻击者想要采用暴力破解的方式对“头部”进行穷举解密，每次一次尝试也需要花很长时间（同样要迭代 N 次）。所以，当 N 足够大，暴力破解就变得【不可行】。   
   “Header Key”与“Master Key”分离的好处
    从上述可以看出，加密盘中存在两种密钥：“Header Key ＆ Master Key”。为啥要搞出两种密钥捏？其中一个好处是为了方便用户修改密码。当用户修改加密盘的密码或 keyfile，只需要“重新加密头部”，数据区不用改动（因为“Master Key”【没有】发生变化）。  对于那些超大的加密盘（TB 级），这个好处非常明显。        ◇VeraCrypt 相对 TrueCrypt 的改进 
  如果你刚才没有看技术细节的解释，直接跳到这里，你只需记住如下结论：  PIM 功能就是用来配置加密盘的某个“迭代次数”的。“迭代次数”越大，暴力破解就越难；同时，挂载加密盘也越慢。   对于原先的 TrueCrypt，它的迭代次数是写死在程序代码中的。而且 TrueCrypt 使用的迭代次数偏小（这是 TrueCrypt 被批评的主要问题之一）。  到了开发 VeraCrypt 的时候，其开发团队把原先默认的迭代次数调大（大约增加了两到三个数量级）。迭代次数调大之后，就显著增加了“暴力破解”的难度。  此外，从 VeraCrypt 1.12 版本开始，在界面上提供了一个功能，允许用户自定义每个加密盘的“迭代次数”——这就是下面要讲的“PIM 的用户界面”。        ◇用户界面 
  VeraCrypt 提供了相关的用户界面，让你可以自定义 PIM 数值的大小。前面说了，PIM 越大，暴力破解越难；但同时，挂载加密盘也越慢。由于不同的用户有不同的需求，所以，VeraCrypt 干脆提供一个界面让你自己设定 PIM 的大小。当然，如果你懒得设置，也可以直接用内置的默认值。   
   创建加密盘时
    VeraCrypt 同样提供了“创建加密盘的向导”。该向导前面5步跟 TrueCrypt 是一样的，俺就略过不提。  下面是创建加密盘的向导界面第6步。如果你想使用 PIM 功能，需要勾选“Use PIM”这个复选框。        
  下面是创建加密盘的向导界面第7步  如果第6步勾选了“Use PIM”，下一步就会让你输入 PIM 数值。 
   这个数值要牢记，其重要性等同于认证信息（密码 和 keyfile）。
    （如果输入 0 或者不填写，则表示——使用默认的 PIM 数值）        
  如果你设置的密码过于简短，那么 VeraCrypt 会强制让你输入一个比较大的 PIM 数值（大于 485）。        
  
   挂载加密盘时
    下面是挂载加密盘的界面。如果你创建加密盘的时候，指定了 PIM 数值，那么在挂载的时候，需要输入【相同的】PIM 数值。 
   如果输入的数值与创建时指定的 PIM 数值不一致，则挂载失败。
    再次罗嗦一下： 
   一旦你在创建加密盘时设置了“PIM 数值”，【千万别忘了】——忘记它的后果就如同忘记密码！
           
        
       ◇“PIM 数值”与“迭代次数”的换算公式 
  （如果你不关心技术细节，这个换算公式你可以不用看）  根据 VeraCrypt 的文档，PIM 根据如下公式换算成迭代次数。  1. 对于“系统加密分区”： 
   迭代次数 = PIM x 2048
    2. 对于“虚拟加密盘”或者“非系统加密分区”： 
   迭代次数 = 15000 + (PIM x 1000)
           ★扩容功能 
  另一个比较显著的新功能是“加密盘扩容”。原先的 TrueCrypt【没有】扩容功能——如果你的加密盘，空间不够了，你不得不重新创建一个更大的加密盘，然后把原先加密盘的文件拷贝到新加密盘（步骤繁琐）。  如今有了这个扩容功能，你可以直接扩大原有加密盘的容量。 
   前提是：文件系统必须是 NTFS。
    下面给出扩充操作的系列截图（共8张），描述文字都标注在截图中了。         
        
        
        
        
        
        
        
        ★如何防范加密盘被破解？ 
  下面这篇博文，其实已经包含在本文开头列出的 TrueCrypt 教程中。   TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施   因为这篇的内容比较重要，俺再次唠叨一下： 
   如果你对安全性的要求很高，一定要把上述这篇仔细看完。
           ★结尾 
  俺写这篇博文时，VeraCrypt 最新的是 1.16 版本。本文的截图就是根据这个版本制作的。  从截图中可以看出，某些界面还未彻底汉化。今后如果继续汉化，新版本的界面可能与本文的截图会略有不同。  另外，VeraCrypt 的开发比较活跃，今后多半还会增加新的功能。到时候俺会补充到这篇博文中。  大伙儿如果有啥疑问，欢迎到俺博客留言。    
   俺博客上，和本文相关的帖子（需翻墙）
   ：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》  《  分析一下 TrueCrypt 之死（自杀 or 他杀？）——兼谈应对措施  》  《  文件加密的扫盲介绍  》  《  文件备份技巧：组合“虚拟加密盘”与“网盘”  》  《  如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧  》  《  扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt）  》  《  扫盲 Linux 逻辑卷管理（LVM）——兼谈 RAID 以及“磁盘加密工具的整合”  》     

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2015/10/VeraCrypt.html 
    
    
  
  
    
         
    
    
    
 
    
  

" />
    <meta property="og:description" content="

      扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品  
  
    
      
    
  
  
这个长假前后出了不少新闻，除了“连环爆炸、TPP、诺贝尔医学奖”，还有一个信息安全方面的新闻——TrueCrypt 被发现存在高危的安全漏洞。这些新闻中，TPP 的影响最大，但不是很紧迫。所以俺先发一篇博文聊聊 TrueCrypt 的替代品（这事儿比较紧急）。        ★引子 
       ◇为啥到现在才介绍 TrueCrypt 的替代品 
  当年（2014）TrueCrypt 死亡的时候，俺发过一篇《  分析一下 TrueCrypt 之死（自杀 or 他杀？），介绍一下应对措施  》。当时俺提到：      
因为 TC 的源代码是公开的，任何人都可以拿它的代码克隆出一个新的磁盘加密工具。所以官网变脸之后，已经陆续出现了几个克隆（代码 fork）。假以时日，或许其中的某个克隆会再次成为主流。如果真这样的话，TC 就涅磐重生了。  提醒一下：如果你对安全性的要求比较高，短期内（至少1年之内）不要急着去用这些克隆的 TrueCrypt（这些克隆需要一定的时间才能成熟、稳定）。    
 从“TrueCrypt 死亡”到现在已经过了大约一年半，再加上 TrueCrypt 又曝了高危安全漏洞。所以俺估摸着：是时候写一篇【扫盲教程】来介绍 TrueCrypt 的替代品了。  
       
        ◇先说说 TrueCrypt 的安全漏洞 
  这次的安全漏洞由 Google 的安全研究人员（James Forshaw）发现。共有2个漏洞（漏洞编号：CVE-2015-7358、CVE-2015-7359），影响的是 Windows 平台，Linux 和 Mac OS X【不受影响】。  （因为该漏洞只影响 Windows 平台，这说明该漏洞与“加密盘格式”【无关】）  对技术感兴趣的同学，可以到“  这里  ”和“  这里  ”看这2个漏洞的详细描述。  顺便表扬一下 Google 的安全研究团队，确实有两下子。之前大名鼎鼎的“  Heartbleed 漏洞  ”也是 Google 安全研究团队曝光的。  俺选择 Blogspot 作为博客平台，就是考虑到 Google 在安全方面的实力；  与之对比，WordPress 虽然功能很牛，市场份额排名第一，但是经常曝出安全漏洞，不适合俺这种政治危险分子。         ★关于 VeraCrypt 
        
  VeraCrypt 是从 TrueCrypt 派生出来的开源项目，成立于2013年6月。其官网在  https://www.veracrypt.fr/   它刚成立那会儿，TrueCrypt 尚未死亡，所以 VeraCrypt 没有吸引太多的注意力。TrueCrypt 死亡之后，VeraCrypt 的使用量开始多起来。  此次曝光了高危漏洞之后，VeraCrypt 很快就在8天之后（9月26日）发布了 1.15 版本，修复了该漏洞。此举令其曝光率大增。  俺之所以首先推荐 VeraCrypt，除了此次修复漏洞及时，还有一个原因——其它替代品要么质量不如 VeraCrypt 成熟，要么功能不如 VeraCrypt 完备。  比如另一个名气比较大的替代品是  CipherShed  ，目前还停留在“Pre-Alpha”阶段——也就是说，连“Beta 品质”都没有达到。         ★如何获取 VeraCrypt？ 
  建议直接从  官网下载  ，【不要】从其它第三方的软件网站下载（大伙儿要吸取“  XcodeGhost 事件  ”的教训）。  目前 VeraCrypt 支持三大桌面操作系统，具体如下：  Windows（WinXP 或之后的版本，包括新出的 Windows 10）  Linux（内核主版本号大于等于 2.6）  Mac OS X（版本号大于等于 10.6）  对于 Windows 用户，下载的 exe 安装包自带数字签名（如何校验数字签名，请看  这篇博文  ）。另外，其官网还附上了不同平台安装包的“SHA 散列校验值”和“PGP 签名”。如果你下载的是 Linux 或 Mac OS X 的安装包，下载完之后，也请校验一下，以防万一。         ★如何安装 VeraCrypt？ 
  （考虑到大部分读者是 Windows 用户，为了节省口水， 
   本文后续章节只聊 Windows 下的 VeraCrypt。使用其它平台的同学，请依样画葫芦
   ）  安装前，先确保当前用户具有“管理员权限”。  双击下载好的安装包（就是那个 exe 文件），然后一路点 next 就可以了。         ★VeraCrypt 功能概述 
  下面开始聊功能，这是本文的重点，看仔细喽。  前面说了，VeraCrypt 是从 TrueCrypt 衍生出来的。所以其功能与 TrueCrypt 非常类似。关于 TrueCrypt 的功能介绍，俺已经写过一系列的傻瓜教程，包括如下：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》   （ 
   如果你之前【没有】使用过 TrueCrypt，强烈建议你先看完上述这几篇扫盲教程
   ）  为了打字省力，那些与 TrueCrypt 类似的功能，俺就【不】介绍了。下面俺只聊 VeraCrypt 的【新增功能】。         ★设置界面语言 
  考虑到某些网友是洋文菜鸟，先说一下如何配置界面的语言。  如果你打开 VeraCrypt 之后，界面是英文，先到主菜单中点击“Settings”，然后再点击“Language”菜单项，就会弹出一个选择语言的对话框，你把列表框的滚动条拉到底部，就会看到“简体中文”和“繁體中文”。具体截图如下：        
 （之所以出现2个“繁體中文”，是分别对应“港/台”）   选完中文之后，界面变为如下：        
        ★支持的加密盘格式 
  VeraCrypt 支持两种加密盘的格式，其中一种就是原先 TrueCrypt 使用的格式，另一种是 VeraCrypt 自己新创的格式。因此，如果你手头有原先 TrueCrypt 创建的加密盘，也可以用 VeraCrypt 直接挂载（mount）。  这两种格式的【唯一差异】在于——VeraCrypt 的新格式支持 PIM 功能（关于此功能，待会儿介绍）。   为了防止混淆，再唠叨一下关于加密盘的类型（“类型”与“格式”是两个概念，别混淆了）。  TrueCrypt 支持两种类型的加密盘——物理加密盘（加密分区、全盘加密）和虚拟加密盘（卷文件）；VeraCrypt 也支持这两种类型。  所以，排列组合之后，VeraCrypt 共支持如下4种：  旧格式（TrueCrypt 格式）的虚拟加密盘  旧格式（TrueCrypt 格式）的物理加密盘  新格式（VeraCrypt 格式）的虚拟加密盘  新格式（VeraCrypt 格式）的物理加密盘   当你使用旧格式（TrueCrypt 格式）的加密盘，其操作方式与原先的 TrueCrypt 基本一样。  当你使用新格式（VeraCrypt 格式）的加密盘，你可以配置 PIM 参数，也可以不配置（此时用的是默认值）。这个 PIM 参数有助于提升加密盘的安全性——主要是对抗“暴力破解”（本文后续章节会专门聊 PIM 功能）。         ★支持的加密算法和散列算法 
  这方面，VeraCrypt 与 TrueCrypt 大同小异——加密算法一样，散列算法多了一个 SHA-256。  更详细的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》，俺就不浪费口水了。         ★加密盘的认证方式 
  TrueCrypt 原先支持两种认证方式：“密码 ＆ keyfiles”。这两种方式，VeraCrypt 也都支持。相关的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》，俺就不浪费口水了。  另外，VeraCrypt 还新增了一个 PIM 功能。从某种意义上讲，PIM 也可以算是一种认证方式（因为挂载加密盘到时候也需要它）。关于 PIM 功能，本文下面专门用一个章节来详述。         ★创建加密盘 
  跟 TrueCrypt 类似，会出现一个“向导界面”，引导你一步步完成加密盘的创建。开头几步跟 TrueCrypt 类似，俺就不贴图了。  到最后一步，稍微有点不同，俺来聊一下。  以下是向导最后一步的界面，此时你选好文件系统格式之后，直接点击“格式化”按钮。        
  点击之后，你会发现进度条没有动静。因为 VeraCrypt 需要收集到足够多的随机信息，用来创建相关的加密密钥。  此时，你必须在当前这个窗口内，频繁并迅速地移动鼠标（随机移动）。大约四分之一柱香的功夫，就会出现进度条。        
  出现进度条，说明已经开始格式化。格式化完成后，会提示你。        
        ★挂载加密盘 
  挂载加密盘的界面，跟 TrueCrypt 有点小区别——多了两个复选框。  其中一个复选框是“TrueCrypt Mode”——勾选它是为了挂载旧格式（TrueCrypt 格式）的加密盘。         
        
  另一个复选框是“Use PIM”——这个复选框的作用，留到后面的章节介绍。  提醒一下：  VeraCrypt 挂载【新格式】加密盘的时候，你会明显感觉很慢。主要是因为 VeraCrypt 强化了安全性（具体的技术细节后面会提及）。         ★格式转换功能 
  VeraCrypt 不但可以打开旧格式（TrueCrypt 格式）的加密盘，而且可以把旧格式转化为新格式（VeraCrypt 格式）。  转换过程很简单——通过修改认证信息来进行。  也就是说：当你修改了某个旧格式加密盘的密码或者 keyfiles，修改成功之后，该加密盘就变为新格式了。  提醒： 
   该转换是【不可逆】的。也就是说，你无法用 VeraCrypt 把新格式转为旧格式。
           ★PIM 功能 
  现在开始讲 PIM——这是 VeraCrypt 新增的功能，因此俺就多费点口水。  所谓的 PIM 是洋文“Personal Iterations Multiplier”的缩写。通俗地说就是：你可以自定义“加密盘的头部密钥生成时的迭代次数”。这句话比较绕口，要想解释清楚，需要聊相关的技术实现机制（如下）。        ◇技术实现机制 
  （对技术细节【不】感兴趣的同学，就不用看俺的解释了。直接跳到下一节“VeraCrypt 相对 TrueCrypt 的改进”）   
   加密盘格式简介
    不论是新格式还是老格式，加密盘的数据大致可以分为两部分：“头部”和“数据区”。  所谓的“数据区”，存放的就是加密盘中文件系统的数据（通俗地说，就是你放到加密盘中的文件和目录的信息）  所谓的“头部”（header），存放的是加密盘本身的一些信息。刚才提到的“数据区”，其加密的密钥叫“Master Key”（也叫“主密钥、数据区密钥”），这个“Master Key”就是存储在加密盘头部的。此外，像“加密盘格式的版本号”、“是否有隐藏卷”等信息，也是存储在头部的。   
   “Header Key”的生成机制
    头部包含了很多加密盘的关键信息，自然也是要加密的。那么加密头部的密钥从哪里来捏？这个“Header Key”（也叫“首密钥、头部密钥”）是根据你输入的认证信息，来生成的（提醒一下，认证信息有2种：密码 和 keyfile）。  VeraCrypt 采用“PBKDF2 算法”来生成“Header Key”（该算法的具体描述参见“  这里  ”）。  在生成“Header Key”的过程中，会采用你指定的散列算法进行 N 次迭代，以生成一个难以猜测的密钥。这个 N 就是前面所说的“迭代次数”。  每当用户要挂载某个加密盘，软件界面会提示用户输入“密码和 keyfile”。然后根据用户的输入，计算出“Header Key”，然后用这个密钥对加密的头部进行解密（解到内存中）。如果解密成功，就说明用户输入的是对的。反之，则提示用户输入错误。   
   为啥要“迭代 N 次”？
    从上述可以看出：这个“迭代次数”越大，计算头部密钥的时间就越长，因此挂载加密盘的过程就越慢；表面上看，这是一个缺点。但其好处在于：如果某个攻击者想要采用暴力破解的方式对“头部”进行穷举解密，每次一次尝试也需要花很长时间（同样要迭代 N 次）。所以，当 N 足够大，暴力破解就变得【不可行】。   
   “Header Key”与“Master Key”分离的好处
    从上述可以看出，加密盘中存在两种密钥：“Header Key ＆ Master Key”。为啥要搞出两种密钥捏？其中一个好处是为了方便用户修改密码。当用户修改加密盘的密码或 keyfile，只需要“重新加密头部”，数据区不用改动（因为“Master Key”【没有】发生变化）。  对于那些超大的加密盘（TB 级），这个好处非常明显。        ◇VeraCrypt 相对 TrueCrypt 的改进 
  如果你刚才没有看技术细节的解释，直接跳到这里，你只需记住如下结论：  PIM 功能就是用来配置加密盘的某个“迭代次数”的。“迭代次数”越大，暴力破解就越难；同时，挂载加密盘也越慢。   对于原先的 TrueCrypt，它的迭代次数是写死在程序代码中的。而且 TrueCrypt 使用的迭代次数偏小（这是 TrueCrypt 被批评的主要问题之一）。  到了开发 VeraCrypt 的时候，其开发团队把原先默认的迭代次数调大（大约增加了两到三个数量级）。迭代次数调大之后，就显著增加了“暴力破解”的难度。  此外，从 VeraCrypt 1.12 版本开始，在界面上提供了一个功能，允许用户自定义每个加密盘的“迭代次数”——这就是下面要讲的“PIM 的用户界面”。        ◇用户界面 
  VeraCrypt 提供了相关的用户界面，让你可以自定义 PIM 数值的大小。前面说了，PIM 越大，暴力破解越难；但同时，挂载加密盘也越慢。由于不同的用户有不同的需求，所以，VeraCrypt 干脆提供一个界面让你自己设定 PIM 的大小。当然，如果你懒得设置，也可以直接用内置的默认值。   
   创建加密盘时
    VeraCrypt 同样提供了“创建加密盘的向导”。该向导前面5步跟 TrueCrypt 是一样的，俺就略过不提。  下面是创建加密盘的向导界面第6步。如果你想使用 PIM 功能，需要勾选“Use PIM”这个复选框。        
  下面是创建加密盘的向导界面第7步  如果第6步勾选了“Use PIM”，下一步就会让你输入 PIM 数值。 
   这个数值要牢记，其重要性等同于认证信息（密码 和 keyfile）。
    （如果输入 0 或者不填写，则表示——使用默认的 PIM 数值）        
  如果你设置的密码过于简短，那么 VeraCrypt 会强制让你输入一个比较大的 PIM 数值（大于 485）。        
  
   挂载加密盘时
    下面是挂载加密盘的界面。如果你创建加密盘的时候，指定了 PIM 数值，那么在挂载的时候，需要输入【相同的】PIM 数值。 
   如果输入的数值与创建时指定的 PIM 数值不一致，则挂载失败。
    再次罗嗦一下： 
   一旦你在创建加密盘时设置了“PIM 数值”，【千万别忘了】——忘记它的后果就如同忘记密码！
           
        
       ◇“PIM 数值”与“迭代次数”的换算公式 
  （如果你不关心技术细节，这个换算公式你可以不用看）  根据 VeraCrypt 的文档，PIM 根据如下公式换算成迭代次数。  1. 对于“系统加密分区”： 
   迭代次数 = PIM x 2048
    2. 对于“虚拟加密盘”或者“非系统加密分区”： 
   迭代次数 = 15000 + (PIM x 1000)
           ★扩容功能 
  另一个比较显著的新功能是“加密盘扩容”。原先的 TrueCrypt【没有】扩容功能——如果你的加密盘，空间不够了，你不得不重新创建一个更大的加密盘，然后把原先加密盘的文件拷贝到新加密盘（步骤繁琐）。  如今有了这个扩容功能，你可以直接扩大原有加密盘的容量。 
   前提是：文件系统必须是 NTFS。
    下面给出扩充操作的系列截图（共8张），描述文字都标注在截图中了。         
        
        
        
        
        
        
        
        ★如何防范加密盘被破解？ 
  下面这篇博文，其实已经包含在本文开头列出的 TrueCrypt 教程中。   TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施   因为这篇的内容比较重要，俺再次唠叨一下： 
   如果你对安全性的要求很高，一定要把上述这篇仔细看完。
           ★结尾 
  俺写这篇博文时，VeraCrypt 最新的是 1.16 版本。本文的截图就是根据这个版本制作的。  从截图中可以看出，某些界面还未彻底汉化。今后如果继续汉化，新版本的界面可能与本文的截图会略有不同。  另外，VeraCrypt 的开发比较活跃，今后多半还会增加新的功能。到时候俺会补充到这篇博文中。  大伙儿如果有啥疑问，欢迎到俺博客留言。    
   俺博客上，和本文相关的帖子（需翻墙）
   ：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》  《  分析一下 TrueCrypt 之死（自杀 or 他杀？）——兼谈应对措施  》  《  文件加密的扫盲介绍  》  《  文件备份技巧：组合“虚拟加密盘”与“网盘”  》  《  如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧  》  《  扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt）  》  《  扫盲 Linux 逻辑卷管理（LVM）——兼谈 RAID 以及“磁盘加密工具的整合”  》     

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2015/10/VeraCrypt.html 
    
    
  
  
    
         
    
    
    
 
    
  

" />
    
    <meta name="author" content="觀點" />

    
    <meta property="og:title" content="扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品" />
    <meta property="twitter:title" content="扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品" />
    

  <link rel="stylesheet" type="text/css" href="/opinion/style.css" />
  <link rel="alternate" type="application/rss+xml" title="觀點 - 從草根到大師 git.io/JJCxS" href="/opinion/feed.xml" />

  <!-- Social Share Kit CSS -->
  <link rel="stylesheet" href="/opinion/assets/css/social-share-kit.css" type="text/css">
  <link rel="stylesheet" href="/opinion/assets/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/opinion/assets/css/bootstrap.min.css" type="text/css">
  <script type="text/javascript" src="/opinion/assets/js/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="/opinion/assets/js/page.js"></script>

</head>

  <body>
    <div class="wrapper-masthead">
  <div class="container">
    <header class="masthead clearfix">
      

      <div class="site-info">
        <h1 class="site-name" style="display: inline-block;"><a href="/opinion/">觀點</a></h1>
        <i class="site-description" style="font-size: 12px;">從草根到大師 git.io/JJCxS</i>
      </div>

      <nav>
        <span id="search-container" >
          <a href="/opinion/tools"><i class="fa fa-bookmark twitter" title="百宝箱"></i></a>
        <a><i class="fa fa-search" title="限前100結果"></i></a><input type="text" id="search-input" placeholder="標題 作者 來源 日期 (17489)"
          style="margin: 10px 0px 0px 0px; height: 30px;width: auto" title="本站最正確的打開方式">
        </span>
        
        
        <a href="/opinion/categories" style="color: Tomato;"><i class="fa fa-tags" title="分类"></i></a>
        
        
        
        <a href="https://be4.herokuapp.com/" style="color: #003366;"><i class="fa fa-comments" title="论坛"></i></a>
        
        
        
        <a href="/opinion/about"><i class="fa fa-info-circle" title="关于"></i></a>
        
        
        <a title="电脑热键：&larr;上一篇(页), &rarr;下一篇(页), ins同来源新一篇，del同来源旧一篇" onclick="toggle_visibility('help')"><i class="fa fa-question-circle"></i></a>
        <a id="fa-home" href="https://nodebe4.github.io" title="BE4服务列表" onclick="//toggle_visibility('site-list')"><i class="fa fa-home" aria-hidden="true"></i></a>
      </nav>

    </header>
    <div id="site-list" class="tags" style="display: block;text-align: right;border-bottom: 1px solid lightGray;"><noscript><span style="background-color: #e8e8e8;color: #d10000;font-size: 14px;">开启浏览器JavaScript以获取搜索功能和更好的浏览体验</span></noscript></div>
    <p id="help" style="font-size: 14px;display: none;text-align: right;"><span style="color:green;">电脑热键：&larr;上一篇(页), &rarr;下一篇(页), ins同来源新一篇, del同来源旧一篇</span>; <span style="color:orange">对应触屏FAB：上下右左</span>; 轉Markdown<a href="https://euangoddard.github.io/clipboard2markdown/"><i class="fa fa-file-text-o"></i></a></p>
  </div>
</div>

<script type="text/javascript" >
  function toggle_visibility(id){
    var help = document.getElementById(id)
    if (help.style.display=='none'){
      help.style.display='block';
    }else{
      help.style.display='none';
    }
  }

  const url = "https://nodebe4.github.io/sitelist.json"

  document.addEventListener("DOMContentLoaded", function(event){
    // var homebtn = document.getElementById("fa-home")
    // homebtn.removeAttribute("href")
    var content = document.getElementById("site-list");
    content.innerHTML = ''
    var ul = document.createElement("ul")
    ul.classList.add("label")
    content.appendChild(ul)
    var cnt = 0

    $.getJSON(url, function(allsites) {

      allsites.map(item =>{
        var li = document.createElement('li')
        li.classList.add("tag")
        li.id = 'site-' + cnt
        ul.appendChild(li)
        var a0 = document.createElement('a')
        li.appendChild(a0)
        a0.href = item.url[0]
        var span = document.createElement('span')
        a0.appendChild(span)
        span.innerText = item['name']
        // span.style.backgroundColor = item['background-color']
        // span.style.color='#E4CBC3'
        span.style.color = item['background-color']
        span.style['font-size'] = '14px'
        cnt += 1
        // test_alive(li.id, a0.href)
      })
    })
  })

function test_alive(id, url){
  var divstatus = document.getElementById(id)
  const base = 'https://textance.herokuapp.com/title/'
  var fullurl = base + url
  $.ajax({
      url: fullurl,
      complete: function(data) {
        if (data.responseText.includes('502')){
          // divstatus.style.color='#FBB7B7'
          // divstatus.style.color='gray'
          // divstatus.title = "服务器无响应"
          divstatus.parentNode.removeChild(divstatus)
        }else{
          // divstatus.style.color='#B6FAC8'
          divstatus.title = data.responseText
        }
      }
  });
  return divstatus
}
</script>



    <!-- Left & centered positioning -->

<div class="ssk-sticky ssk-right ssk-center ssk-sticky-hide-xs ssk-group ssk-round">
  
    <a href="https://be4news.pythonanywhere.com/archivenow/ia/https%3A%2F%2Fprogram-think.blogspot.com%2F2015%2F10%2FVeraCrypt.html" class="ssk ssk-link" title="存到互联网档案馆" target="_blank"></a>
    <a href="https://www.facebook.com/sharer.php?u=https://program-think.blogspot.com/2015/10/VeraCrypt.html" class="ssk ssk-facebook"></a>
    <a href="https://twitter.com/intent/tweet?url=https://program-think.blogspot.com/2015/10/VeraCrypt.html&text=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品&hashtags=觀點" class="ssk ssk-twitter"></a>
    <a href="https://reddit.com/submit?url=https://program-think.blogspot.com/2015/10/VeraCrypt.html&title=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品" class="ssk ssk-reddit"></a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://program-think.blogspot.com/2015/10/VeraCrypt.html&title=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品" class="ssk ssk-linkedin"></a>
    <a href="mailto:{email_address}?subject=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品&body=

      扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品  
  
    
      
    
  
  
这个长假前后出了不少新闻，除了“连环爆炸、TPP、诺贝尔医学奖”，还有一个信息安全方面的新闻——TrueCrypt 被发现存在高危的安全漏洞。这些新闻中，TPP 的影响最大，但不是很紧迫。所以俺先发一篇博文聊聊 TrueCrypt 的替代品（这事儿比较紧急）。        ★引子 
       ◇为啥到现在才介绍 TrueCrypt 的替代品 
  当年（2014）TrueCrypt 死亡的时候，俺发过一篇《  分析一下 TrueCrypt 之死（自杀 or 他杀？），介绍一下应对措施  》。当时俺提到：      
因为 TC 的源代码是公开的，任何人都可以拿它的代码克隆出一个新的磁盘加密工具。所以官网变脸之后，已经陆续出现了几个克隆（代码 fork）。假以时日，或许其中的某个克隆会再次成为主流。如果真这样的话，TC 就涅磐重生了。  提醒一下：如果你对安全性的要求比较高，短期内（至少1年之内）不要急着去用这些克隆的 TrueCrypt（这些克隆需要一定的时间才能成熟、稳定）。    
 从“TrueCrypt 死亡”到现在已经过了大约一年半，再加上 TrueCrypt 又曝了高危安全漏洞。所以俺估摸着：是时候写一篇【扫盲教程】来介绍 TrueCrypt 的替代品了。  
       
        ◇先说说 TrueCrypt 的安全漏洞 
  这次的安全漏洞由 Google 的安全研究人员（James Forshaw）发现。共有2个漏洞（漏洞编号：CVE-2015-7358、CVE-2015-7359），影响的是 Windows 平台，Linux 和 Mac OS X【不受影响】。  （因为该漏洞只影响 Windows 平台，这说明该漏洞与“加密盘格式”【无关】）  对技术感兴趣的同学，可以到“  这里  ”和“  这里  ”看这2个漏洞的详细描述。  顺便表扬一下 Google 的安全研究团队，确实有两下子。之前大名鼎鼎的“  Heartbleed 漏洞  ”也是 Google 安全研究团队曝光的。  俺选择 Blogspot 作为博客平台，就是考虑到 Google 在安全方面的实力；  与之对比，WordPress 虽然功能很牛，市场份额排名第一，但是经常曝出安全漏洞，不适合俺这种政治危险分子。         ★关于 VeraCrypt 
        
  VeraCrypt 是从 TrueCrypt 派生出来的开源项目，成立于2013年6月。其官网在  https://www.veracrypt.fr/   它刚成立那会儿，TrueCrypt 尚未死亡，所以 VeraCrypt 没有吸引太多的注意力。TrueCrypt 死亡之后，VeraCrypt 的使用量开始多起来。  此次曝光了高危漏洞之后，VeraCrypt 很快就在8天之后（9月26日）发布了 1.15 版本，修复了该漏洞。此举令其曝光率大增。  俺之所以首先推荐 VeraCrypt，除了此次修复漏洞及时，还有一个原因——其它替代品要么质量不如 VeraCrypt 成熟，要么功能不如 VeraCrypt 完备。  比如另一个名气比较大的替代品是  CipherShed  ，目前还停留在“Pre-Alpha”阶段——也就是说，连“Beta 品质”都没有达到。         ★如何获取 VeraCrypt？ 
  建议直接从  官网下载  ，【不要】从其它第三方的软件网站下载（大伙儿要吸取“  XcodeGhost 事件  ”的教训）。  目前 VeraCrypt 支持三大桌面操作系统，具体如下：  Windows（WinXP 或之后的版本，包括新出的 Windows 10）  Linux（内核主版本号大于等于 2.6）  Mac OS X（版本号大于等于 10.6）  对于 Windows 用户，下载的 exe 安装包自带数字签名（如何校验数字签名，请看  这篇博文  ）。另外，其官网还附上了不同平台安装包的“SHA 散列校验值”和“PGP 签名”。如果你下载的是 Linux 或 Mac OS X 的安装包，下载完之后，也请校验一下，以防万一。         ★如何安装 VeraCrypt？ 
  （考虑到大部分读者是 Windows 用户，为了节省口水， 
   本文后续章节只聊 Windows 下的 VeraCrypt。使用其它平台的同学，请依样画葫芦
   ）  安装前，先确保当前用户具有“管理员权限”。  双击下载好的安装包（就是那个 exe 文件），然后一路点 next 就可以了。         ★VeraCrypt 功能概述 
  下面开始聊功能，这是本文的重点，看仔细喽。  前面说了，VeraCrypt 是从 TrueCrypt 衍生出来的。所以其功能与 TrueCrypt 非常类似。关于 TrueCrypt 的功能介绍，俺已经写过一系列的傻瓜教程，包括如下：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》   （ 
   如果你之前【没有】使用过 TrueCrypt，强烈建议你先看完上述这几篇扫盲教程
   ）  为了打字省力，那些与 TrueCrypt 类似的功能，俺就【不】介绍了。下面俺只聊 VeraCrypt 的【新增功能】。         ★设置界面语言 
  考虑到某些网友是洋文菜鸟，先说一下如何配置界面的语言。  如果你打开 VeraCrypt 之后，界面是英文，先到主菜单中点击“Settings”，然后再点击“Language”菜单项，就会弹出一个选择语言的对话框，你把列表框的滚动条拉到底部，就会看到“简体中文”和“繁體中文”。具体截图如下：        
 （之所以出现2个“繁體中文”，是分别对应“港/台”）   选完中文之后，界面变为如下：        
        ★支持的加密盘格式 
  VeraCrypt 支持两种加密盘的格式，其中一种就是原先 TrueCrypt 使用的格式，另一种是 VeraCrypt 自己新创的格式。因此，如果你手头有原先 TrueCrypt 创建的加密盘，也可以用 VeraCrypt 直接挂载（mount）。  这两种格式的【唯一差异】在于——VeraCrypt 的新格式支持 PIM 功能（关于此功能，待会儿介绍）。   为了防止混淆，再唠叨一下关于加密盘的类型（“类型”与“格式”是两个概念，别混淆了）。  TrueCrypt 支持两种类型的加密盘——物理加密盘（加密分区、全盘加密）和虚拟加密盘（卷文件）；VeraCrypt 也支持这两种类型。  所以，排列组合之后，VeraCrypt 共支持如下4种：  旧格式（TrueCrypt 格式）的虚拟加密盘  旧格式（TrueCrypt 格式）的物理加密盘  新格式（VeraCrypt 格式）的虚拟加密盘  新格式（VeraCrypt 格式）的物理加密盘   当你使用旧格式（TrueCrypt 格式）的加密盘，其操作方式与原先的 TrueCrypt 基本一样。  当你使用新格式（VeraCrypt 格式）的加密盘，你可以配置 PIM 参数，也可以不配置（此时用的是默认值）。这个 PIM 参数有助于提升加密盘的安全性——主要是对抗“暴力破解”（本文后续章节会专门聊 PIM 功能）。         ★支持的加密算法和散列算法 
  这方面，VeraCrypt 与 TrueCrypt 大同小异——加密算法一样，散列算法多了一个 SHA-256。  更详细的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》，俺就不浪费口水了。         ★加密盘的认证方式 
  TrueCrypt 原先支持两种认证方式：“密码 ＆ keyfiles”。这两种方式，VeraCrypt 也都支持。相关的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》，俺就不浪费口水了。  另外，VeraCrypt 还新增了一个 PIM 功能。从某种意义上讲，PIM 也可以算是一种认证方式（因为挂载加密盘到时候也需要它）。关于 PIM 功能，本文下面专门用一个章节来详述。         ★创建加密盘 
  跟 TrueCrypt 类似，会出现一个“向导界面”，引导你一步步完成加密盘的创建。开头几步跟 TrueCrypt 类似，俺就不贴图了。  到最后一步，稍微有点不同，俺来聊一下。  以下是向导最后一步的界面，此时你选好文件系统格式之后，直接点击“格式化”按钮。        
  点击之后，你会发现进度条没有动静。因为 VeraCrypt 需要收集到足够多的随机信息，用来创建相关的加密密钥。  此时，你必须在当前这个窗口内，频繁并迅速地移动鼠标（随机移动）。大约四分之一柱香的功夫，就会出现进度条。        
  出现进度条，说明已经开始格式化。格式化完成后，会提示你。        
        ★挂载加密盘 
  挂载加密盘的界面，跟 TrueCrypt 有点小区别——多了两个复选框。  其中一个复选框是“TrueCrypt Mode”——勾选它是为了挂载旧格式（TrueCrypt 格式）的加密盘。         
        
  另一个复选框是“Use PIM”——这个复选框的作用，留到后面的章节介绍。  提醒一下：  VeraCrypt 挂载【新格式】加密盘的时候，你会明显感觉很慢。主要是因为 VeraCrypt 强化了安全性（具体的技术细节后面会提及）。         ★格式转换功能 
  VeraCrypt 不但可以打开旧格式（TrueCrypt 格式）的加密盘，而且可以把旧格式转化为新格式（VeraCrypt 格式）。  转换过程很简单——通过修改认证信息来进行。  也就是说：当你修改了某个旧格式加密盘的密码或者 keyfiles，修改成功之后，该加密盘就变为新格式了。  提醒： 
   该转换是【不可逆】的。也就是说，你无法用 VeraCrypt 把新格式转为旧格式。
           ★PIM 功能 
  现在开始讲 PIM——这是 VeraCrypt 新增的功能，因此俺就多费点口水。  所谓的 PIM 是洋文“Personal Iterations Multiplier”的缩写。通俗地说就是：你可以自定义“加密盘的头部密钥生成时的迭代次数”。这句话比较绕口，要想解释清楚，需要聊相关的技术实现机制（如下）。        ◇技术实现机制 
  （对技术细节【不】感兴趣的同学，就不用看俺的解释了。直接跳到下一节“VeraCrypt 相对 TrueCrypt 的改进”）   
   加密盘格式简介
    不论是新格式还是老格式，加密盘的数据大致可以分为两部分：“头部”和“数据区”。  所谓的“数据区”，存放的就是加密盘中文件系统的数据（通俗地说，就是你放到加密盘中的文件和目录的信息）  所谓的“头部”（header），存放的是加密盘本身的一些信息。刚才提到的“数据区”，其加密的密钥叫“Master Key”（也叫“主密钥、数据区密钥”），这个“Master Key”就是存储在加密盘头部的。此外，像“加密盘格式的版本号”、“是否有隐藏卷”等信息，也是存储在头部的。   
   “Header Key”的生成机制
    头部包含了很多加密盘的关键信息，自然也是要加密的。那么加密头部的密钥从哪里来捏？这个“Header Key”（也叫“首密钥、头部密钥”）是根据你输入的认证信息，来生成的（提醒一下，认证信息有2种：密码 和 keyfile）。  VeraCrypt 采用“PBKDF2 算法”来生成“Header Key”（该算法的具体描述参见“  这里  ”）。  在生成“Header Key”的过程中，会采用你指定的散列算法进行 N 次迭代，以生成一个难以猜测的密钥。这个 N 就是前面所说的“迭代次数”。  每当用户要挂载某个加密盘，软件界面会提示用户输入“密码和 keyfile”。然后根据用户的输入，计算出“Header Key”，然后用这个密钥对加密的头部进行解密（解到内存中）。如果解密成功，就说明用户输入的是对的。反之，则提示用户输入错误。   
   为啥要“迭代 N 次”？
    从上述可以看出：这个“迭代次数”越大，计算头部密钥的时间就越长，因此挂载加密盘的过程就越慢；表面上看，这是一个缺点。但其好处在于：如果某个攻击者想要采用暴力破解的方式对“头部”进行穷举解密，每次一次尝试也需要花很长时间（同样要迭代 N 次）。所以，当 N 足够大，暴力破解就变得【不可行】。   
   “Header Key”与“Master Key”分离的好处
    从上述可以看出，加密盘中存在两种密钥：“Header Key ＆ Master Key”。为啥要搞出两种密钥捏？其中一个好处是为了方便用户修改密码。当用户修改加密盘的密码或 keyfile，只需要“重新加密头部”，数据区不用改动（因为“Master Key”【没有】发生变化）。  对于那些超大的加密盘（TB 级），这个好处非常明显。        ◇VeraCrypt 相对 TrueCrypt 的改进 
  如果你刚才没有看技术细节的解释，直接跳到这里，你只需记住如下结论：  PIM 功能就是用来配置加密盘的某个“迭代次数”的。“迭代次数”越大，暴力破解就越难；同时，挂载加密盘也越慢。   对于原先的 TrueCrypt，它的迭代次数是写死在程序代码中的。而且 TrueCrypt 使用的迭代次数偏小（这是 TrueCrypt 被批评的主要问题之一）。  到了开发 VeraCrypt 的时候，其开发团队把原先默认的迭代次数调大（大约增加了两到三个数量级）。迭代次数调大之后，就显著增加了“暴力破解”的难度。  此外，从 VeraCrypt 1.12 版本开始，在界面上提供了一个功能，允许用户自定义每个加密盘的“迭代次数”——这就是下面要讲的“PIM 的用户界面”。        ◇用户界面 
  VeraCrypt 提供了相关的用户界面，让你可以自定义 PIM 数值的大小。前面说了，PIM 越大，暴力破解越难；但同时，挂载加密盘也越慢。由于不同的用户有不同的需求，所以，VeraCrypt 干脆提供一个界面让你自己设定 PIM 的大小。当然，如果你懒得设置，也可以直接用内置的默认值。   
   创建加密盘时
    VeraCrypt 同样提供了“创建加密盘的向导”。该向导前面5步跟 TrueCrypt 是一样的，俺就略过不提。  下面是创建加密盘的向导界面第6步。如果你想使用 PIM 功能，需要勾选“Use PIM”这个复选框。        
  下面是创建加密盘的向导界面第7步  如果第6步勾选了“Use PIM”，下一步就会让你输入 PIM 数值。 
   这个数值要牢记，其重要性等同于认证信息（密码 和 keyfile）。
    （如果输入 0 或者不填写，则表示——使用默认的 PIM 数值）        
  如果你设置的密码过于简短，那么 VeraCrypt 会强制让你输入一个比较大的 PIM 数值（大于 485）。        
  
   挂载加密盘时
    下面是挂载加密盘的界面。如果你创建加密盘的时候，指定了 PIM 数值，那么在挂载的时候，需要输入【相同的】PIM 数值。 
   如果输入的数值与创建时指定的 PIM 数值不一致，则挂载失败。
    再次罗嗦一下： 
   一旦你在创建加密盘时设置了“PIM 数值”，【千万别忘了】——忘记它的后果就如同忘记密码！
           
        
       ◇“PIM 数值”与“迭代次数”的换算公式 
  （如果你不关心技术细节，这个换算公式你可以不用看）  根据 VeraCrypt 的文档，PIM 根据如下公式换算成迭代次数。  1. 对于“系统加密分区”： 
   迭代次数 = PIM x 2048
    2. 对于“虚拟加密盘”或者“非系统加密分区”： 
   迭代次数 = 15000 + (PIM x 1000)
           ★扩容功能 
  另一个比较显著的新功能是“加密盘扩容”。原先的 TrueCrypt【没有】扩容功能——如果你的加密盘，空间不够了，你不得不重新创建一个更大的加密盘，然后把原先加密盘的文件拷贝到新加密盘（步骤繁琐）。  如今有了这个扩容功能，你可以直接扩大原有加密盘的容量。 
   前提是：文件系统必须是 NTFS。
    下面给出扩充操作的系列截图（共8张），描述文字都标注在截图中了。         
        
        
        
        
        
        
        
        ★如何防范加密盘被破解？ 
  下面这篇博文，其实已经包含在本文开头列出的 TrueCrypt 教程中。   TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施   因为这篇的内容比较重要，俺再次唠叨一下： 
   如果你对安全性的要求很高，一定要把上述这篇仔细看完。
           ★结尾 
  俺写这篇博文时，VeraCrypt 最新的是 1.16 版本。本文的截图就是根据这个版本制作的。  从截图中可以看出，某些界面还未彻底汉化。今后如果继续汉化，新版本的界面可能与本文的截图会略有不同。  另外，VeraCrypt 的开发比较活跃，今后多半还会增加新的功能。到时候俺会补充到这篇博文中。  大伙儿如果有啥疑问，欢迎到俺博客留言。    
   俺博客上，和本文相关的帖子（需翻墙）
   ：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》  《  分析一下 TrueCrypt 之死（自杀 or 他杀？）——兼谈应对措施  》  《  文件加密的扫盲介绍  》  《  文件备份技巧：组合“虚拟加密盘”与“网盘”  》  《  如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧  》  《  扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt）  》  《  扫盲 Linux 逻辑卷管理（LVM）——兼谈 RAID 以及“磁盘加密工具的整合”  》     

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2015/10/VeraCrypt.html 
    
    
  
  
    
         
    
    
    
 
    
  

" class="ssk ssk-email"></a>
    <a href="http://pinterest.com/pin/create/link/?url=https://program-think.blogspot.com/2015/10/VeraCrypt.html" class="ssk ssk-pinterest"></a>
    <a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https://program-think.blogspot.com/2015/10/VeraCrypt.html&title=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品&caption=

      扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品  
  
    
      
    
  
  
这个长假前后出了不少新闻，除了“连环爆炸、TPP、诺贝尔医学奖”，还有一个信息安全方面的新闻——TrueCrypt 被发现存在高危的安全漏洞。这些新闻中，TPP 的影响最大，但不是很紧迫。所以俺先发一篇博文聊聊 TrueCrypt 的替代品（这事儿比较紧急）。        ★引子 
       ◇为啥到现在才介绍 TrueCrypt 的替代品 
  当年（2014）TrueCrypt 死亡的时候，俺发过一篇《  分析一下 TrueCrypt 之死（自杀 or 他杀？），介绍一下应对措施  》。当时俺提到：      
因为 TC 的源代码是公开的，任何人都可以拿它的代码克隆出一个新的磁盘加密工具。所以官网变脸之后，已经陆续出现了几个克隆（代码 fork）。假以时日，或许其中的某个克隆会再次成为主流。如果真这样的话，TC 就涅磐重生了。  提醒一下：如果你对安全性的要求比较高，短期内（至少1年之内）不要急着去用这些克隆的 TrueCrypt（这些克隆需要一定的时间才能成熟、稳定）。    
 从“TrueCrypt 死亡”到现在已经过了大约一年半，再加上 TrueCrypt 又曝了高危安全漏洞。所以俺估摸着：是时候写一篇【扫盲教程】来介绍 TrueCrypt 的替代品了。  
       
        ◇先说说 TrueCrypt 的安全漏洞 
  这次的安全漏洞由 Google 的安全研究人员（James Forshaw）发现。共有2个漏洞（漏洞编号：CVE-2015-7358、CVE-2015-7359），影响的是 Windows 平台，Linux 和 Mac OS X【不受影响】。  （因为该漏洞只影响 Windows 平台，这说明该漏洞与“加密盘格式”【无关】）  对技术感兴趣的同学，可以到“  这里  ”和“  这里  ”看这2个漏洞的详细描述。  顺便表扬一下 Google 的安全研究团队，确实有两下子。之前大名鼎鼎的“  Heartbleed 漏洞  ”也是 Google 安全研究团队曝光的。  俺选择 Blogspot 作为博客平台，就是考虑到 Google 在安全方面的实力；  与之对比，WordPress 虽然功能很牛，市场份额排名第一，但是经常曝出安全漏洞，不适合俺这种政治危险分子。         ★关于 VeraCrypt 
        
  VeraCrypt 是从 TrueCrypt 派生出来的开源项目，成立于2013年6月。其官网在  https://www.veracrypt.fr/   它刚成立那会儿，TrueCrypt 尚未死亡，所以 VeraCrypt 没有吸引太多的注意力。TrueCrypt 死亡之后，VeraCrypt 的使用量开始多起来。  此次曝光了高危漏洞之后，VeraCrypt 很快就在8天之后（9月26日）发布了 1.15 版本，修复了该漏洞。此举令其曝光率大增。  俺之所以首先推荐 VeraCrypt，除了此次修复漏洞及时，还有一个原因——其它替代品要么质量不如 VeraCrypt 成熟，要么功能不如 VeraCrypt 完备。  比如另一个名气比较大的替代品是  CipherShed  ，目前还停留在“Pre-Alpha”阶段——也就是说，连“Beta 品质”都没有达到。         ★如何获取 VeraCrypt？ 
  建议直接从  官网下载  ，【不要】从其它第三方的软件网站下载（大伙儿要吸取“  XcodeGhost 事件  ”的教训）。  目前 VeraCrypt 支持三大桌面操作系统，具体如下：  Windows（WinXP 或之后的版本，包括新出的 Windows 10）  Linux（内核主版本号大于等于 2.6）  Mac OS X（版本号大于等于 10.6）  对于 Windows 用户，下载的 exe 安装包自带数字签名（如何校验数字签名，请看  这篇博文  ）。另外，其官网还附上了不同平台安装包的“SHA 散列校验值”和“PGP 签名”。如果你下载的是 Linux 或 Mac OS X 的安装包，下载完之后，也请校验一下，以防万一。         ★如何安装 VeraCrypt？ 
  （考虑到大部分读者是 Windows 用户，为了节省口水， 
   本文后续章节只聊 Windows 下的 VeraCrypt。使用其它平台的同学，请依样画葫芦
   ）  安装前，先确保当前用户具有“管理员权限”。  双击下载好的安装包（就是那个 exe 文件），然后一路点 next 就可以了。         ★VeraCrypt 功能概述 
  下面开始聊功能，这是本文的重点，看仔细喽。  前面说了，VeraCrypt 是从 TrueCrypt 衍生出来的。所以其功能与 TrueCrypt 非常类似。关于 TrueCrypt 的功能介绍，俺已经写过一系列的傻瓜教程，包括如下：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》   （ 
   如果你之前【没有】使用过 TrueCrypt，强烈建议你先看完上述这几篇扫盲教程
   ）  为了打字省力，那些与 TrueCrypt 类似的功能，俺就【不】介绍了。下面俺只聊 VeraCrypt 的【新增功能】。         ★设置界面语言 
  考虑到某些网友是洋文菜鸟，先说一下如何配置界面的语言。  如果你打开 VeraCrypt 之后，界面是英文，先到主菜单中点击“Settings”，然后再点击“Language”菜单项，就会弹出一个选择语言的对话框，你把列表框的滚动条拉到底部，就会看到“简体中文”和“繁體中文”。具体截图如下：        
 （之所以出现2个“繁體中文”，是分别对应“港/台”）   选完中文之后，界面变为如下：        
        ★支持的加密盘格式 
  VeraCrypt 支持两种加密盘的格式，其中一种就是原先 TrueCrypt 使用的格式，另一种是 VeraCrypt 自己新创的格式。因此，如果你手头有原先 TrueCrypt 创建的加密盘，也可以用 VeraCrypt 直接挂载（mount）。  这两种格式的【唯一差异】在于——VeraCrypt 的新格式支持 PIM 功能（关于此功能，待会儿介绍）。   为了防止混淆，再唠叨一下关于加密盘的类型（“类型”与“格式”是两个概念，别混淆了）。  TrueCrypt 支持两种类型的加密盘——物理加密盘（加密分区、全盘加密）和虚拟加密盘（卷文件）；VeraCrypt 也支持这两种类型。  所以，排列组合之后，VeraCrypt 共支持如下4种：  旧格式（TrueCrypt 格式）的虚拟加密盘  旧格式（TrueCrypt 格式）的物理加密盘  新格式（VeraCrypt 格式）的虚拟加密盘  新格式（VeraCrypt 格式）的物理加密盘   当你使用旧格式（TrueCrypt 格式）的加密盘，其操作方式与原先的 TrueCrypt 基本一样。  当你使用新格式（VeraCrypt 格式）的加密盘，你可以配置 PIM 参数，也可以不配置（此时用的是默认值）。这个 PIM 参数有助于提升加密盘的安全性——主要是对抗“暴力破解”（本文后续章节会专门聊 PIM 功能）。         ★支持的加密算法和散列算法 
  这方面，VeraCrypt 与 TrueCrypt 大同小异——加密算法一样，散列算法多了一个 SHA-256。  更详细的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》，俺就不浪费口水了。         ★加密盘的认证方式 
  TrueCrypt 原先支持两种认证方式：“密码 ＆ keyfiles”。这两种方式，VeraCrypt 也都支持。相关的介绍，请大伙儿自行翻阅前些年的博文《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》，俺就不浪费口水了。  另外，VeraCrypt 还新增了一个 PIM 功能。从某种意义上讲，PIM 也可以算是一种认证方式（因为挂载加密盘到时候也需要它）。关于 PIM 功能，本文下面专门用一个章节来详述。         ★创建加密盘 
  跟 TrueCrypt 类似，会出现一个“向导界面”，引导你一步步完成加密盘的创建。开头几步跟 TrueCrypt 类似，俺就不贴图了。  到最后一步，稍微有点不同，俺来聊一下。  以下是向导最后一步的界面，此时你选好文件系统格式之后，直接点击“格式化”按钮。        
  点击之后，你会发现进度条没有动静。因为 VeraCrypt 需要收集到足够多的随机信息，用来创建相关的加密密钥。  此时，你必须在当前这个窗口内，频繁并迅速地移动鼠标（随机移动）。大约四分之一柱香的功夫，就会出现进度条。        
  出现进度条，说明已经开始格式化。格式化完成后，会提示你。        
        ★挂载加密盘 
  挂载加密盘的界面，跟 TrueCrypt 有点小区别——多了两个复选框。  其中一个复选框是“TrueCrypt Mode”——勾选它是为了挂载旧格式（TrueCrypt 格式）的加密盘。         
        
  另一个复选框是“Use PIM”——这个复选框的作用，留到后面的章节介绍。  提醒一下：  VeraCrypt 挂载【新格式】加密盘的时候，你会明显感觉很慢。主要是因为 VeraCrypt 强化了安全性（具体的技术细节后面会提及）。         ★格式转换功能 
  VeraCrypt 不但可以打开旧格式（TrueCrypt 格式）的加密盘，而且可以把旧格式转化为新格式（VeraCrypt 格式）。  转换过程很简单——通过修改认证信息来进行。  也就是说：当你修改了某个旧格式加密盘的密码或者 keyfiles，修改成功之后，该加密盘就变为新格式了。  提醒： 
   该转换是【不可逆】的。也就是说，你无法用 VeraCrypt 把新格式转为旧格式。
           ★PIM 功能 
  现在开始讲 PIM——这是 VeraCrypt 新增的功能，因此俺就多费点口水。  所谓的 PIM 是洋文“Personal Iterations Multiplier”的缩写。通俗地说就是：你可以自定义“加密盘的头部密钥生成时的迭代次数”。这句话比较绕口，要想解释清楚，需要聊相关的技术实现机制（如下）。        ◇技术实现机制 
  （对技术细节【不】感兴趣的同学，就不用看俺的解释了。直接跳到下一节“VeraCrypt 相对 TrueCrypt 的改进”）   
   加密盘格式简介
    不论是新格式还是老格式，加密盘的数据大致可以分为两部分：“头部”和“数据区”。  所谓的“数据区”，存放的就是加密盘中文件系统的数据（通俗地说，就是你放到加密盘中的文件和目录的信息）  所谓的“头部”（header），存放的是加密盘本身的一些信息。刚才提到的“数据区”，其加密的密钥叫“Master Key”（也叫“主密钥、数据区密钥”），这个“Master Key”就是存储在加密盘头部的。此外，像“加密盘格式的版本号”、“是否有隐藏卷”等信息，也是存储在头部的。   
   “Header Key”的生成机制
    头部包含了很多加密盘的关键信息，自然也是要加密的。那么加密头部的密钥从哪里来捏？这个“Header Key”（也叫“首密钥、头部密钥”）是根据你输入的认证信息，来生成的（提醒一下，认证信息有2种：密码 和 keyfile）。  VeraCrypt 采用“PBKDF2 算法”来生成“Header Key”（该算法的具体描述参见“  这里  ”）。  在生成“Header Key”的过程中，会采用你指定的散列算法进行 N 次迭代，以生成一个难以猜测的密钥。这个 N 就是前面所说的“迭代次数”。  每当用户要挂载某个加密盘，软件界面会提示用户输入“密码和 keyfile”。然后根据用户的输入，计算出“Header Key”，然后用这个密钥对加密的头部进行解密（解到内存中）。如果解密成功，就说明用户输入的是对的。反之，则提示用户输入错误。   
   为啥要“迭代 N 次”？
    从上述可以看出：这个“迭代次数”越大，计算头部密钥的时间就越长，因此挂载加密盘的过程就越慢；表面上看，这是一个缺点。但其好处在于：如果某个攻击者想要采用暴力破解的方式对“头部”进行穷举解密，每次一次尝试也需要花很长时间（同样要迭代 N 次）。所以，当 N 足够大，暴力破解就变得【不可行】。   
   “Header Key”与“Master Key”分离的好处
    从上述可以看出，加密盘中存在两种密钥：“Header Key ＆ Master Key”。为啥要搞出两种密钥捏？其中一个好处是为了方便用户修改密码。当用户修改加密盘的密码或 keyfile，只需要“重新加密头部”，数据区不用改动（因为“Master Key”【没有】发生变化）。  对于那些超大的加密盘（TB 级），这个好处非常明显。        ◇VeraCrypt 相对 TrueCrypt 的改进 
  如果你刚才没有看技术细节的解释，直接跳到这里，你只需记住如下结论：  PIM 功能就是用来配置加密盘的某个“迭代次数”的。“迭代次数”越大，暴力破解就越难；同时，挂载加密盘也越慢。   对于原先的 TrueCrypt，它的迭代次数是写死在程序代码中的。而且 TrueCrypt 使用的迭代次数偏小（这是 TrueCrypt 被批评的主要问题之一）。  到了开发 VeraCrypt 的时候，其开发团队把原先默认的迭代次数调大（大约增加了两到三个数量级）。迭代次数调大之后，就显著增加了“暴力破解”的难度。  此外，从 VeraCrypt 1.12 版本开始，在界面上提供了一个功能，允许用户自定义每个加密盘的“迭代次数”——这就是下面要讲的“PIM 的用户界面”。        ◇用户界面 
  VeraCrypt 提供了相关的用户界面，让你可以自定义 PIM 数值的大小。前面说了，PIM 越大，暴力破解越难；但同时，挂载加密盘也越慢。由于不同的用户有不同的需求，所以，VeraCrypt 干脆提供一个界面让你自己设定 PIM 的大小。当然，如果你懒得设置，也可以直接用内置的默认值。   
   创建加密盘时
    VeraCrypt 同样提供了“创建加密盘的向导”。该向导前面5步跟 TrueCrypt 是一样的，俺就略过不提。  下面是创建加密盘的向导界面第6步。如果你想使用 PIM 功能，需要勾选“Use PIM”这个复选框。        
  下面是创建加密盘的向导界面第7步  如果第6步勾选了“Use PIM”，下一步就会让你输入 PIM 数值。 
   这个数值要牢记，其重要性等同于认证信息（密码 和 keyfile）。
    （如果输入 0 或者不填写，则表示——使用默认的 PIM 数值）        
  如果你设置的密码过于简短，那么 VeraCrypt 会强制让你输入一个比较大的 PIM 数值（大于 485）。        
  
   挂载加密盘时
    下面是挂载加密盘的界面。如果你创建加密盘的时候，指定了 PIM 数值，那么在挂载的时候，需要输入【相同的】PIM 数值。 
   如果输入的数值与创建时指定的 PIM 数值不一致，则挂载失败。
    再次罗嗦一下： 
   一旦你在创建加密盘时设置了“PIM 数值”，【千万别忘了】——忘记它的后果就如同忘记密码！
           
        
       ◇“PIM 数值”与“迭代次数”的换算公式 
  （如果你不关心技术细节，这个换算公式你可以不用看）  根据 VeraCrypt 的文档，PIM 根据如下公式换算成迭代次数。  1. 对于“系统加密分区”： 
   迭代次数 = PIM x 2048
    2. 对于“虚拟加密盘”或者“非系统加密分区”： 
   迭代次数 = 15000 + (PIM x 1000)
           ★扩容功能 
  另一个比较显著的新功能是“加密盘扩容”。原先的 TrueCrypt【没有】扩容功能——如果你的加密盘，空间不够了，你不得不重新创建一个更大的加密盘，然后把原先加密盘的文件拷贝到新加密盘（步骤繁琐）。  如今有了这个扩容功能，你可以直接扩大原有加密盘的容量。 
   前提是：文件系统必须是 NTFS。
    下面给出扩充操作的系列截图（共8张），描述文字都标注在截图中了。         
        
        
        
        
        
        
        
        ★如何防范加密盘被破解？ 
  下面这篇博文，其实已经包含在本文开头列出的 TrueCrypt 教程中。   TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施   因为这篇的内容比较重要，俺再次唠叨一下： 
   如果你对安全性的要求很高，一定要把上述这篇仔细看完。
           ★结尾 
  俺写这篇博文时，VeraCrypt 最新的是 1.16 版本。本文的截图就是根据这个版本制作的。  从截图中可以看出，某些界面还未彻底汉化。今后如果继续汉化，新版本的界面可能与本文的截图会略有不同。  另外，VeraCrypt 的开发比较活跃，今后多半还会增加新的功能。到时候俺会补充到这篇博文中。  大伙儿如果有啥疑问，欢迎到俺博客留言。    
   俺博客上，和本文相关的帖子（需翻墙）
   ：  《  TrueCrypt——文件加密的法宝  》  《  TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型  》  《  TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证  》  《  TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施  》  《  TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项  》  《  分析一下 TrueCrypt 之死（自杀 or 他杀？）——兼谈应对措施  》  《  文件加密的扫盲介绍  》  《  文件备份技巧：组合“虚拟加密盘”与“网盘”  》  《  如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧  》  《  扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt）  》  《  扫盲 Linux 逻辑卷管理（LVM）——兼谈 RAID 以及“磁盘加密工具的整合”  》     

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2015/10/VeraCrypt.html 
    
    
  
  
    
         
    
    
    
 
    
  

&tags=觀點" class="ssk ssk-tumblr"></a>
    <a href="https://buffer.com/add?text=扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品&url=https://program-think.blogspot.com/2015/10/VeraCrypt.html" class="ssk ssk-buffer"></a>
</div>


    <div id="main" role="main" class="container">
      
  <!-- Html Elements for Search -->
  <ul id="results-container" class="searched" style="color: #2980B9;"></ul>

  <script src="/opinion/assets/js/simple-jekyll-search.min.js"></script>

  <!-- Configuration -->
  <script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/opinion/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a><time>{date}</time><a class="tag">{category}</a></li>',
    noResultsText: '没找到',
    limit: 100,
    fuzzy: false,
    exclude: ['Welcome']
  })

  </script>

      







  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
    


  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
    



<article class="post">
  <h1>扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品</h1>
  <!-- Look the author details up from the site config. -->
  

  <div>
    <span class="date">
      2015-10-09
    </span>

    <!-- Output author details if some exist. -->
    
      
    


    <ul class="tag">
      <li>
        <a href="https://nodebe4.github.io/opinion/categories/#编程随想">
          编程随想
        </a>
      </li>
    </ul>

    
        <span>
            <!-- Personal Info. -->
            <a href="https://program-think.blogspot.com/2015/10/VeraCrypt.html" style="font-size:14px;">原文</a>
        </span>
    

    <span style="float: right;" title="编程随想的其它文章">
      <a style="font-size: 14px;" rel="nofollow" href="#sametag" class="tags">#编程随想 的其它文章</a>
    </span>

  </div>

  <div class="entry">
    
    
    
    <div class="post hentry uncustomized-post-template">
<a name="5736289124233883724">
 </a>   <h1 class="post-title entry-title" id="veracrypt-truecrypt---"> <a href="https://program-think.blogspot.com/2015/10/VeraCrypt.html"> 扫盲 VeraCrypt——跨平台的 TrueCrypt 替代品 </a> </h1>
  <div class="post-header">
    <div class="post-header-line-1">
      <div class="post-inner-index"></div>
    </div>
  </div>
  <div class="post-body entry-content">
这个长假前后出了不少新闻，除了“连环爆炸、TPP、诺贝尔医学奖”，还有一个信息安全方面的新闻——TrueCrypt 被发现存在高危的安全漏洞。这些新闻中，TPP 的影响最大，但不是很紧迫。所以俺先发一篇博文聊聊 TrueCrypt 的替代品（这事儿比较紧急）。 <br /> <br />     <h2 id="section"> ★引子 </h2>
 <br />     <h3 id="truecrypt--"> ◇为啥到现在才介绍 TrueCrypt 的替代品 </h3>
 <br /> 当年（2014）TrueCrypt 死亡的时候，俺发过一篇《 <a href="https://program-think.blogspot.com/2014/06/truecrypt-dead.html"> 分析一下 TrueCrypt 之死（自杀 or 他杀？），介绍一下应对措施 </a> 》。当时俺提到： <br />     <blockquote>
因为 TC 的源代码是公开的，任何人都可以拿它的代码克隆出一个新的磁盘加密工具。所以官网变脸之后，已经陆续出现了几个克隆（代码 fork）。假以时日，或许其中的某个克隆会再次成为主流。如果真这样的话，TC 就涅磐重生了。 <br /> 提醒一下：如果你对安全性的要求比较高，短期内（至少1年之内）不要急着去用这些克隆的 TrueCrypt（这些克隆需要一定的时间才能成熟、稳定）。    </blockquote>
 从“TrueCrypt 死亡”到现在已经过了大约一年半，再加上 TrueCrypt 又曝了高危安全漏洞。所以俺估摸着：是时候写一篇【扫盲教程】来介绍 TrueCrypt 的替代品了。 <br /> <a name="more">
  </a>     <!--program-think-->
 <br /> <br />     <h3 id="truecrypt---1"> ◇先说说 TrueCrypt 的安全漏洞 </h3>
 <br /> 这次的安全漏洞由 Google 的安全研究人员（James Forshaw）发现。共有2个漏洞（漏洞编号：CVE-2015-7358、CVE-2015-7359），影响的是 Windows 平台，Linux 和 Mac OS X【不受影响】。 <br /> （因为该漏洞只影响 Windows 平台，这说明该漏洞与“加密盘格式”【无关】） <br /> 对技术感兴趣的同学，可以到“ <a href="https://code.google.com/p/google-security-research/issues/detail?id=538" rel="nofollow" target="_blank"> 这里 </a> ”和“ <a href="https://code.google.com/p/google-security-research/issues/detail?id=537" rel="nofollow" target="_blank"> 这里 </a> ”看这2个漏洞的详细描述。 <br /> 顺便表扬一下 Google 的安全研究团队，确实有两下子。之前大名鼎鼎的“ <a href="https://program-think.blogspot.com/2014/04/openssl-heartbleed.html" rel="nofollow" target="_blank"> Heartbleed 漏洞 </a> ”也是 Google 安全研究团队曝光的。 <br /> 俺选择 Blogspot 作为博客平台，就是考虑到 Google 在安全方面的实力； <br /> 与之对比，WordPress 虽然功能很牛，市场份额排名第一，但是经常曝出安全漏洞，不适合俺这种政治危险分子。 <br /> <br /> <br />     <h2 id="veracrypt-"> ★关于 VeraCrypt </h2>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/VILcwWDdxVVlCVyVdRDVs_W3B-pPkkmPINa8BCA4DXfKyX24uZhBxRaLpYKsVD-OpppzectxcG_bdYf7t9v-qWq9MrlxArRn76sX3nFE9cA0UHdEo6IZzJ4jfOIZ8L2rlHRLQVhKQg" /> </center>
 <br /> VeraCrypt 是从 TrueCrypt 派生出来的开源项目，成立于2013年6月。其官网在 <a href="https://www.veracrypt.fr/" rel="nofollow" target="_blank"> https://www.veracrypt.fr/ </a> <br /> 它刚成立那会儿，TrueCrypt 尚未死亡，所以 VeraCrypt 没有吸引太多的注意力。TrueCrypt 死亡之后，VeraCrypt 的使用量开始多起来。 <br /> 此次曝光了高危漏洞之后，VeraCrypt 很快就在8天之后（9月26日）发布了 1.15 版本，修复了该漏洞。此举令其曝光率大增。 <br /> 俺之所以首先推荐 VeraCrypt，除了此次修复漏洞及时，还有一个原因——其它替代品要么质量不如 VeraCrypt 成熟，要么功能不如 VeraCrypt 完备。 <br /> 比如另一个名气比较大的替代品是 <a href="https://en.wikipedia.org/wiki/CipherShed" rel="nofollow" target="_blank"> CipherShed </a> ，目前还停留在“Pre-Alpha”阶段——也就是说，连“Beta 品质”都没有达到。 <br /> <br /> <br />     <h2 id="veracrypt--1"> ★如何获取 VeraCrypt？ </h2>
 <br /> 建议直接从 <a href="https://veracrypt.codeplex.com/" rel="nofollow" target="_blank"> 官网下载 </a> ，【不要】从其它第三方的软件网站下载（大伙儿要吸取“ <a href="https://zh.wikipedia.org/wiki/XcodeGhost%E9%A3%8E%E6%B3%A2" rel="nofollow" target="_blank"> XcodeGhost 事件 </a> ”的教训）。 <br /> 目前 VeraCrypt 支持三大桌面操作系统，具体如下： <br /> Windows（WinXP 或之后的版本，包括新出的 Windows 10） <br /> Linux（内核主版本号大于等于 2.6） <br /> Mac OS X（版本号大于等于 10.6） <br /> 对于 Windows 用户，下载的 exe 安装包自带数字签名（如何校验数字签名，请看 <a href="https://program-think.blogspot.com/2013/02/file-integrity-check.html"> 这篇博文 </a> ）。另外，其官网还附上了不同平台安装包的“SHA 散列校验值”和“PGP 签名”。如果你下载的是 Linux 或 Mac OS X 的安装包，下载完之后，也请校验一下，以防万一。 <br /> <br /> <br />     <h2 id="veracrypt--2"> ★如何安装 VeraCrypt？ </h2>
 <br /> （考虑到大部分读者是 Windows 用户，为了节省口水， <b>
   本文后续章节只聊 Windows 下的 VeraCrypt。使用其它平台的同学，请依样画葫芦
  </b> ） <br /> 安装前，先确保当前用户具有“管理员权限”。 <br /> 双击下载好的安装包（就是那个 exe 文件），然后一路点 next 就可以了。 <br /> <br /> <br />     <h2 id="veracrypt--"> ★VeraCrypt 功能概述 </h2>
 <br /> 下面开始聊功能，这是本文的重点，看仔细喽。 <br /> 前面说了，VeraCrypt 是从 TrueCrypt 衍生出来的。所以其功能与 TrueCrypt 非常类似。关于 TrueCrypt 的功能介绍，俺已经写过一系列的傻瓜教程，包括如下： <br /> 《 <a href="https://program-think.blogspot.com/2011/05/recommend-truecrypt.html"> TrueCrypt——文件加密的法宝 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-1.html"> TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-2.html"> TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-3.html"> TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/10/truecrypt-4.html"> TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项 </a> 》 <br /> <br /> （ <b>
   如果你之前【没有】使用过 TrueCrypt，强烈建议你先看完上述这几篇扫盲教程
  </b> ） <br /> 为了打字省力，那些与 TrueCrypt 类似的功能，俺就【不】介绍了。下面俺只聊 VeraCrypt 的【新增功能】。 <br /> <br /> <br />     <h2 id="section-1"> ★设置界面语言 </h2>
 <br /> 考虑到某些网友是洋文菜鸟，先说一下如何配置界面的语言。 <br /> 如果你打开 VeraCrypt 之后，界面是英文，先到主菜单中点击“Settings”，然后再点击“Language”菜单项，就会弹出一个选择语言的对话框，你把列表框的滚动条拉到底部，就会看到“简体中文”和“繁體中文”。具体截图如下： <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/y7cF9avhexDGngDSVILoCR9QQ2PUZbjZIAVkEW48KupIJRYTN2tSnghFlbzPvGew7Q-OF_4uRePy3aDd7AvYPxB3ikTzN0LYCIdWSuQlV_U7mRqvbcYmAwkmcgr00895fWFSKWQGCg" /> </center>
 （之所以出现2个“繁體中文”，是分别对应“港/台”） <br /> <br /> 选完中文之后，界面变为如下： <br />     <center> <img alt="不见图 请翻墙" src="https://lh3.googleusercontent.com/FABE5dOfVuRa5e2DJiprEy3zHROK230JBlxmnZ3H9rlFvp01ivxnInss7Sn9wTJNprSqBNepdz73zCXbaasiCbEUmVsyTKe8IpBgbgtVxFo-5l4f_thloBQJU6fc1hTTk3SOjRrFNQ" /> </center>
 <br /> <br />     <h2 id="section-2"> ★支持的加密盘格式 </h2>
 <br /> VeraCrypt 支持两种加密盘的格式，其中一种就是原先 TrueCrypt 使用的格式，另一种是 VeraCrypt 自己新创的格式。因此，如果你手头有原先 TrueCrypt 创建的加密盘，也可以用 VeraCrypt 直接挂载（mount）。 <br /> 这两种格式的【唯一差异】在于——VeraCrypt 的新格式支持 PIM 功能（关于此功能，待会儿介绍）。 <br /> <br /> 为了防止混淆，再唠叨一下关于加密盘的类型（“类型”与“格式”是两个概念，别混淆了）。 <br /> TrueCrypt 支持两种类型的加密盘——物理加密盘（加密分区、全盘加密）和虚拟加密盘（卷文件）；VeraCrypt 也支持这两种类型。 <br /> 所以，排列组合之后，VeraCrypt 共支持如下4种： <br /> 旧格式（TrueCrypt 格式）的虚拟加密盘 <br /> 旧格式（TrueCrypt 格式）的物理加密盘 <br /> 新格式（VeraCrypt 格式）的虚拟加密盘 <br /> 新格式（VeraCrypt 格式）的物理加密盘 <br /> <br /> 当你使用旧格式（TrueCrypt 格式）的加密盘，其操作方式与原先的 TrueCrypt 基本一样。 <br /> 当你使用新格式（VeraCrypt 格式）的加密盘，你可以配置 PIM 参数，也可以不配置（此时用的是默认值）。这个 PIM 参数有助于提升加密盘的安全性——主要是对抗“暴力破解”（本文后续章节会专门聊 PIM 功能）。 <br /> <br /> <br />     <h2 id="section-3"> ★支持的加密算法和散列算法 </h2>
 <br /> 这方面，VeraCrypt 与 TrueCrypt 大同小异——加密算法一样，散列算法多了一个 SHA-256。 <br /> 更详细的介绍，请大伙儿自行翻阅前些年的博文《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-1.html"> TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型 </a> 》，俺就不浪费口水了。 <br /> <br /> <br />     <h2 id="section-4"> ★加密盘的认证方式 </h2>
 <br /> TrueCrypt 原先支持两种认证方式：“密码 ＆ keyfiles”。这两种方式，VeraCrypt 也都支持。相关的介绍，请大伙儿自行翻阅前些年的博文《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-2.html"> TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证 </a> 》，俺就不浪费口水了。 <br /> 另外，VeraCrypt 还新增了一个 PIM 功能。从某种意义上讲，PIM 也可以算是一种认证方式（因为挂载加密盘到时候也需要它）。关于 PIM 功能，本文下面专门用一个章节来详述。 <br /> <br /> <br />     <h2 id="section-5"> ★创建加密盘 </h2>
 <br /> 跟 TrueCrypt 类似，会出现一个“向导界面”，引导你一步步完成加密盘的创建。开头几步跟 TrueCrypt 类似，俺就不贴图了。 <br /> 到最后一步，稍微有点不同，俺来聊一下。 <br /> 以下是向导最后一步的界面，此时你选好文件系统格式之后，直接点击“格式化”按钮。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/qj1rY_MELtSWPG-AwWgSRRAuvUfOSTUDq_XCve4aV9lUbq6BS4aq0jC7_gZNTWW0-XyGjeyXc4cTkwkJppYVsorHMGyeyzeSXSNnHbEbl7QGIyCU2OrSWunghAFtbfgycAoD3CRD8A" /> </center>
 <br /> 点击之后，你会发现进度条没有动静。因为 VeraCrypt 需要收集到足够多的随机信息，用来创建相关的加密密钥。 <br /> 此时，你必须在当前这个窗口内，频繁并迅速地移动鼠标（随机移动）。大约四分之一柱香的功夫，就会出现进度条。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh3.googleusercontent.com/e_MdtZaYbzMhwOAEnY5cgyj7Pd9bmZYry3HR1bhVZ7v8hIjVyRIfgMQxnh1QLYAqCzbza3toiKc4im2R9Kc2HqYPo-Rc2A4gp0aUFG8MnB7ngfCem-QShyBBQMk3iB9nVHgOkQv6eQ" /> </center>
 <br /> 出现进度条，说明已经开始格式化。格式化完成后，会提示你。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh3.googleusercontent.com/h0SgjYN7nJBJpo7HPBREyxcfqMyLachIZsywJpKHolhTez0KZb39DJyLJ5lAhNWo-MRpmWjrqDu6KLNzA81tkBdfyx42-XOGaw4tBf49c188_OFhY2xdQAqaC27YAKNBPhuwfsh85w" /> </center>
 <br /> <br />     <h2 id="section-6"> ★挂载加密盘 </h2>
 <br /> 挂载加密盘的界面，跟 TrueCrypt 有点小区别——多了两个复选框。 <br /> 其中一个复选框是“TrueCrypt Mode”——勾选它是为了挂载旧格式（TrueCrypt 格式）的加密盘。 <br /> <br />     <center> <img alt="不见图 请翻墙" src="https://lh5.googleusercontent.com/x4XLr8XXOSK-DfTWRE2RlhAXKytd8ppKNI1HNVunQQUzQf579V2HFUVecovs0eTOEhHdbJnuYzbpEwMhPjKUmo9JH_d8u0ijAAXtlnutWGhKXgPhw7Zp9MeencZimYgGkBS-EUX5pQ" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/Q9YSw8LrGpYI3O-GOtHWjoirQLpwW-hVYpfbMDAAesgZG0VhXAxrFfcZWLFrmb2HBBLQqUkDULpzRZKVdrFHdLzB1X-Bz_hFWiafBV24wAnxEKykx5tYL5DBB39xvlDzreCUwcF91Q" /> </center>
 <br /> 另一个复选框是“Use PIM”——这个复选框的作用，留到后面的章节介绍。 <br /> 提醒一下： <br /> VeraCrypt 挂载【新格式】加密盘的时候，你会明显感觉很慢。主要是因为 VeraCrypt 强化了安全性（具体的技术细节后面会提及）。 <br /> <br /> <br />     <h2 id="section-7"> ★格式转换功能 </h2>
 <br /> VeraCrypt 不但可以打开旧格式（TrueCrypt 格式）的加密盘，而且可以把旧格式转化为新格式（VeraCrypt 格式）。 <br /> 转换过程很简单——通过修改认证信息来进行。 <br /> 也就是说：当你修改了某个旧格式加密盘的密码或者 keyfiles，修改成功之后，该加密盘就变为新格式了。 <br /> 提醒： <b>
   该转换是【不可逆】的。也就是说，你无法用 VeraCrypt 把新格式转为旧格式。
  </b> <br /> <br /> <br />     <h2 id="pim--"> ★PIM 功能 </h2>
 <br /> 现在开始讲 PIM——这是 VeraCrypt 新增的功能，因此俺就多费点口水。 <br /> 所谓的 PIM 是洋文“Personal Iterations Multiplier”的缩写。通俗地说就是：你可以自定义“加密盘的头部密钥生成时的迭代次数”。这句话比较绕口，要想解释清楚，需要聊相关的技术实现机制（如下）。 <br /> <br />     <h3 id="section-8"> ◇技术实现机制 </h3>
 <br /> （对技术细节【不】感兴趣的同学，就不用看俺的解释了。直接跳到下一节“VeraCrypt 相对 TrueCrypt 的改进”） <br /> <br /> <b>
   加密盘格式简介
  </b> <br /> 不论是新格式还是老格式，加密盘的数据大致可以分为两部分：“头部”和“数据区”。 <br /> 所谓的“数据区”，存放的就是加密盘中文件系统的数据（通俗地说，就是你放到加密盘中的文件和目录的信息） <br /> 所谓的“头部”（header），存放的是加密盘本身的一些信息。刚才提到的“数据区”，其加密的密钥叫“Master Key”（也叫“主密钥、数据区密钥”），这个“Master Key”就是存储在加密盘头部的。此外，像“加密盘格式的版本号”、“是否有隐藏卷”等信息，也是存储在头部的。 <br /> <br /> <b>
   “Header Key”的生成机制
  </b> <br /> 头部包含了很多加密盘的关键信息，自然也是要加密的。那么加密头部的密钥从哪里来捏？这个“Header Key”（也叫“首密钥、头部密钥”）是根据你输入的认证信息，来生成的（提醒一下，认证信息有2种：密码 和 keyfile）。 <br /> VeraCrypt 采用“PBKDF2 算法”来生成“Header Key”（该算法的具体描述参见“ <a href="https://en.wikipedia.org/wiki/PBKDF2" rel="nofollow" target="_blank"> 这里 </a> ”）。 <br /> 在生成“Header Key”的过程中，会采用你指定的散列算法进行 N 次迭代，以生成一个难以猜测的密钥。这个 N 就是前面所说的“迭代次数”。 <br /> 每当用户要挂载某个加密盘，软件界面会提示用户输入“密码和 keyfile”。然后根据用户的输入，计算出“Header Key”，然后用这个密钥对加密的头部进行解密（解到内存中）。如果解密成功，就说明用户输入的是对的。反之，则提示用户输入错误。 <br /> <br /> <b>
   为啥要“迭代 N 次”？
  </b> <br /> 从上述可以看出：这个“迭代次数”越大，计算头部密钥的时间就越长，因此挂载加密盘的过程就越慢；表面上看，这是一个缺点。但其好处在于：如果某个攻击者想要采用暴力破解的方式对“头部”进行穷举解密，每次一次尝试也需要花很长时间（同样要迭代 N 次）。所以，当 N 足够大，暴力破解就变得【不可行】。 <br /> <br /> <b>
   “Header Key”与“Master Key”分离的好处
  </b> <br /> 从上述可以看出，加密盘中存在两种密钥：“Header Key ＆ Master Key”。为啥要搞出两种密钥捏？其中一个好处是为了方便用户修改密码。当用户修改加密盘的密码或 keyfile，只需要“重新加密头部”，数据区不用改动（因为“Master Key”【没有】发生变化）。 <br /> 对于那些超大的加密盘（TB 级），这个好处非常明显。 <br /> <br />     <h3 id="veracrypt--truecrypt--"> ◇VeraCrypt 相对 TrueCrypt 的改进 </h3>
 <br /> 如果你刚才没有看技术细节的解释，直接跳到这里，你只需记住如下结论： <br /> PIM 功能就是用来配置加密盘的某个“迭代次数”的。“迭代次数”越大，暴力破解就越难；同时，挂载加密盘也越慢。 <br /> <br /> 对于原先的 TrueCrypt，它的迭代次数是写死在程序代码中的。而且 TrueCrypt 使用的迭代次数偏小（这是 TrueCrypt 被批评的主要问题之一）。 <br /> 到了开发 VeraCrypt 的时候，其开发团队把原先默认的迭代次数调大（大约增加了两到三个数量级）。迭代次数调大之后，就显著增加了“暴力破解”的难度。 <br /> 此外，从 VeraCrypt 1.12 版本开始，在界面上提供了一个功能，允许用户自定义每个加密盘的“迭代次数”——这就是下面要讲的“PIM 的用户界面”。 <br /> <br />     <h3 id="section-9"> ◇用户界面 </h3>
 <br /> VeraCrypt 提供了相关的用户界面，让你可以自定义 PIM 数值的大小。前面说了，PIM 越大，暴力破解越难；但同时，挂载加密盘也越慢。由于不同的用户有不同的需求，所以，VeraCrypt 干脆提供一个界面让你自己设定 PIM 的大小。当然，如果你懒得设置，也可以直接用内置的默认值。 <br /> <br /> <b>
   创建加密盘时
  </b> <br /> VeraCrypt 同样提供了“创建加密盘的向导”。该向导前面5步跟 TrueCrypt 是一样的，俺就略过不提。 <br /> 下面是创建加密盘的向导界面第6步。如果你想使用 PIM 功能，需要勾选“Use PIM”这个复选框。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh3.googleusercontent.com/A1dpt4OujJiZP6cBHmndcMgbkaykY66CPRb_AI5W2ILjrqrYQDGcN-uYlNGbpsIahElT9uKctdvVtl90Tr4tU5OFYTnA5fs-Hi2wHiX01mzUKuiC50Fr31GFZ-T4OHtbuqO0JwJNmA" /> </center>
 <br /> 下面是创建加密盘的向导界面第7步 <br /> 如果第6步勾选了“Use PIM”，下一步就会让你输入 PIM 数值。 <b>
   这个数值要牢记，其重要性等同于认证信息（密码 和 keyfile）。
  </b> <br /> （如果输入 0 或者不填写，则表示——使用默认的 PIM 数值） <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/SJVjTH7R73LcONTOQ-b4V684jT6heB4ueNSsBvModz8mW-AL26ICrXaC-A75QjwN9tcO6Yu83O4haMYq4n2LGp2bWTDJXB2pvi648x-4PWHIkhDaEoC-5YtY2_SgmVqcKmU6MeSCuA" /> </center>
 <br /> 如果你设置的密码过于简短，那么 VeraCrypt 会强制让你输入一个比较大的 PIM 数值（大于 485）。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/N1WiiQtMASwjArURp8d1HZfKBeN9HqePrwLTc-QZp1yvWW5MYNLbjW2o-dfu4SMDN1VTwjLhQCwkztEWt-1y5Iixj5GG3wIQG_xsRNggp_5xB7-d6AAmbfoWzbJxwHTD-bZIxAzy6Q" /> </center>
 <br /> <b>
   挂载加密盘时
  </b> <br /> 下面是挂载加密盘的界面。如果你创建加密盘的时候，指定了 PIM 数值，那么在挂载的时候，需要输入【相同的】PIM 数值。 <b>
   如果输入的数值与创建时指定的 PIM 数值不一致，则挂载失败。
  </b> <br /> 再次罗嗦一下： <b>
   一旦你在创建加密盘时设置了“PIM 数值”，【千万别忘了】——忘记它的后果就如同忘记密码！
  </b> <br /> <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/GtnE1AM8HURqEsa1PCLXV54QtxL8g1EI1t9fxYp6rRREfmTy-FLMuEEeYox_-xf65SWOybKkMlYodwIlmYUWQMhhf4tZYDnIJ2cmXr3LwrL1vOfz4i3Rba14wA5B70j46HAQNhZfAA" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh5.googleusercontent.com/CgfQgzCnIShLTBqmcADRaw1G9fLOy7zKsKuiL0qnIY4JqLpbnFY-eKzR6vr4PdG1BYBP-zxtVLSikr0yVB7_MQrg6293Zl20wCFMK4DIujo8acWezLasbUuog8ilQouzCgWFEd4svg" /> </center>
 <br />     <h3 id="pim---1"> ◇“PIM 数值”与“迭代次数”的换算公式 </h3>
 <br /> （如果你不关心技术细节，这个换算公式你可以不用看） <br /> 根据 VeraCrypt 的文档，PIM 根据如下公式换算成迭代次数。 <br /> 1. 对于“系统加密分区”： <b>
   迭代次数 = PIM x 2048
  </b> <br /> 2. 对于“虚拟加密盘”或者“非系统加密分区”： <b>
   迭代次数 = 15000 + (PIM x 1000)
  </b> <br /> <br /> <br />     <h2 id="section-10"> ★扩容功能 </h2>
 <br /> 另一个比较显著的新功能是“加密盘扩容”。原先的 TrueCrypt【没有】扩容功能——如果你的加密盘，空间不够了，你不得不重新创建一个更大的加密盘，然后把原先加密盘的文件拷贝到新加密盘（步骤繁琐）。 <br /> 如今有了这个扩容功能，你可以直接扩大原有加密盘的容量。 <b>
   前提是：文件系统必须是 NTFS。
  </b> <br /> 下面给出扩充操作的系列截图（共8张），描述文字都标注在截图中了。 <br /> <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/XD1GpTBWJNlHD7M9f-f7vEe3zrzVoZzHi6muM0Chl66bRLKFKTHouMGmLaBaJuilXpBw4OBrhJaWutF_EfQwHfs01h0yA_bRb6GGOUg5xsOdOf9IW11OdAW9cALanzQb8s3fzeucrQ" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/NKwNUc22fDNiJPtMQixLDfDuJ8fSCMhtZZgdNbcvvx01CVloqtPmuP5McVGQjw4Jbzk6NHOGdcwpXbNmb8FRZRMh337p4HypUzrT0e6ic9vVRjVHKNF6RSD4sk8HgP33EKRSZazc0A" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/RMfuuXekJnW0CphWoqPMuAQYhT5DIRPgl1LEsgHIGAvK3l_ZMrpF5u05fbQjTFDcX01AuBdNQ8-gY6a32l8ZT9TvIGJXBCvE_ke97pNsc2bjyhjSCmKJ3JxoFXtt-vZcS-wh1dvVPA" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh6.googleusercontent.com/CR3Jb4Ylkl7TCgijbVmvKQ-gsUlM-QIYqpA11ifPMjU7ak-x0fgNql4aXjWU_2Gl1n-h80RgypgfxZqUnzmBE3VYDU2GI0lO_f5GaO6FwFi-uo5WKLP70SBHGgq8GqX9M_W0ghJEXQ" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/s_a8pugEtYIx1WQuogiy6nqo6ciWbyyCc2czbEg6H7UviEixhF2ZWPsQba1AjXlFGRD0ZbvKrU5msTvRNXL0_IROvEasK80rkOzgubdOsALUX9q3JxiFN7o5jE2eMFDzvRK0seKXBA" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/X-Aw3F_46w27YymAkFkqO1Wa8LIBLJod3dDLEo30jW3EVqrtQkV56lQ3Ysvmh5WYmXQAay-hlw25Nw7696Rp3ffmjBLM7NVTtmwrJYalUfy3cJcFtvsdDHokfICCA3RTZsiu9VStSQ" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/4mQjtExfAfcHaBMdNUSFo-zfxh2_TwRy_IkDg1lr7jChYaGxePaIPKGzeHTT0EZtG3G1MFRNe2rQ2iWuVlVSfPGq7qB-5qUkkBKERSZg83QItX0g7VMIVCUNKsvnmIDoke6Dw2bZnw" /> </center>
 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/CrmnyBzbypS9DSzidnv31l55UoO12Esm87NFqoJflJWR2syGoYM3iEu0LquMt6cmOXPjRuiz5Jg5B-Q7tIRW14zg2NFu5Lh2o2MF5k1mZVoXnMRUPELDV1vAss9a9krLcqlHsGSEVA" /> </center>
 <br /> <br />     <h2 id="section-11"> ★如何防范加密盘被破解？ </h2>
 <br /> 下面这篇博文，其实已经包含在本文开头列出的 TrueCrypt 教程中。 <br /> <a href="https://program-think.blogspot.com/2013/08/truecrypt-3.html"> TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施 </a> <br /> 因为这篇的内容比较重要，俺再次唠叨一下： <b>
   如果你对安全性的要求很高，一定要把上述这篇仔细看完。
  </b> <br /> <br /> <br />     <h2 id="section-12"> ★结尾 </h2>
 <br /> 俺写这篇博文时，VeraCrypt 最新的是 1.16 版本。本文的截图就是根据这个版本制作的。 <br /> 从截图中可以看出，某些界面还未彻底汉化。今后如果继续汉化，新版本的界面可能与本文的截图会略有不同。 <br /> 另外，VeraCrypt 的开发比较活跃，今后多半还会增加新的功能。到时候俺会补充到这篇博文中。 <br /> 大伙儿如果有啥疑问，欢迎到俺博客留言。 <br /> <br /> <br /> <b>
   俺博客上，和本文相关的帖子（需翻墙）
  </b> ： <br /> 《 <a href="https://program-think.blogspot.com/2011/05/recommend-truecrypt.html"> TrueCrypt——文件加密的法宝 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-1.html"> TrueCrypt 使用经验[1]：关于加密算法和加密盘的类型 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-2.html"> TrueCrypt 使用经验[2]：关于加密盘的密码认证和 KeyFiles 认证 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/08/truecrypt-3.html"> TrueCrypt 使用经验[3]：关于加密盘的破解和防范措施 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/10/truecrypt-4.html"> TrueCrypt 使用经验[4]：关于隐藏卷的使用和注意事项 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2014/06/truecrypt-dead.html"> 分析一下 TrueCrypt 之死（自杀 or 他杀？）——兼谈应对措施 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2011/05/file-encryption-overview.html"> 文件加密的扫盲介绍 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2013/07/online-backup-virtual-encrypted-disk.html"> 文件备份技巧：组合“虚拟加密盘”与“网盘” </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2019/02/Use-Disk-Encryption-Anti-Computer-Forensics.html"> 如何用“磁盘加密”对抗警方的【取证软件】和【刑讯逼供】，兼谈数据删除技巧 </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2015/10/dm-crypt-cryptsetup.html"> 扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt） </a> 》 <br /> 《 <a href="https://program-think.blogspot.com/2020/06/Linux-Logical-Volume-Manager.html"> 扫盲 Linux 逻辑卷管理（LVM）——兼谈 RAID 以及“磁盘加密工具的整合” </a> 》     <div class="post-copyright">
<b>
    版权声明
   </b> <br /> 本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者 <a href="mailto:program.think@gmail.com"> 编程随想 </a> 和本文原始地址： <br /> <a href="https://program-think.blogspot.com/2015/10/VeraCrypt.html" id="OriginalPostUrl"> https://program-think.blogspot.com/2015/10/VeraCrypt.html </a>
    </div>
    <div style="clear: both;"></div>
  </div>
  <div class="post-footer" style="margin-bottom:50px;">
    <div class="post-footer-line post-footer-line-1" style="display:none;">
<span class="post-author vcard"> </span> <span class="reaction-buttons"> </span> <span class="star-ratings"> </span> <span class="post-icons"> </span> <span class="post-backlinks post-comment-link"> </span>
    </div>
    <div class="post-footer-line post-footer-line-2 post-toolbar"></div>
    <div class="post-footer-line post-footer-line-3">
<span class="post-location"> </span>
    </div>
  </div>
</div>


  </div>

  <hr style="border-top:1px solid #28323C;"/>

<font size=2px>
  文章版权归原作者所有。
</font>

<div style="text-align:center"><img width="1px" src="https://i.imgur.com/HSw56Ez.png" alt="二维码分享本站" style="text-align:center"/></div>

  <div id="sametag">
    <h4 style="display: inline-block;">#编程随想 的其它文章</h4>
    <span>--<a href="https://nodebe4.github.io/opinion/2021-05-09/%E5%88%86%E4%BA%AB%E5%90%84%E7%B1%BB%E7%94%B5%E5%AD%90%E4%B9%A6-%E6%94%BF%E6%B2%BB-IT-%E7%A7%91%E6%99%AE-%E5%8E%86%E5%8F%B2-%E7%AD%89-97%E6%9C%AC/">最新</a>-</span>
    <span>-<a href="https://nodebe4.github.io/opinion/2009-01-15/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%BC%A0%E5%8F%8A%E6%9C%AC%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B/">最早</a>--</span>
    
      <li>
        <time>2015-10-26</time>
        <a href="https://nodebe4.github.io/opinion/2015-10-26/%E6%89%AB%E7%9B%B2-dm-crypt-%E5%A4%9A%E5%8A%9F%E8%83%BD-Linux-%E7%A3%81%E7%9B%98%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7-%E5%85%BC%E5%AE%B9-TrueCrypt-%E5%92%8C-VeraCrypt/">
          扫盲 dm-crypt——多功能 Linux 磁盘加密工具（兼容 TrueCrypt 和 VeraCrypt）
        </a>
      </li>
    
    
      <li>
        <time>2015-10-19</time>
        <a href="https://nodebe4.github.io/opinion/2015-10-19/%E7%A7%91%E5%AD%A6%E6%98%AF%E4%BB%80%E4%B9%88-%E5%85%BC%E8%B0%88-%E9%9D%9E%E7%A7%91%E5%AD%A6-%E4%BC%AA%E7%A7%91%E5%AD%A6-%E5%8F%8D%E7%A7%91%E5%AD%A6-%E5%92%8C%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E8%B0%AC%E8%AF%AF/">
          科学是什么？——兼谈“非科学、伪科学、反科学”和一些常见谬误
        </a>
      </li>
    
    
      <li>
        <time>2015-10-04</time>
        <a href="https://nodebe4.github.io/opinion/2015-10-04/%E5%8D%9A%E5%AE%A2%E5%85%A8%E7%A8%8B%E5%90%AF%E7%94%A8-HTTPS-%E5%8A%A0%E5%AF%86/">
          博客全程启用 HTTPS 加密
        </a>
      </li>
    
    
      <li>
        <time>2015-09-27</time>
        <a href="https://nodebe4.github.io/opinion/2015-09-27/%E8%81%8A%E8%81%8A%E4%BA%8C%E6%88%98%E4%B8%AD%E7%9A%84%E6%97%A5%E6%9C%AC-%E5%88%86%E6%9E%90%E5%90%84%E6%96%B9%E9%9D%A2%E7%9A%84%E4%BC%98%E5%8A%BF%E5%8A%A3%E5%8A%BF/">
          聊聊二战中的日本——分析各方面的优势劣势
        </a>
      </li>
    
  </div>


  <hr>
  <div class="pagination">
    
      <span class="prev" >
          <a href="https://nodebe4.github.io/opinion/2015-10-09/%E8%A7%A3%E5%AF%86%E6%97%B6%E5%88%BB-%E5%BF%97%E6%84%BF%E5%86%9B%E6%88%98%E4%BF%98-%E4%B8%80-%E6%88%98%E5%9C%B0%E4%BD%99%E7%94%9F/">
            前一篇：解密时刻：志愿军战俘（一） 战地余生
          </a>
      </span>
    
    
      <span class="next" >
          <a href="https://nodebe4.github.io/opinion/2015-10-10/%E7%90%86%E6%80%A7%E9%80%89%E6%B0%91-%E6%98%AF%E4%B8%AA%E7%A5%9E%E8%AF%9D%E5%90%97/">
            後一篇：“理性选民” 是个神话吗？
          </a>
      </span>
    

    <script>
    /* post pagination keyboard shortcuts */
    document.body.onkeyup = function(e){
      if (e.keyCode == '37') { window.location = 'https://nodebe4.github.io/opinion/2015-10-09/%E8%A7%A3%E5%AF%86%E6%97%B6%E5%88%BB-%E5%BF%97%E6%84%BF%E5%86%9B%E6%88%98%E4%BF%98-%E4%B8%80-%E6%88%98%E5%9C%B0%E4%BD%99%E7%94%9F/'; } // left arrow key
      if (e.keyCode == '39') { window.location = 'https://nodebe4.github.io/opinion/2015-10-10/%E7%90%86%E6%80%A7%E9%80%89%E6%B0%91-%E6%98%AF%E4%B8%AA%E7%A5%9E%E8%AF%9D%E5%90%97/'; } // right arrow key
      if (e.keyCode == '45') { window.location = 'https://nodebe4.github.io/opinion/2015-10-19/%E7%A7%91%E5%AD%A6%E6%98%AF%E4%BB%80%E4%B9%88-%E5%85%BC%E8%B0%88-%E9%9D%9E%E7%A7%91%E5%AD%A6-%E4%BC%AA%E7%A7%91%E5%AD%A6-%E5%8F%8D%E7%A7%91%E5%AD%A6-%E5%92%8C%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E8%B0%AC%E8%AF%AF/'; } // insert key
      if (e.keyCode == '46') { window.location = 'https://nodebe4.github.io/opinion/2015-10-04/%E5%8D%9A%E5%AE%A2%E5%85%A8%E7%A8%8B%E5%90%AF%E7%94%A8-HTTPS-%E5%8A%A0%E5%AF%86/'; } // delete key
    };
    </script>
    <link rel="stylesheet" type="text/css" href="/opinion/assets/css/fab.css" />

<div class="fab-wrapper">
  <div class="fab-wheel">
    
    
    
    <a class="fab-action fab-action-1" title="上一篇(热键 &#8594;)" href="https://nodebe4.github.io/opinion/2015-10-09/%E8%A7%A3%E5%AF%86%E6%97%B6%E5%88%BB-%E5%BF%97%E6%84%BF%E5%86%9B%E6%88%98%E4%BF%98-%E4%B8%80-%E6%88%98%E5%9C%B0%E4%BD%99%E7%94%9F/">
      <i>后</i>
    </a>
    
    
    <a class="fab-action fab-action-2" title="下一篇(热键 &#8592;)" href="https://nodebe4.github.io/opinion/2015-10-10/%E7%90%86%E6%80%A7%E9%80%89%E6%B0%91-%E6%98%AF%E4%B8%AA%E7%A5%9E%E8%AF%9D%E5%90%97/">
      <i>前</i>
    </a>
    
    
    <a class="fab-action fab-action-3" title="<编程随想>上一篇(热键 ins)" href="https://nodebe4.github.io/opinion/2015-10-19/%E7%A7%91%E5%AD%A6%E6%98%AF%E4%BB%80%E4%B9%88-%E5%85%BC%E8%B0%88-%E9%9D%9E%E7%A7%91%E5%AD%A6-%E4%BC%AA%E7%A7%91%E5%AD%A6-%E5%8F%8D%E7%A7%91%E5%AD%A6-%E5%92%8C%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E8%B0%AC%E8%AF%AF/">
      <i>左</i>
    </a>
    
    
    <a class="fab-action fab-action-4" title="<编程随想>下一篇(热键 del)" href="https://nodebe4.github.io/opinion/2015-10-04/%E5%8D%9A%E5%AE%A2%E5%85%A8%E7%A8%8B%E5%90%AF%E7%94%A8-HTTPS-%E5%8A%A0%E5%AF%86/">
      <i>右</i>
    </a>
    
  </div>
</div>


  </div>


  

</article>

    </div>

    <div style="z-index:2;">
<script src="/opinion/assets/js/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 56,
  cornerOffset: 20, // px
  id: 'back-to-top',
  backgroundColor: '#ddd',
  textColor: 'red'
})</script>
</div>


    <div class="wrapper-footer" id="footer">
      <div class="container">
        <footer class="footer">
          <img width="200px" src="https://i.imgur.com/HSw56Ez.png" alt="二维码分享本站"/>
<font size=2px>二维码分享本站</font>

<!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

  

  

  
  <li><a href="mailto:beauti4@protonmail.com" class="icon-8 email" title="Email"><svg viewBox="0 0 512 512"><path d="M101.3 141.6v228.9h0.3 308.4 0.8V141.6H101.3zM375.7 167.8l-119.7 91.5 -119.6-91.5H375.7zM127.6 194.1l64.1 49.1 -64.1 64.1V194.1zM127.8 344.2l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7L127.8 344.2 127.8 344.2zM384.4 307.8l-64.4-64.4 64.4-49.3V307.8z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://github.com/NodeBE4/opinion" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
  

  

  

  

  

  
  <li><a href="/opinion/feed.xml" class="icon-21 rss" title="RSS"><svg viewBox="0 0 512 512"><path d="M201.8 347.2c0 20.3-16.5 36.8-36.8 36.8 -20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8C185.3 310.4 201.8 326.8 201.8 347.2zM128.2 204.7v54.5c68.5 0.7 124 56.3 124.7 124.7h54.5C306.7 285.3 226.9 205.4 128.2 204.7zM128.2 166.6c57.9 0.3 112.3 22.9 153.2 63.9 41 41 63.7 95.5 63.9 153.5h54.5c-0.3-149.9-121.7-271.4-271.6-271.9V166.6L128.2 166.6z"/></svg><!--[if lt IE 9]><em>RSS</em><![endif]--></a></li>
  

  

  

  

  

    
</ul>





<p><span style="color:blue">内容每小时更新一次.</span> Powered by <a href="https://github.com/AWEEKJ/kiko-now">Kiko Now</a> & <a href="https://github.com/gitalk/gitalk">Gitalk</a> & <a href="https://github.com/duty-machine/news">duty-machine</a>, 站务 <a href="https://be4.herokuapp.com">NodeBE4</a>（<span style="color:red">被墙</span>）</p>





        </footer>
      </div>
    </div>

    



  </body>
</html>
