<!DOCTYPE html>
<html>
  <head>
  <title>如何防止黑客入侵[6]：Web相关的防范（中） – 觀點 – 從草根到大師 git.io/JJCxS</title>

      <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="

      如何防止黑客入侵[6]：Web相关的防范（中）  
  
    
      
    
  
  
在本系列的  前一篇  聊了些基础性的东西，包括：常见的攻击手法、如何选择浏览器和插件。今天，俺继续介绍几个相对高级一点的话题。  
       
        ★如何防范浏览器和插件的漏洞？ 
  在前一篇已经告诉大伙儿“如何选择浏览器”。但是光知道这个是不够滴！因为浏览器也是软件，只要是软件就可能会出现漏洞（包括安全漏洞）。  即使你按照俺的建议，选择 Firefox 或 Chrome 作为日常的浏览器，也【无法完全避免】浏览器自身出漏洞的问题。而且浏览器的漏洞中，有一些是没有补丁的高危漏洞（包括“未公开漏洞”＆“零日漏洞”，俺在  前面的帖子  里介绍过）。因为没有补丁，所以这类高危漏洞就特别危险。这就引出了第一个问题： 
   如何防范浏览器的漏洞？
    另外，在浏览器插件中，Flash 插件既是最危险的插件，也是使用最广的插件。这就引出了第二个问题： 
   如何安全地使用危险的插件？
    要解决上述2个问题，可以使用同一个原则，那就是：【 
   对浏览器进行隔离
   】。具体的隔离方式有很多种，今天俺由浅入深，分别介绍一下。   
         ★“多浏览器”的方案 
       ◇操作步骤 
  这招是最简单的——就是在一台电脑上安装多款【不同内核】的浏览器。具体步骤俺就不多说了，节约点口水。        ◇优点 
  
   1. 解决网银的问题
    前面提到了国内网银依赖于 IE 的问题。但是 IE 的安全性又不如 Firefox 和 Chrome，咋办捏？最简单的办法就是同时安装两款浏览器（比如 IE + Firefox）。平时你上网的时候，用 Firefox，需要用网银，则改用 IE。  由于你仅仅在使用网银的时候，才开启 IE，大大降低了 IE 被入侵的机会。   
   2. 解决跨站脚本（XSS）的问题
    使用多种浏览器，还可以帮你解决跨站脚本攻击的问题。  单纯的XSS攻击，主要是依赖 JavaScript。而 JavaScript 只能在浏览器进程内起作用，无法跨浏览器进程。所以，如果你同时使用 A B 两款浏览器。如果 A 浏览器发送 XSS 攻击，通常不会影响到 B 浏览器。除非这个 XSS 攻击结合了浏览器漏洞或插件漏洞。那么，多款浏览器是否能防范浏览器漏洞和插件漏洞捏？请看往下看。   
   3. 部分解决高危插件（Flash）的使用问题
    俺在  上一篇  提到了利用 Flash 入侵 Gmail 的案例。  比方说，你同时用 Firefox 和 Chrome。其中 Firefox 安装 Flash，用来上普通的网站；而 Chrome 不装或禁用 Flash，专门用来上 Google 的相关服务器（比如 Gmail）。  某天，你收到一封恶意的邮件，该邮件会利用 Flash 的漏洞来入侵用户的电脑。幸运的是，你用来访问 Gmail 的 Chrome 上没有 Flash 插件（被禁用），于是攻击者的阴谋没有得逞 :-)        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞和插件漏洞的问题
    细心的读者会注意到，刚才那个小节的标题是  部分解决高危插件（Flash）的问题  。为啥俺要特地强调【部分解决】捏？因为浏览器的漏洞和插件的漏洞有很多种。有些漏洞只是让浏览器崩溃，无伤大雅；而有些漏洞可以导致在本地执行代码，并且能进一步植入木马。一旦你碰到后者，即使你采用“多种浏览器”的方式，也抵挡不住。  某些天真的网友可能会问：浏览器厂商和插件厂商不是会升级补丁吗？但是问题在于，有少数一些漏洞是没有补丁的。为啥会这样捏？请看本系列上一篇《  安全漏洞的基本防范  》，里面介绍了"未公开漏洞"和"零日漏洞"。  不过别担心，俺后面还会介绍更高级的招数，来防范这种情况。   
   2. 灵活性不够
    对于“多浏览器”的方案，还有一个缺点是不够灵活。  因为你要为每一种用途安装一款浏览器，如果你的用途比较多（比如：上网银、普通浏览、Web 邮箱、看视频），就要装好几款。  另外，有些用户就喜欢某一款浏览器，你让这些用户装好几款浏览器，他们会觉得不爽。  对于“灵活性不够”的缺点，大伙儿可以参考接下来要介绍的第二招——“多实例”的方案。   
         ★【多实例】的方案 
       ◇什么是浏览器的多实例？ 
  所谓的浏览器多实例，有时候也称之为“Multiple Profiles”。  不论是 Firefox 还是 Chrome，默认安装的时候，只有一个实例（Profile）。和浏览器相关的各种信息，包括：插件、扩展、外观（皮肤）、页面缓存、cookie、等等，都存储在这个实例中。  反之，如果使用多实例，每个实例都具有独立的插件、独立的扩展、独立的外观（皮肤）、独立的页面缓存、独立的 cookie、等等。不同实例之间是相对隔离的，【不会】互相影响。  对于 Chrome，再特别提醒一下：  Chrome 同时支持“Multiple Profiles”与“Multiple Accounts”。但别把这两者搞混了。即使你配置了多个 Accounts，依然在【同一个】实例里。        ◇操作步骤 
  多实例的配置，很多人不晓得。所以俺详细说一下。考虑到 Windows 用户居多，俺以 Windows 举例。Linux 和 Mac OS 的操作步骤大同小异。   
   多实例的 Firefox
     对于 Windows 上的 Firefox，Profile 都放置于 
   %APPDATA%\Mozilla\Firefox\Profiles
   目录下。  假设你想创建一个【全新的】Firefox 实例，可以通过如下命令行来启动 Firefox。      "{PATH}\firefox.exe" -P "XXXX" -no-remote    
 上述命令中， 
   {PATH}
   表示你的 Firefox 的【安装目录】。 
   XXXX
   表示你要创建的【实例名】（实例名可以是任意字母组合，你也可以把 
   XXXX
   改成其它名称）。  运行完上述命令，Firefox 会启动出一个名叫 
   XXXX
   的实例。与此同时，在 
   %APPDATA%\Mozilla\Firefox\Profiles
   下会多出一个名叫 
   XXXX
   的目录。  按照上述方式依样画葫芦，你就可以启动出任意多个 Firefox 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。  另外，Firefox 还提供了一个多实例的管理界面，用如下命令可以调出该界面。      "{PATH}\firefox.exe" -p    
  
   多实例的 Chrome
     Chrome 类似于 Firefox，也可以通过命令行启动新的实例。  对于 Windows 上的 Chrome，由于 Chrome 安装的时候没让选安装目录，所以其【 
   exe 的安装目录固定如下
   】：   Windows 7 或 Vista 系统  
   C:\Users\
   
    {USER}
   
   \AppData\Local\Google\Chrome\Application\chrome.exe
    Windows XP 系统  
   C:\Documents and Settings\
   
    {USER}
   
   \Local Settings\Application Data\Google\Chrome\Application\chrome.exe
    上述的 
   {USER}
   表示你的 Windows 用户名   找到 
   chrome.exe
   之后，接下来，你需要创建一个目录，用来存放新创建的实例。比方说，你用的是这个目录： 
   X:\XXXX\
    然后，通过如下命令启动 Chrome，就可以创建出新实例   Vista 或 Windows 7 系统      C:\Users\{USER}\AppData\Local\Google\Chrome\Application\chrome.exe --user-data-dir="X:\XXXX\"    
 Windows XP 或 Win 2003 系统      C:\Documents and Settings\{USER}\Local Settings\Application Data\Google\Chrome\chrome.exe --user-data-dir="X:\XXXX\"    
  按照上述方式依样画葫芦，你就可以创建出任意多个 Chrome 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   2. 部分解决高危插件（Flash）的使用问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   3. 灵活性高
    与“多浏览器”的方案相比，“多实例”的方案明显灵活多了。因为 Firefox 和 Chrome 可以创建出任意多个实例（只要你的硬盘够大，想建几个实例都行）。而且，这个方案可以满足某些 Firefox 粉丝或 Chrome 粉丝的个人偏好。        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞的问题
    在这方面，“多实例方案”与“多浏览器方案”具有共同的缺陷——无法抵御具有【本地代码执行】的高危漏洞。包括浏览器漏洞和插件漏洞都有可能出现这类高危漏洞。  那么，该咋办捏，请看下一节——“多用户”的方案。   
         ★【多用户】的方案 
  前面提到的两种方案，都无法防范某些浏览器或插件的高危漏洞。因为这些高危漏洞会导致在本地执行攻击代码，并有可能植入木马。现在，俺来介绍第三种方案——多用户方案。此方案可以防范 
   大部分
   在本地执行的攻击代码。  先说明一下，此处的“用户”指的是【操作系统用户】。        ◇某些高危漏洞为啥很危险？ 
  俺前面反复提到“导致本地执行攻击代码的漏洞”。这样的漏洞是非常非常危险的。为啥捏？俺简单扫盲一下。  如果你的浏览器或者浏览器插件具有这类漏洞，当你访问某个恶意网页时，如果该恶意网页能够利用此漏洞，就可以在你的本地的操作系统中执行攻击代码。由于这个攻击代码是在浏览器的进程内触发的，所以该攻击代码就具有当前用户所具有的权限。  比方说，如今大部分网友都用 Windows 上网。并且，这些网友都是以“系统管理员”的身份使用浏览器。一旦碰到这类漏洞时，本地的攻击代码也同时具有了“系统管理员权限”。有了这么高的权限，攻击代码可以为所欲为。  某些网友可能会问：那不用管理员身份上网，是不是就没事了？  俺只能说，用低权限的用户身份（比如 Windows 里面的“Users 组”）上网，相对于用管理员身份上网，会好一些。但是捏，还是有问题。  举个例子：  即使你用低权限用户上网，一旦遭遇这类漏洞，攻击代码还是有可能植入木马。然后捏，这个木马有可能会查找你电脑上的各种私密文件（比如你的裸照）。然后木马会把这些私密文件发送给木马的主人。   从上述例子可见，用低权限的用户上网，【不能】彻底解决问题。所以，俺隆重推出第三种方案——多用户方案。        ◇啥是“多用户方案”捏？ 
  如今的桌面操作系统，无论是 Windows 还是 Linux 或 Mac OS，都可以创建多个操作系统用户，并且这多个用户可以同时运行程序。如果你用过 WinXP 的快速用户切换，应该对此深有体会。  多用户方案的关键在于：  你需要创建一个或多个【低权限】的“上网用户”（所谓低权限，必须低于你当前使用的用户权限）。这些“上网用户”专门用来访问各种网站。  假使你不幸访问了恶意网页，遭遇本地执行的攻击代码，问题也不大。因为这些上网用户的权限很低，所以它们触发的攻击代码，权限也很低。因此攻击代码就比较难钻空子。一般来说，对“上网用户”的权限限制得越严格，攻击代码就越难有作为。        ◇操作步骤 
  
   1. 创建上网用户
    如何在桌面系统中创建新的用户，大家应该都会吧？不会的同学，请看《  避免使用高权限用户  》一文的相关章节。上网用户可以只创建一个，也可以创建多个。具体建几个，看你的需求。  举例：  假如你非常看重网银的安全，可以创建两个上网用户，一个专门用来访问网银，一个专门用来上其它网站。  提醒一下：在这些上网用户的环境中，除了浏览器，其它啥软件都【别】装。   
   2. 设置上网用户的权限
    再啰嗦一次，上网用户的权限，一定要低于你目前使用的用户权限。  以 Windows 为例：  在 Windows 中，常见的用户组的权限大小分别是： 
   “Administrators 组” ＞ “Power Users 组” ＞ “Users 组” ＞ “Guest 组”
   。  如果你平时用“Administrators 组”的用户，那么可以把上网用户设置为：“Power User”或“User”或“Guest”  如果你平时用“Power Users 组”的用户，那么上网用户就只能设置为 User 或 Guest。  以此类推......  （如果你想了解这些用户组之间的权限差异，可以参考本系列的第一个帖子《  避免使用高权限用户  》）   提醒一下：  Guest 用户组的权限是最低，低得难以想象。所以，从安全角度而言，把上网用户设置为“Guest 组”是最安全滴。但是，也是最麻烦滴。你需要进行好多设置——否则的话，你可能连浏览器都跑不起来。  所以，除非你对 Windows 系统比较熟悉，否则的话，俺【不】建议使用“Guest 组”的权限。比较理想的权限是“Users 组”。这个组的权限也比较低，但是用起来不麻烦。   
   3. 设置文件目录的访问控制权限（ACL）
    每个人的电脑中，都会有某几个目录是用来存放你的敏感个人资料的。  你必须设置这些目录的访问控制权限（简称 ACL），设置为：“上网用户”所在的组【 
   不允许读写
   】。这样一来，你可以把自己那些敏感的，私密的文件（比如自己的裸照），都通过上述 ACL 保护起来。即使“上网用户”遭遇高危漏洞的攻击，本地执行的攻击代码也【难以拿到】你的隐私（俺说"难以拿到"，意思就是说，还是有可能滴，但是可能性很小，后面会解释）。  顺便提醒一下：对于 Windows 系统，只有使用 NTFS 格式的分区，才支持 ACL。FAT32 格式的分区是不支持滴！  如果你是个菜鸟，不懂得如何设置文件及目录的 ACL，没关系！Google 一下，你就知道。   
   4. 多用户浏览器共享同一个桌面的技巧
    你可以直接用 Windows 提供的“快速用户切换”。对于 Windows 系统，从 WinXP 开始就提供了"快速用户切换"的功能。用它来切换用户还是很方便滴。但是这招有一个缺点：你一次只能看到某一个用户运行的软件，其它用户运行的软件看不到。  不过没关系，还有一个小技巧，可以让你在同一个桌面中，运行不同用户的软件（包括浏览器）。  假设你创建了 A ＆ B 两个用户。其中 A 是主用户，用来完成你日常的工作；B 是上网用户。那么你可以先登录“A用户”，然后在“A用户”的桌面上创建一个浏览器的快捷方式。（如何创建快捷方式，就不用俺手把手教了吧）  用鼠标选中该快捷方式，在快捷菜单（右键菜单）中，选择“属性”菜单项。出现如下对话框。        
  在该对话框中，点“高级”按钮。出现如下对话框。把“以其他用户身份运行”选项打勾，就可以啦。        
  之后，如果你想在“A用户”的桌面上运行“B用户”的浏览器，只需点击该快捷方式，就会弹出如下对话框。然后输入“B用户”的用户名/口令，就能以“B用户”的身份运行浏览器。        
  刚才介绍的是图形界面的配置。对于习惯于命令行的 IT 专业人员，还可以用命令行的方式启动指定用户的某个进程。Linux 系统和 Mac OS 系统有 
   su
   或 
   sudo
   命令；Windows 系统有 
   runas
   命令。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   2. 解决高危插件（Flash）的使用问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   3. 防范各种浏览器漏洞
    正如刚才提到的——前两种方案（多浏览器、多实例）无法防御浏览器及插件的某些高危漏洞（具备本地执行攻击代码的漏洞）。而“多用户方案”可以大大降低这类漏洞的危害性。使得攻击代码只能威胁到“上网用户”本身，而不会威胁到其它操作系统用户。        ◇缺点 
  
   1. 初始配置稍嫌麻烦
    相比前面两种方案，这个方案的【初始配置】比较麻烦。而且你要分清楚哪个用户是用来干啥的。不过捏，一旦用久了，习惯了，也就不觉得麻烦了。   
   2. 无法防范极个别高明的攻击者
    “多用户方案”之所以可以隔离攻击代码，是因为如今所有主流的桌面操作系统，都能够在操作系统层面，对不同的系统用户进行隔离。因为有操作系统层面的隔离，所以才限制了攻击代码的危害性。  但是，操作系统层面的隔离，也不是百分之百可靠滴。不要忘了，操作系统本身也是软件，也可能出现安全漏洞。在操作系统的安全漏洞中，有一类漏洞叫做“权限提升漏洞”（简称“提权漏洞”）。所谓的“提权漏洞”，顾名思义，就是能够提升【当前执行代码】的权限。比方说，本来攻击代码没有管理员权限，通过"提权漏洞"，就可以拿到管理员权限。  如果你的操作系统本身存在“提权漏洞”，同时你的浏览器或者插件存在“能够在本地执行代码的漏洞”，那么，高明的攻击者就有可能把这两者组合起来，对你的系统进行组合攻击。  不过大伙儿别担心——要实现这类组合攻击，需要同时掌握【未公开的】浏览器或插件漏洞，并且还要有【未公开的】操作系统提权漏洞（俺在  前面的帖子  里介绍过，“未公开漏洞”总是比“零日漏洞”更危险）。另外，攻击者还需要做很多准备工作，才能诱使你访问到恶意网页。一般的入侵者根本没有这个本事，也没有耐心去搞这些。反之，有这个本事又有这个耐心的入侵者，通常不会拿这种招数去入侵普通网友（这么做简直是大材小用）。所以，如果你只是一个普通的网友，在前面三个方案中挑选一个，即可。   估计有些好奇的同学会打听了。什么样的入侵者具有这种实力？什么样的人会成为他们的目标？  由于本文的篇幅已经很长了，俺稍微调一下列位看官的胃口，在《Web相关的防范（下）》再来八卦这些，同时也介绍一下比“多用户方案”更高级的方案。虽然这种方案很多人用不到，但俺还是会写出来，就当满足一下大伙儿的好奇心 :-)    
   
    回到本系列的目录
   
       

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html 
    
    
  
  
    
         
    
    
    
 
    
  

" />
    <meta property="og:description" content="

      如何防止黑客入侵[6]：Web相关的防范（中）  
  
    
      
    
  
  
在本系列的  前一篇  聊了些基础性的东西，包括：常见的攻击手法、如何选择浏览器和插件。今天，俺继续介绍几个相对高级一点的话题。  
       
        ★如何防范浏览器和插件的漏洞？ 
  在前一篇已经告诉大伙儿“如何选择浏览器”。但是光知道这个是不够滴！因为浏览器也是软件，只要是软件就可能会出现漏洞（包括安全漏洞）。  即使你按照俺的建议，选择 Firefox 或 Chrome 作为日常的浏览器，也【无法完全避免】浏览器自身出漏洞的问题。而且浏览器的漏洞中，有一些是没有补丁的高危漏洞（包括“未公开漏洞”＆“零日漏洞”，俺在  前面的帖子  里介绍过）。因为没有补丁，所以这类高危漏洞就特别危险。这就引出了第一个问题： 
   如何防范浏览器的漏洞？
    另外，在浏览器插件中，Flash 插件既是最危险的插件，也是使用最广的插件。这就引出了第二个问题： 
   如何安全地使用危险的插件？
    要解决上述2个问题，可以使用同一个原则，那就是：【 
   对浏览器进行隔离
   】。具体的隔离方式有很多种，今天俺由浅入深，分别介绍一下。   
         ★“多浏览器”的方案 
       ◇操作步骤 
  这招是最简单的——就是在一台电脑上安装多款【不同内核】的浏览器。具体步骤俺就不多说了，节约点口水。        ◇优点 
  
   1. 解决网银的问题
    前面提到了国内网银依赖于 IE 的问题。但是 IE 的安全性又不如 Firefox 和 Chrome，咋办捏？最简单的办法就是同时安装两款浏览器（比如 IE + Firefox）。平时你上网的时候，用 Firefox，需要用网银，则改用 IE。  由于你仅仅在使用网银的时候，才开启 IE，大大降低了 IE 被入侵的机会。   
   2. 解决跨站脚本（XSS）的问题
    使用多种浏览器，还可以帮你解决跨站脚本攻击的问题。  单纯的XSS攻击，主要是依赖 JavaScript。而 JavaScript 只能在浏览器进程内起作用，无法跨浏览器进程。所以，如果你同时使用 A B 两款浏览器。如果 A 浏览器发送 XSS 攻击，通常不会影响到 B 浏览器。除非这个 XSS 攻击结合了浏览器漏洞或插件漏洞。那么，多款浏览器是否能防范浏览器漏洞和插件漏洞捏？请看往下看。   
   3. 部分解决高危插件（Flash）的使用问题
    俺在  上一篇  提到了利用 Flash 入侵 Gmail 的案例。  比方说，你同时用 Firefox 和 Chrome。其中 Firefox 安装 Flash，用来上普通的网站；而 Chrome 不装或禁用 Flash，专门用来上 Google 的相关服务器（比如 Gmail）。  某天，你收到一封恶意的邮件，该邮件会利用 Flash 的漏洞来入侵用户的电脑。幸运的是，你用来访问 Gmail 的 Chrome 上没有 Flash 插件（被禁用），于是攻击者的阴谋没有得逞 :-)        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞和插件漏洞的问题
    细心的读者会注意到，刚才那个小节的标题是  部分解决高危插件（Flash）的问题  。为啥俺要特地强调【部分解决】捏？因为浏览器的漏洞和插件的漏洞有很多种。有些漏洞只是让浏览器崩溃，无伤大雅；而有些漏洞可以导致在本地执行代码，并且能进一步植入木马。一旦你碰到后者，即使你采用“多种浏览器”的方式，也抵挡不住。  某些天真的网友可能会问：浏览器厂商和插件厂商不是会升级补丁吗？但是问题在于，有少数一些漏洞是没有补丁的。为啥会这样捏？请看本系列上一篇《  安全漏洞的基本防范  》，里面介绍了"未公开漏洞"和"零日漏洞"。  不过别担心，俺后面还会介绍更高级的招数，来防范这种情况。   
   2. 灵活性不够
    对于“多浏览器”的方案，还有一个缺点是不够灵活。  因为你要为每一种用途安装一款浏览器，如果你的用途比较多（比如：上网银、普通浏览、Web 邮箱、看视频），就要装好几款。  另外，有些用户就喜欢某一款浏览器，你让这些用户装好几款浏览器，他们会觉得不爽。  对于“灵活性不够”的缺点，大伙儿可以参考接下来要介绍的第二招——“多实例”的方案。   
         ★【多实例】的方案 
       ◇什么是浏览器的多实例？ 
  所谓的浏览器多实例，有时候也称之为“Multiple Profiles”。  不论是 Firefox 还是 Chrome，默认安装的时候，只有一个实例（Profile）。和浏览器相关的各种信息，包括：插件、扩展、外观（皮肤）、页面缓存、cookie、等等，都存储在这个实例中。  反之，如果使用多实例，每个实例都具有独立的插件、独立的扩展、独立的外观（皮肤）、独立的页面缓存、独立的 cookie、等等。不同实例之间是相对隔离的，【不会】互相影响。  对于 Chrome，再特别提醒一下：  Chrome 同时支持“Multiple Profiles”与“Multiple Accounts”。但别把这两者搞混了。即使你配置了多个 Accounts，依然在【同一个】实例里。        ◇操作步骤 
  多实例的配置，很多人不晓得。所以俺详细说一下。考虑到 Windows 用户居多，俺以 Windows 举例。Linux 和 Mac OS 的操作步骤大同小异。   
   多实例的 Firefox
     对于 Windows 上的 Firefox，Profile 都放置于 
   %APPDATA%\Mozilla\Firefox\Profiles
   目录下。  假设你想创建一个【全新的】Firefox 实例，可以通过如下命令行来启动 Firefox。      "{PATH}\firefox.exe" -P "XXXX" -no-remote    
 上述命令中， 
   {PATH}
   表示你的 Firefox 的【安装目录】。 
   XXXX
   表示你要创建的【实例名】（实例名可以是任意字母组合，你也可以把 
   XXXX
   改成其它名称）。  运行完上述命令，Firefox 会启动出一个名叫 
   XXXX
   的实例。与此同时，在 
   %APPDATA%\Mozilla\Firefox\Profiles
   下会多出一个名叫 
   XXXX
   的目录。  按照上述方式依样画葫芦，你就可以启动出任意多个 Firefox 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。  另外，Firefox 还提供了一个多实例的管理界面，用如下命令可以调出该界面。      "{PATH}\firefox.exe" -p    
  
   多实例的 Chrome
     Chrome 类似于 Firefox，也可以通过命令行启动新的实例。  对于 Windows 上的 Chrome，由于 Chrome 安装的时候没让选安装目录，所以其【 
   exe 的安装目录固定如下
   】：   Windows 7 或 Vista 系统  
   C:\Users\
   
    {USER}
   
   \AppData\Local\Google\Chrome\Application\chrome.exe
    Windows XP 系统  
   C:\Documents and Settings\
   
    {USER}
   
   \Local Settings\Application Data\Google\Chrome\Application\chrome.exe
    上述的 
   {USER}
   表示你的 Windows 用户名   找到 
   chrome.exe
   之后，接下来，你需要创建一个目录，用来存放新创建的实例。比方说，你用的是这个目录： 
   X:\XXXX\
    然后，通过如下命令启动 Chrome，就可以创建出新实例   Vista 或 Windows 7 系统      C:\Users\{USER}\AppData\Local\Google\Chrome\Application\chrome.exe --user-data-dir="X:\XXXX\"    
 Windows XP 或 Win 2003 系统      C:\Documents and Settings\{USER}\Local Settings\Application Data\Google\Chrome\chrome.exe --user-data-dir="X:\XXXX\"    
  按照上述方式依样画葫芦，你就可以创建出任意多个 Chrome 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   2. 部分解决高危插件（Flash）的使用问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   3. 灵活性高
    与“多浏览器”的方案相比，“多实例”的方案明显灵活多了。因为 Firefox 和 Chrome 可以创建出任意多个实例（只要你的硬盘够大，想建几个实例都行）。而且，这个方案可以满足某些 Firefox 粉丝或 Chrome 粉丝的个人偏好。        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞的问题
    在这方面，“多实例方案”与“多浏览器方案”具有共同的缺陷——无法抵御具有【本地代码执行】的高危漏洞。包括浏览器漏洞和插件漏洞都有可能出现这类高危漏洞。  那么，该咋办捏，请看下一节——“多用户”的方案。   
         ★【多用户】的方案 
  前面提到的两种方案，都无法防范某些浏览器或插件的高危漏洞。因为这些高危漏洞会导致在本地执行攻击代码，并有可能植入木马。现在，俺来介绍第三种方案——多用户方案。此方案可以防范 
   大部分
   在本地执行的攻击代码。  先说明一下，此处的“用户”指的是【操作系统用户】。        ◇某些高危漏洞为啥很危险？ 
  俺前面反复提到“导致本地执行攻击代码的漏洞”。这样的漏洞是非常非常危险的。为啥捏？俺简单扫盲一下。  如果你的浏览器或者浏览器插件具有这类漏洞，当你访问某个恶意网页时，如果该恶意网页能够利用此漏洞，就可以在你的本地的操作系统中执行攻击代码。由于这个攻击代码是在浏览器的进程内触发的，所以该攻击代码就具有当前用户所具有的权限。  比方说，如今大部分网友都用 Windows 上网。并且，这些网友都是以“系统管理员”的身份使用浏览器。一旦碰到这类漏洞时，本地的攻击代码也同时具有了“系统管理员权限”。有了这么高的权限，攻击代码可以为所欲为。  某些网友可能会问：那不用管理员身份上网，是不是就没事了？  俺只能说，用低权限的用户身份（比如 Windows 里面的“Users 组”）上网，相对于用管理员身份上网，会好一些。但是捏，还是有问题。  举个例子：  即使你用低权限用户上网，一旦遭遇这类漏洞，攻击代码还是有可能植入木马。然后捏，这个木马有可能会查找你电脑上的各种私密文件（比如你的裸照）。然后木马会把这些私密文件发送给木马的主人。   从上述例子可见，用低权限的用户上网，【不能】彻底解决问题。所以，俺隆重推出第三种方案——多用户方案。        ◇啥是“多用户方案”捏？ 
  如今的桌面操作系统，无论是 Windows 还是 Linux 或 Mac OS，都可以创建多个操作系统用户，并且这多个用户可以同时运行程序。如果你用过 WinXP 的快速用户切换，应该对此深有体会。  多用户方案的关键在于：  你需要创建一个或多个【低权限】的“上网用户”（所谓低权限，必须低于你当前使用的用户权限）。这些“上网用户”专门用来访问各种网站。  假使你不幸访问了恶意网页，遭遇本地执行的攻击代码，问题也不大。因为这些上网用户的权限很低，所以它们触发的攻击代码，权限也很低。因此攻击代码就比较难钻空子。一般来说，对“上网用户”的权限限制得越严格，攻击代码就越难有作为。        ◇操作步骤 
  
   1. 创建上网用户
    如何在桌面系统中创建新的用户，大家应该都会吧？不会的同学，请看《  避免使用高权限用户  》一文的相关章节。上网用户可以只创建一个，也可以创建多个。具体建几个，看你的需求。  举例：  假如你非常看重网银的安全，可以创建两个上网用户，一个专门用来访问网银，一个专门用来上其它网站。  提醒一下：在这些上网用户的环境中，除了浏览器，其它啥软件都【别】装。   
   2. 设置上网用户的权限
    再啰嗦一次，上网用户的权限，一定要低于你目前使用的用户权限。  以 Windows 为例：  在 Windows 中，常见的用户组的权限大小分别是： 
   “Administrators 组” ＞ “Power Users 组” ＞ “Users 组” ＞ “Guest 组”
   。  如果你平时用“Administrators 组”的用户，那么可以把上网用户设置为：“Power User”或“User”或“Guest”  如果你平时用“Power Users 组”的用户，那么上网用户就只能设置为 User 或 Guest。  以此类推......  （如果你想了解这些用户组之间的权限差异，可以参考本系列的第一个帖子《  避免使用高权限用户  》）   提醒一下：  Guest 用户组的权限是最低，低得难以想象。所以，从安全角度而言，把上网用户设置为“Guest 组”是最安全滴。但是，也是最麻烦滴。你需要进行好多设置——否则的话，你可能连浏览器都跑不起来。  所以，除非你对 Windows 系统比较熟悉，否则的话，俺【不】建议使用“Guest 组”的权限。比较理想的权限是“Users 组”。这个组的权限也比较低，但是用起来不麻烦。   
   3. 设置文件目录的访问控制权限（ACL）
    每个人的电脑中，都会有某几个目录是用来存放你的敏感个人资料的。  你必须设置这些目录的访问控制权限（简称 ACL），设置为：“上网用户”所在的组【 
   不允许读写
   】。这样一来，你可以把自己那些敏感的，私密的文件（比如自己的裸照），都通过上述 ACL 保护起来。即使“上网用户”遭遇高危漏洞的攻击，本地执行的攻击代码也【难以拿到】你的隐私（俺说"难以拿到"，意思就是说，还是有可能滴，但是可能性很小，后面会解释）。  顺便提醒一下：对于 Windows 系统，只有使用 NTFS 格式的分区，才支持 ACL。FAT32 格式的分区是不支持滴！  如果你是个菜鸟，不懂得如何设置文件及目录的 ACL，没关系！Google 一下，你就知道。   
   4. 多用户浏览器共享同一个桌面的技巧
    你可以直接用 Windows 提供的“快速用户切换”。对于 Windows 系统，从 WinXP 开始就提供了"快速用户切换"的功能。用它来切换用户还是很方便滴。但是这招有一个缺点：你一次只能看到某一个用户运行的软件，其它用户运行的软件看不到。  不过没关系，还有一个小技巧，可以让你在同一个桌面中，运行不同用户的软件（包括浏览器）。  假设你创建了 A ＆ B 两个用户。其中 A 是主用户，用来完成你日常的工作；B 是上网用户。那么你可以先登录“A用户”，然后在“A用户”的桌面上创建一个浏览器的快捷方式。（如何创建快捷方式，就不用俺手把手教了吧）  用鼠标选中该快捷方式，在快捷菜单（右键菜单）中，选择“属性”菜单项。出现如下对话框。        
  在该对话框中，点“高级”按钮。出现如下对话框。把“以其他用户身份运行”选项打勾，就可以啦。        
  之后，如果你想在“A用户”的桌面上运行“B用户”的浏览器，只需点击该快捷方式，就会弹出如下对话框。然后输入“B用户”的用户名/口令，就能以“B用户”的身份运行浏览器。        
  刚才介绍的是图形界面的配置。对于习惯于命令行的 IT 专业人员，还可以用命令行的方式启动指定用户的某个进程。Linux 系统和 Mac OS 系统有 
   su
   或 
   sudo
   命令；Windows 系统有 
   runas
   命令。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   2. 解决高危插件（Flash）的使用问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   3. 防范各种浏览器漏洞
    正如刚才提到的——前两种方案（多浏览器、多实例）无法防御浏览器及插件的某些高危漏洞（具备本地执行攻击代码的漏洞）。而“多用户方案”可以大大降低这类漏洞的危害性。使得攻击代码只能威胁到“上网用户”本身，而不会威胁到其它操作系统用户。        ◇缺点 
  
   1. 初始配置稍嫌麻烦
    相比前面两种方案，这个方案的【初始配置】比较麻烦。而且你要分清楚哪个用户是用来干啥的。不过捏，一旦用久了，习惯了，也就不觉得麻烦了。   
   2. 无法防范极个别高明的攻击者
    “多用户方案”之所以可以隔离攻击代码，是因为如今所有主流的桌面操作系统，都能够在操作系统层面，对不同的系统用户进行隔离。因为有操作系统层面的隔离，所以才限制了攻击代码的危害性。  但是，操作系统层面的隔离，也不是百分之百可靠滴。不要忘了，操作系统本身也是软件，也可能出现安全漏洞。在操作系统的安全漏洞中，有一类漏洞叫做“权限提升漏洞”（简称“提权漏洞”）。所谓的“提权漏洞”，顾名思义，就是能够提升【当前执行代码】的权限。比方说，本来攻击代码没有管理员权限，通过"提权漏洞"，就可以拿到管理员权限。  如果你的操作系统本身存在“提权漏洞”，同时你的浏览器或者插件存在“能够在本地执行代码的漏洞”，那么，高明的攻击者就有可能把这两者组合起来，对你的系统进行组合攻击。  不过大伙儿别担心——要实现这类组合攻击，需要同时掌握【未公开的】浏览器或插件漏洞，并且还要有【未公开的】操作系统提权漏洞（俺在  前面的帖子  里介绍过，“未公开漏洞”总是比“零日漏洞”更危险）。另外，攻击者还需要做很多准备工作，才能诱使你访问到恶意网页。一般的入侵者根本没有这个本事，也没有耐心去搞这些。反之，有这个本事又有这个耐心的入侵者，通常不会拿这种招数去入侵普通网友（这么做简直是大材小用）。所以，如果你只是一个普通的网友，在前面三个方案中挑选一个，即可。   估计有些好奇的同学会打听了。什么样的入侵者具有这种实力？什么样的人会成为他们的目标？  由于本文的篇幅已经很长了，俺稍微调一下列位看官的胃口，在《Web相关的防范（下）》再来八卦这些，同时也介绍一下比“多用户方案”更高级的方案。虽然这种方案很多人用不到，但俺还是会写出来，就当满足一下大伙儿的好奇心 :-)    
   
    回到本系列的目录
   
       

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html 
    
    
  
  
    
         
    
    
    
 
    
  

" />
    
    <meta name="author" content="觀點" />

    
    <meta property="og:title" content="如何防止黑客入侵[6]：Web相关的防范（中）" />
    <meta property="twitter:title" content="如何防止黑客入侵[6]：Web相关的防范（中）" />
    

  <link rel="stylesheet" type="text/css" href="/opinion/style.css" />
  <link rel="alternate" type="application/rss+xml" title="觀點 - 從草根到大師 git.io/JJCxS" href="/opinion/feed.xml" />

  <!-- Social Share Kit CSS -->
  <link rel="stylesheet" href="/opinion/assets/css/social-share-kit.css" type="text/css">
  <link rel="stylesheet" href="/opinion/assets/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/opinion/assets/css/bootstrap.min.css" type="text/css">
  <script type="text/javascript" src="/opinion/assets/js/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="/opinion/assets/js/page.js"></script>

</head>

  <body>
    <div class="wrapper-masthead">
  <div class="container">
    <header class="masthead clearfix">
      

      <div class="site-info">
        <h1 class="site-name" style="display: inline-block;"><a href="/opinion/">觀點</a></h1>
        <i class="site-description" style="font-size: 12px;">從草根到大師 git.io/JJCxS</i>
      </div>

      <nav>
        <span id="search-container" >
          <a href="/opinion/tools"><i class="fa fa-bookmark twitter" title="百宝箱"></i></a>
        <a><i class="fa fa-search" title="限前100結果"></i></a><input type="text" id="search-input" placeholder="標題 作者 來源 日期 (17489)"
          style="margin: 10px 0px 0px 0px; height: 30px;width: auto" title="本站最正確的打開方式">
        </span>
        
        
        <a href="/opinion/categories" style="color: Tomato;"><i class="fa fa-tags" title="分类"></i></a>
        
        
        
        <a href="https://be4.herokuapp.com/" style="color: #003366;"><i class="fa fa-comments" title="论坛"></i></a>
        
        
        
        <a href="/opinion/about"><i class="fa fa-info-circle" title="关于"></i></a>
        
        
        <a title="电脑热键：&larr;上一篇(页), &rarr;下一篇(页), ins同来源新一篇，del同来源旧一篇" onclick="toggle_visibility('help')"><i class="fa fa-question-circle"></i></a>
        <a id="fa-home" href="https://nodebe4.github.io" title="BE4服务列表" onclick="//toggle_visibility('site-list')"><i class="fa fa-home" aria-hidden="true"></i></a>
      </nav>

    </header>
    <div id="site-list" class="tags" style="display: block;text-align: right;border-bottom: 1px solid lightGray;"><noscript><span style="background-color: #e8e8e8;color: #d10000;font-size: 14px;">开启浏览器JavaScript以获取搜索功能和更好的浏览体验</span></noscript></div>
    <p id="help" style="font-size: 14px;display: none;text-align: right;"><span style="color:green;">电脑热键：&larr;上一篇(页), &rarr;下一篇(页), ins同来源新一篇, del同来源旧一篇</span>; <span style="color:orange">对应触屏FAB：上下右左</span>; 轉Markdown<a href="https://euangoddard.github.io/clipboard2markdown/"><i class="fa fa-file-text-o"></i></a></p>
  </div>
</div>

<script type="text/javascript" >
  function toggle_visibility(id){
    var help = document.getElementById(id)
    if (help.style.display=='none'){
      help.style.display='block';
    }else{
      help.style.display='none';
    }
  }

  const url = "https://nodebe4.github.io/sitelist.json"

  document.addEventListener("DOMContentLoaded", function(event){
    // var homebtn = document.getElementById("fa-home")
    // homebtn.removeAttribute("href")
    var content = document.getElementById("site-list");
    content.innerHTML = ''
    var ul = document.createElement("ul")
    ul.classList.add("label")
    content.appendChild(ul)
    var cnt = 0

    $.getJSON(url, function(allsites) {

      allsites.map(item =>{
        var li = document.createElement('li')
        li.classList.add("tag")
        li.id = 'site-' + cnt
        ul.appendChild(li)
        var a0 = document.createElement('a')
        li.appendChild(a0)
        a0.href = item.url[0]
        var span = document.createElement('span')
        a0.appendChild(span)
        span.innerText = item['name']
        // span.style.backgroundColor = item['background-color']
        // span.style.color='#E4CBC3'
        span.style.color = item['background-color']
        span.style['font-size'] = '14px'
        cnt += 1
        // test_alive(li.id, a0.href)
      })
    })
  })

function test_alive(id, url){
  var divstatus = document.getElementById(id)
  const base = 'https://textance.herokuapp.com/title/'
  var fullurl = base + url
  $.ajax({
      url: fullurl,
      complete: function(data) {
        if (data.responseText.includes('502')){
          // divstatus.style.color='#FBB7B7'
          // divstatus.style.color='gray'
          // divstatus.title = "服务器无响应"
          divstatus.parentNode.removeChild(divstatus)
        }else{
          // divstatus.style.color='#B6FAC8'
          divstatus.title = data.responseText
        }
      }
  });
  return divstatus
}
</script>



    <!-- Left & centered positioning -->

<div class="ssk-sticky ssk-right ssk-center ssk-sticky-hide-xs ssk-group ssk-round">
  
    <a href="https://be4news.pythonanywhere.com/archivenow/ia/https%3A%2F%2Fprogram-think.blogspot.com%2F2012%2F09%2Fhowto-prevent-hacker-attack-6.html" class="ssk ssk-link" title="存到互联网档案馆" target="_blank"></a>
    <a href="https://www.facebook.com/sharer.php?u=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html" class="ssk ssk-facebook"></a>
    <a href="https://twitter.com/intent/tweet?url=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html&text=如何防止黑客入侵[6]：Web相关的防范（中）&hashtags=觀點" class="ssk ssk-twitter"></a>
    <a href="https://reddit.com/submit?url=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html&title=如何防止黑客入侵[6]：Web相关的防范（中）" class="ssk ssk-reddit"></a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html&title=如何防止黑客入侵[6]：Web相关的防范（中）" class="ssk ssk-linkedin"></a>
    <a href="mailto:{email_address}?subject=如何防止黑客入侵[6]：Web相关的防范（中）&body=

      如何防止黑客入侵[6]：Web相关的防范（中）  
  
    
      
    
  
  
在本系列的  前一篇  聊了些基础性的东西，包括：常见的攻击手法、如何选择浏览器和插件。今天，俺继续介绍几个相对高级一点的话题。  
       
        ★如何防范浏览器和插件的漏洞？ 
  在前一篇已经告诉大伙儿“如何选择浏览器”。但是光知道这个是不够滴！因为浏览器也是软件，只要是软件就可能会出现漏洞（包括安全漏洞）。  即使你按照俺的建议，选择 Firefox 或 Chrome 作为日常的浏览器，也【无法完全避免】浏览器自身出漏洞的问题。而且浏览器的漏洞中，有一些是没有补丁的高危漏洞（包括“未公开漏洞”＆“零日漏洞”，俺在  前面的帖子  里介绍过）。因为没有补丁，所以这类高危漏洞就特别危险。这就引出了第一个问题： 
   如何防范浏览器的漏洞？
    另外，在浏览器插件中，Flash 插件既是最危险的插件，也是使用最广的插件。这就引出了第二个问题： 
   如何安全地使用危险的插件？
    要解决上述2个问题，可以使用同一个原则，那就是：【 
   对浏览器进行隔离
   】。具体的隔离方式有很多种，今天俺由浅入深，分别介绍一下。   
         ★“多浏览器”的方案 
       ◇操作步骤 
  这招是最简单的——就是在一台电脑上安装多款【不同内核】的浏览器。具体步骤俺就不多说了，节约点口水。        ◇优点 
  
   1. 解决网银的问题
    前面提到了国内网银依赖于 IE 的问题。但是 IE 的安全性又不如 Firefox 和 Chrome，咋办捏？最简单的办法就是同时安装两款浏览器（比如 IE + Firefox）。平时你上网的时候，用 Firefox，需要用网银，则改用 IE。  由于你仅仅在使用网银的时候，才开启 IE，大大降低了 IE 被入侵的机会。   
   2. 解决跨站脚本（XSS）的问题
    使用多种浏览器，还可以帮你解决跨站脚本攻击的问题。  单纯的XSS攻击，主要是依赖 JavaScript。而 JavaScript 只能在浏览器进程内起作用，无法跨浏览器进程。所以，如果你同时使用 A B 两款浏览器。如果 A 浏览器发送 XSS 攻击，通常不会影响到 B 浏览器。除非这个 XSS 攻击结合了浏览器漏洞或插件漏洞。那么，多款浏览器是否能防范浏览器漏洞和插件漏洞捏？请看往下看。   
   3. 部分解决高危插件（Flash）的使用问题
    俺在  上一篇  提到了利用 Flash 入侵 Gmail 的案例。  比方说，你同时用 Firefox 和 Chrome。其中 Firefox 安装 Flash，用来上普通的网站；而 Chrome 不装或禁用 Flash，专门用来上 Google 的相关服务器（比如 Gmail）。  某天，你收到一封恶意的邮件，该邮件会利用 Flash 的漏洞来入侵用户的电脑。幸运的是，你用来访问 Gmail 的 Chrome 上没有 Flash 插件（被禁用），于是攻击者的阴谋没有得逞 :-)        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞和插件漏洞的问题
    细心的读者会注意到，刚才那个小节的标题是  部分解决高危插件（Flash）的问题  。为啥俺要特地强调【部分解决】捏？因为浏览器的漏洞和插件的漏洞有很多种。有些漏洞只是让浏览器崩溃，无伤大雅；而有些漏洞可以导致在本地执行代码，并且能进一步植入木马。一旦你碰到后者，即使你采用“多种浏览器”的方式，也抵挡不住。  某些天真的网友可能会问：浏览器厂商和插件厂商不是会升级补丁吗？但是问题在于，有少数一些漏洞是没有补丁的。为啥会这样捏？请看本系列上一篇《  安全漏洞的基本防范  》，里面介绍了"未公开漏洞"和"零日漏洞"。  不过别担心，俺后面还会介绍更高级的招数，来防范这种情况。   
   2. 灵活性不够
    对于“多浏览器”的方案，还有一个缺点是不够灵活。  因为你要为每一种用途安装一款浏览器，如果你的用途比较多（比如：上网银、普通浏览、Web 邮箱、看视频），就要装好几款。  另外，有些用户就喜欢某一款浏览器，你让这些用户装好几款浏览器，他们会觉得不爽。  对于“灵活性不够”的缺点，大伙儿可以参考接下来要介绍的第二招——“多实例”的方案。   
         ★【多实例】的方案 
       ◇什么是浏览器的多实例？ 
  所谓的浏览器多实例，有时候也称之为“Multiple Profiles”。  不论是 Firefox 还是 Chrome，默认安装的时候，只有一个实例（Profile）。和浏览器相关的各种信息，包括：插件、扩展、外观（皮肤）、页面缓存、cookie、等等，都存储在这个实例中。  反之，如果使用多实例，每个实例都具有独立的插件、独立的扩展、独立的外观（皮肤）、独立的页面缓存、独立的 cookie、等等。不同实例之间是相对隔离的，【不会】互相影响。  对于 Chrome，再特别提醒一下：  Chrome 同时支持“Multiple Profiles”与“Multiple Accounts”。但别把这两者搞混了。即使你配置了多个 Accounts，依然在【同一个】实例里。        ◇操作步骤 
  多实例的配置，很多人不晓得。所以俺详细说一下。考虑到 Windows 用户居多，俺以 Windows 举例。Linux 和 Mac OS 的操作步骤大同小异。   
   多实例的 Firefox
     对于 Windows 上的 Firefox，Profile 都放置于 
   %APPDATA%\Mozilla\Firefox\Profiles
   目录下。  假设你想创建一个【全新的】Firefox 实例，可以通过如下命令行来启动 Firefox。      "{PATH}\firefox.exe" -P "XXXX" -no-remote    
 上述命令中， 
   {PATH}
   表示你的 Firefox 的【安装目录】。 
   XXXX
   表示你要创建的【实例名】（实例名可以是任意字母组合，你也可以把 
   XXXX
   改成其它名称）。  运行完上述命令，Firefox 会启动出一个名叫 
   XXXX
   的实例。与此同时，在 
   %APPDATA%\Mozilla\Firefox\Profiles
   下会多出一个名叫 
   XXXX
   的目录。  按照上述方式依样画葫芦，你就可以启动出任意多个 Firefox 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。  另外，Firefox 还提供了一个多实例的管理界面，用如下命令可以调出该界面。      "{PATH}\firefox.exe" -p    
  
   多实例的 Chrome
     Chrome 类似于 Firefox，也可以通过命令行启动新的实例。  对于 Windows 上的 Chrome，由于 Chrome 安装的时候没让选安装目录，所以其【 
   exe 的安装目录固定如下
   】：   Windows 7 或 Vista 系统  
   C:\Users\
   
    {USER}
   
   \AppData\Local\Google\Chrome\Application\chrome.exe
    Windows XP 系统  
   C:\Documents and Settings\
   
    {USER}
   
   \Local Settings\Application Data\Google\Chrome\Application\chrome.exe
    上述的 
   {USER}
   表示你的 Windows 用户名   找到 
   chrome.exe
   之后，接下来，你需要创建一个目录，用来存放新创建的实例。比方说，你用的是这个目录： 
   X:\XXXX\
    然后，通过如下命令启动 Chrome，就可以创建出新实例   Vista 或 Windows 7 系统      C:\Users\{USER}\AppData\Local\Google\Chrome\Application\chrome.exe --user-data-dir="X:\XXXX\"    
 Windows XP 或 Win 2003 系统      C:\Documents and Settings\{USER}\Local Settings\Application Data\Google\Chrome\chrome.exe --user-data-dir="X:\XXXX\"    
  按照上述方式依样画葫芦，你就可以创建出任意多个 Chrome 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   2. 部分解决高危插件（Flash）的使用问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   3. 灵活性高
    与“多浏览器”的方案相比，“多实例”的方案明显灵活多了。因为 Firefox 和 Chrome 可以创建出任意多个实例（只要你的硬盘够大，想建几个实例都行）。而且，这个方案可以满足某些 Firefox 粉丝或 Chrome 粉丝的个人偏好。        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞的问题
    在这方面，“多实例方案”与“多浏览器方案”具有共同的缺陷——无法抵御具有【本地代码执行】的高危漏洞。包括浏览器漏洞和插件漏洞都有可能出现这类高危漏洞。  那么，该咋办捏，请看下一节——“多用户”的方案。   
         ★【多用户】的方案 
  前面提到的两种方案，都无法防范某些浏览器或插件的高危漏洞。因为这些高危漏洞会导致在本地执行攻击代码，并有可能植入木马。现在，俺来介绍第三种方案——多用户方案。此方案可以防范 
   大部分
   在本地执行的攻击代码。  先说明一下，此处的“用户”指的是【操作系统用户】。        ◇某些高危漏洞为啥很危险？ 
  俺前面反复提到“导致本地执行攻击代码的漏洞”。这样的漏洞是非常非常危险的。为啥捏？俺简单扫盲一下。  如果你的浏览器或者浏览器插件具有这类漏洞，当你访问某个恶意网页时，如果该恶意网页能够利用此漏洞，就可以在你的本地的操作系统中执行攻击代码。由于这个攻击代码是在浏览器的进程内触发的，所以该攻击代码就具有当前用户所具有的权限。  比方说，如今大部分网友都用 Windows 上网。并且，这些网友都是以“系统管理员”的身份使用浏览器。一旦碰到这类漏洞时，本地的攻击代码也同时具有了“系统管理员权限”。有了这么高的权限，攻击代码可以为所欲为。  某些网友可能会问：那不用管理员身份上网，是不是就没事了？  俺只能说，用低权限的用户身份（比如 Windows 里面的“Users 组”）上网，相对于用管理员身份上网，会好一些。但是捏，还是有问题。  举个例子：  即使你用低权限用户上网，一旦遭遇这类漏洞，攻击代码还是有可能植入木马。然后捏，这个木马有可能会查找你电脑上的各种私密文件（比如你的裸照）。然后木马会把这些私密文件发送给木马的主人。   从上述例子可见，用低权限的用户上网，【不能】彻底解决问题。所以，俺隆重推出第三种方案——多用户方案。        ◇啥是“多用户方案”捏？ 
  如今的桌面操作系统，无论是 Windows 还是 Linux 或 Mac OS，都可以创建多个操作系统用户，并且这多个用户可以同时运行程序。如果你用过 WinXP 的快速用户切换，应该对此深有体会。  多用户方案的关键在于：  你需要创建一个或多个【低权限】的“上网用户”（所谓低权限，必须低于你当前使用的用户权限）。这些“上网用户”专门用来访问各种网站。  假使你不幸访问了恶意网页，遭遇本地执行的攻击代码，问题也不大。因为这些上网用户的权限很低，所以它们触发的攻击代码，权限也很低。因此攻击代码就比较难钻空子。一般来说，对“上网用户”的权限限制得越严格，攻击代码就越难有作为。        ◇操作步骤 
  
   1. 创建上网用户
    如何在桌面系统中创建新的用户，大家应该都会吧？不会的同学，请看《  避免使用高权限用户  》一文的相关章节。上网用户可以只创建一个，也可以创建多个。具体建几个，看你的需求。  举例：  假如你非常看重网银的安全，可以创建两个上网用户，一个专门用来访问网银，一个专门用来上其它网站。  提醒一下：在这些上网用户的环境中，除了浏览器，其它啥软件都【别】装。   
   2. 设置上网用户的权限
    再啰嗦一次，上网用户的权限，一定要低于你目前使用的用户权限。  以 Windows 为例：  在 Windows 中，常见的用户组的权限大小分别是： 
   “Administrators 组” ＞ “Power Users 组” ＞ “Users 组” ＞ “Guest 组”
   。  如果你平时用“Administrators 组”的用户，那么可以把上网用户设置为：“Power User”或“User”或“Guest”  如果你平时用“Power Users 组”的用户，那么上网用户就只能设置为 User 或 Guest。  以此类推......  （如果你想了解这些用户组之间的权限差异，可以参考本系列的第一个帖子《  避免使用高权限用户  》）   提醒一下：  Guest 用户组的权限是最低，低得难以想象。所以，从安全角度而言，把上网用户设置为“Guest 组”是最安全滴。但是，也是最麻烦滴。你需要进行好多设置——否则的话，你可能连浏览器都跑不起来。  所以，除非你对 Windows 系统比较熟悉，否则的话，俺【不】建议使用“Guest 组”的权限。比较理想的权限是“Users 组”。这个组的权限也比较低，但是用起来不麻烦。   
   3. 设置文件目录的访问控制权限（ACL）
    每个人的电脑中，都会有某几个目录是用来存放你的敏感个人资料的。  你必须设置这些目录的访问控制权限（简称 ACL），设置为：“上网用户”所在的组【 
   不允许读写
   】。这样一来，你可以把自己那些敏感的，私密的文件（比如自己的裸照），都通过上述 ACL 保护起来。即使“上网用户”遭遇高危漏洞的攻击，本地执行的攻击代码也【难以拿到】你的隐私（俺说"难以拿到"，意思就是说，还是有可能滴，但是可能性很小，后面会解释）。  顺便提醒一下：对于 Windows 系统，只有使用 NTFS 格式的分区，才支持 ACL。FAT32 格式的分区是不支持滴！  如果你是个菜鸟，不懂得如何设置文件及目录的 ACL，没关系！Google 一下，你就知道。   
   4. 多用户浏览器共享同一个桌面的技巧
    你可以直接用 Windows 提供的“快速用户切换”。对于 Windows 系统，从 WinXP 开始就提供了"快速用户切换"的功能。用它来切换用户还是很方便滴。但是这招有一个缺点：你一次只能看到某一个用户运行的软件，其它用户运行的软件看不到。  不过没关系，还有一个小技巧，可以让你在同一个桌面中，运行不同用户的软件（包括浏览器）。  假设你创建了 A ＆ B 两个用户。其中 A 是主用户，用来完成你日常的工作；B 是上网用户。那么你可以先登录“A用户”，然后在“A用户”的桌面上创建一个浏览器的快捷方式。（如何创建快捷方式，就不用俺手把手教了吧）  用鼠标选中该快捷方式，在快捷菜单（右键菜单）中，选择“属性”菜单项。出现如下对话框。        
  在该对话框中，点“高级”按钮。出现如下对话框。把“以其他用户身份运行”选项打勾，就可以啦。        
  之后，如果你想在“A用户”的桌面上运行“B用户”的浏览器，只需点击该快捷方式，就会弹出如下对话框。然后输入“B用户”的用户名/口令，就能以“B用户”的身份运行浏览器。        
  刚才介绍的是图形界面的配置。对于习惯于命令行的 IT 专业人员，还可以用命令行的方式启动指定用户的某个进程。Linux 系统和 Mac OS 系统有 
   su
   或 
   sudo
   命令；Windows 系统有 
   runas
   命令。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   2. 解决高危插件（Flash）的使用问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   3. 防范各种浏览器漏洞
    正如刚才提到的——前两种方案（多浏览器、多实例）无法防御浏览器及插件的某些高危漏洞（具备本地执行攻击代码的漏洞）。而“多用户方案”可以大大降低这类漏洞的危害性。使得攻击代码只能威胁到“上网用户”本身，而不会威胁到其它操作系统用户。        ◇缺点 
  
   1. 初始配置稍嫌麻烦
    相比前面两种方案，这个方案的【初始配置】比较麻烦。而且你要分清楚哪个用户是用来干啥的。不过捏，一旦用久了，习惯了，也就不觉得麻烦了。   
   2. 无法防范极个别高明的攻击者
    “多用户方案”之所以可以隔离攻击代码，是因为如今所有主流的桌面操作系统，都能够在操作系统层面，对不同的系统用户进行隔离。因为有操作系统层面的隔离，所以才限制了攻击代码的危害性。  但是，操作系统层面的隔离，也不是百分之百可靠滴。不要忘了，操作系统本身也是软件，也可能出现安全漏洞。在操作系统的安全漏洞中，有一类漏洞叫做“权限提升漏洞”（简称“提权漏洞”）。所谓的“提权漏洞”，顾名思义，就是能够提升【当前执行代码】的权限。比方说，本来攻击代码没有管理员权限，通过"提权漏洞"，就可以拿到管理员权限。  如果你的操作系统本身存在“提权漏洞”，同时你的浏览器或者插件存在“能够在本地执行代码的漏洞”，那么，高明的攻击者就有可能把这两者组合起来，对你的系统进行组合攻击。  不过大伙儿别担心——要实现这类组合攻击，需要同时掌握【未公开的】浏览器或插件漏洞，并且还要有【未公开的】操作系统提权漏洞（俺在  前面的帖子  里介绍过，“未公开漏洞”总是比“零日漏洞”更危险）。另外，攻击者还需要做很多准备工作，才能诱使你访问到恶意网页。一般的入侵者根本没有这个本事，也没有耐心去搞这些。反之，有这个本事又有这个耐心的入侵者，通常不会拿这种招数去入侵普通网友（这么做简直是大材小用）。所以，如果你只是一个普通的网友，在前面三个方案中挑选一个，即可。   估计有些好奇的同学会打听了。什么样的入侵者具有这种实力？什么样的人会成为他们的目标？  由于本文的篇幅已经很长了，俺稍微调一下列位看官的胃口，在《Web相关的防范（下）》再来八卦这些，同时也介绍一下比“多用户方案”更高级的方案。虽然这种方案很多人用不到，但俺还是会写出来，就当满足一下大伙儿的好奇心 :-)    
   
    回到本系列的目录
   
       

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html 
    
    
  
  
    
         
    
    
    
 
    
  

" class="ssk ssk-email"></a>
    <a href="http://pinterest.com/pin/create/link/?url=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html" class="ssk ssk-pinterest"></a>
    <a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html&title=如何防止黑客入侵[6]：Web相关的防范（中）&caption=

      如何防止黑客入侵[6]：Web相关的防范（中）  
  
    
      
    
  
  
在本系列的  前一篇  聊了些基础性的东西，包括：常见的攻击手法、如何选择浏览器和插件。今天，俺继续介绍几个相对高级一点的话题。  
       
        ★如何防范浏览器和插件的漏洞？ 
  在前一篇已经告诉大伙儿“如何选择浏览器”。但是光知道这个是不够滴！因为浏览器也是软件，只要是软件就可能会出现漏洞（包括安全漏洞）。  即使你按照俺的建议，选择 Firefox 或 Chrome 作为日常的浏览器，也【无法完全避免】浏览器自身出漏洞的问题。而且浏览器的漏洞中，有一些是没有补丁的高危漏洞（包括“未公开漏洞”＆“零日漏洞”，俺在  前面的帖子  里介绍过）。因为没有补丁，所以这类高危漏洞就特别危险。这就引出了第一个问题： 
   如何防范浏览器的漏洞？
    另外，在浏览器插件中，Flash 插件既是最危险的插件，也是使用最广的插件。这就引出了第二个问题： 
   如何安全地使用危险的插件？
    要解决上述2个问题，可以使用同一个原则，那就是：【 
   对浏览器进行隔离
   】。具体的隔离方式有很多种，今天俺由浅入深，分别介绍一下。   
         ★“多浏览器”的方案 
       ◇操作步骤 
  这招是最简单的——就是在一台电脑上安装多款【不同内核】的浏览器。具体步骤俺就不多说了，节约点口水。        ◇优点 
  
   1. 解决网银的问题
    前面提到了国内网银依赖于 IE 的问题。但是 IE 的安全性又不如 Firefox 和 Chrome，咋办捏？最简单的办法就是同时安装两款浏览器（比如 IE + Firefox）。平时你上网的时候，用 Firefox，需要用网银，则改用 IE。  由于你仅仅在使用网银的时候，才开启 IE，大大降低了 IE 被入侵的机会。   
   2. 解决跨站脚本（XSS）的问题
    使用多种浏览器，还可以帮你解决跨站脚本攻击的问题。  单纯的XSS攻击，主要是依赖 JavaScript。而 JavaScript 只能在浏览器进程内起作用，无法跨浏览器进程。所以，如果你同时使用 A B 两款浏览器。如果 A 浏览器发送 XSS 攻击，通常不会影响到 B 浏览器。除非这个 XSS 攻击结合了浏览器漏洞或插件漏洞。那么，多款浏览器是否能防范浏览器漏洞和插件漏洞捏？请看往下看。   
   3. 部分解决高危插件（Flash）的使用问题
    俺在  上一篇  提到了利用 Flash 入侵 Gmail 的案例。  比方说，你同时用 Firefox 和 Chrome。其中 Firefox 安装 Flash，用来上普通的网站；而 Chrome 不装或禁用 Flash，专门用来上 Google 的相关服务器（比如 Gmail）。  某天，你收到一封恶意的邮件，该邮件会利用 Flash 的漏洞来入侵用户的电脑。幸运的是，你用来访问 Gmail 的 Chrome 上没有 Flash 插件（被禁用），于是攻击者的阴谋没有得逞 :-)        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞和插件漏洞的问题
    细心的读者会注意到，刚才那个小节的标题是  部分解决高危插件（Flash）的问题  。为啥俺要特地强调【部分解决】捏？因为浏览器的漏洞和插件的漏洞有很多种。有些漏洞只是让浏览器崩溃，无伤大雅；而有些漏洞可以导致在本地执行代码，并且能进一步植入木马。一旦你碰到后者，即使你采用“多种浏览器”的方式，也抵挡不住。  某些天真的网友可能会问：浏览器厂商和插件厂商不是会升级补丁吗？但是问题在于，有少数一些漏洞是没有补丁的。为啥会这样捏？请看本系列上一篇《  安全漏洞的基本防范  》，里面介绍了"未公开漏洞"和"零日漏洞"。  不过别担心，俺后面还会介绍更高级的招数，来防范这种情况。   
   2. 灵活性不够
    对于“多浏览器”的方案，还有一个缺点是不够灵活。  因为你要为每一种用途安装一款浏览器，如果你的用途比较多（比如：上网银、普通浏览、Web 邮箱、看视频），就要装好几款。  另外，有些用户就喜欢某一款浏览器，你让这些用户装好几款浏览器，他们会觉得不爽。  对于“灵活性不够”的缺点，大伙儿可以参考接下来要介绍的第二招——“多实例”的方案。   
         ★【多实例】的方案 
       ◇什么是浏览器的多实例？ 
  所谓的浏览器多实例，有时候也称之为“Multiple Profiles”。  不论是 Firefox 还是 Chrome，默认安装的时候，只有一个实例（Profile）。和浏览器相关的各种信息，包括：插件、扩展、外观（皮肤）、页面缓存、cookie、等等，都存储在这个实例中。  反之，如果使用多实例，每个实例都具有独立的插件、独立的扩展、独立的外观（皮肤）、独立的页面缓存、独立的 cookie、等等。不同实例之间是相对隔离的，【不会】互相影响。  对于 Chrome，再特别提醒一下：  Chrome 同时支持“Multiple Profiles”与“Multiple Accounts”。但别把这两者搞混了。即使你配置了多个 Accounts，依然在【同一个】实例里。        ◇操作步骤 
  多实例的配置，很多人不晓得。所以俺详细说一下。考虑到 Windows 用户居多，俺以 Windows 举例。Linux 和 Mac OS 的操作步骤大同小异。   
   多实例的 Firefox
     对于 Windows 上的 Firefox，Profile 都放置于 
   %APPDATA%\Mozilla\Firefox\Profiles
   目录下。  假设你想创建一个【全新的】Firefox 实例，可以通过如下命令行来启动 Firefox。      "{PATH}\firefox.exe" -P "XXXX" -no-remote    
 上述命令中， 
   {PATH}
   表示你的 Firefox 的【安装目录】。 
   XXXX
   表示你要创建的【实例名】（实例名可以是任意字母组合，你也可以把 
   XXXX
   改成其它名称）。  运行完上述命令，Firefox 会启动出一个名叫 
   XXXX
   的实例。与此同时，在 
   %APPDATA%\Mozilla\Firefox\Profiles
   下会多出一个名叫 
   XXXX
   的目录。  按照上述方式依样画葫芦，你就可以启动出任意多个 Firefox 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。  另外，Firefox 还提供了一个多实例的管理界面，用如下命令可以调出该界面。      "{PATH}\firefox.exe" -p    
  
   多实例的 Chrome
     Chrome 类似于 Firefox，也可以通过命令行启动新的实例。  对于 Windows 上的 Chrome，由于 Chrome 安装的时候没让选安装目录，所以其【 
   exe 的安装目录固定如下
   】：   Windows 7 或 Vista 系统  
   C:\Users\
   
    {USER}
   
   \AppData\Local\Google\Chrome\Application\chrome.exe
    Windows XP 系统  
   C:\Documents and Settings\
   
    {USER}
   
   \Local Settings\Application Data\Google\Chrome\Application\chrome.exe
    上述的 
   {USER}
   表示你的 Windows 用户名   找到 
   chrome.exe
   之后，接下来，你需要创建一个目录，用来存放新创建的实例。比方说，你用的是这个目录： 
   X:\XXXX\
    然后，通过如下命令启动 Chrome，就可以创建出新实例   Vista 或 Windows 7 系统      C:\Users\{USER}\AppData\Local\Google\Chrome\Application\chrome.exe --user-data-dir="X:\XXXX\"    
 Windows XP 或 Win 2003 系统      C:\Documents and Settings\{USER}\Local Settings\Application Data\Google\Chrome\chrome.exe --user-data-dir="X:\XXXX\"    
  按照上述方式依样画葫芦，你就可以创建出任意多个 Chrome 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   2. 部分解决高危插件（Flash）的使用问题
    这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。   
   3. 灵活性高
    与“多浏览器”的方案相比，“多实例”的方案明显灵活多了。因为 Firefox 和 Chrome 可以创建出任意多个实例（只要你的硬盘够大，想建几个实例都行）。而且，这个方案可以满足某些 Firefox 粉丝或 Chrome 粉丝的个人偏好。        ◇缺点 
  
   1. 无法彻底解决浏览器漏洞的问题
    在这方面，“多实例方案”与“多浏览器方案”具有共同的缺陷——无法抵御具有【本地代码执行】的高危漏洞。包括浏览器漏洞和插件漏洞都有可能出现这类高危漏洞。  那么，该咋办捏，请看下一节——“多用户”的方案。   
         ★【多用户】的方案 
  前面提到的两种方案，都无法防范某些浏览器或插件的高危漏洞。因为这些高危漏洞会导致在本地执行攻击代码，并有可能植入木马。现在，俺来介绍第三种方案——多用户方案。此方案可以防范 
   大部分
   在本地执行的攻击代码。  先说明一下，此处的“用户”指的是【操作系统用户】。        ◇某些高危漏洞为啥很危险？ 
  俺前面反复提到“导致本地执行攻击代码的漏洞”。这样的漏洞是非常非常危险的。为啥捏？俺简单扫盲一下。  如果你的浏览器或者浏览器插件具有这类漏洞，当你访问某个恶意网页时，如果该恶意网页能够利用此漏洞，就可以在你的本地的操作系统中执行攻击代码。由于这个攻击代码是在浏览器的进程内触发的，所以该攻击代码就具有当前用户所具有的权限。  比方说，如今大部分网友都用 Windows 上网。并且，这些网友都是以“系统管理员”的身份使用浏览器。一旦碰到这类漏洞时，本地的攻击代码也同时具有了“系统管理员权限”。有了这么高的权限，攻击代码可以为所欲为。  某些网友可能会问：那不用管理员身份上网，是不是就没事了？  俺只能说，用低权限的用户身份（比如 Windows 里面的“Users 组”）上网，相对于用管理员身份上网，会好一些。但是捏，还是有问题。  举个例子：  即使你用低权限用户上网，一旦遭遇这类漏洞，攻击代码还是有可能植入木马。然后捏，这个木马有可能会查找你电脑上的各种私密文件（比如你的裸照）。然后木马会把这些私密文件发送给木马的主人。   从上述例子可见，用低权限的用户上网，【不能】彻底解决问题。所以，俺隆重推出第三种方案——多用户方案。        ◇啥是“多用户方案”捏？ 
  如今的桌面操作系统，无论是 Windows 还是 Linux 或 Mac OS，都可以创建多个操作系统用户，并且这多个用户可以同时运行程序。如果你用过 WinXP 的快速用户切换，应该对此深有体会。  多用户方案的关键在于：  你需要创建一个或多个【低权限】的“上网用户”（所谓低权限，必须低于你当前使用的用户权限）。这些“上网用户”专门用来访问各种网站。  假使你不幸访问了恶意网页，遭遇本地执行的攻击代码，问题也不大。因为这些上网用户的权限很低，所以它们触发的攻击代码，权限也很低。因此攻击代码就比较难钻空子。一般来说，对“上网用户”的权限限制得越严格，攻击代码就越难有作为。        ◇操作步骤 
  
   1. 创建上网用户
    如何在桌面系统中创建新的用户，大家应该都会吧？不会的同学，请看《  避免使用高权限用户  》一文的相关章节。上网用户可以只创建一个，也可以创建多个。具体建几个，看你的需求。  举例：  假如你非常看重网银的安全，可以创建两个上网用户，一个专门用来访问网银，一个专门用来上其它网站。  提醒一下：在这些上网用户的环境中，除了浏览器，其它啥软件都【别】装。   
   2. 设置上网用户的权限
    再啰嗦一次，上网用户的权限，一定要低于你目前使用的用户权限。  以 Windows 为例：  在 Windows 中，常见的用户组的权限大小分别是： 
   “Administrators 组” ＞ “Power Users 组” ＞ “Users 组” ＞ “Guest 组”
   。  如果你平时用“Administrators 组”的用户，那么可以把上网用户设置为：“Power User”或“User”或“Guest”  如果你平时用“Power Users 组”的用户，那么上网用户就只能设置为 User 或 Guest。  以此类推......  （如果你想了解这些用户组之间的权限差异，可以参考本系列的第一个帖子《  避免使用高权限用户  》）   提醒一下：  Guest 用户组的权限是最低，低得难以想象。所以，从安全角度而言，把上网用户设置为“Guest 组”是最安全滴。但是，也是最麻烦滴。你需要进行好多设置——否则的话，你可能连浏览器都跑不起来。  所以，除非你对 Windows 系统比较熟悉，否则的话，俺【不】建议使用“Guest 组”的权限。比较理想的权限是“Users 组”。这个组的权限也比较低，但是用起来不麻烦。   
   3. 设置文件目录的访问控制权限（ACL）
    每个人的电脑中，都会有某几个目录是用来存放你的敏感个人资料的。  你必须设置这些目录的访问控制权限（简称 ACL），设置为：“上网用户”所在的组【 
   不允许读写
   】。这样一来，你可以把自己那些敏感的，私密的文件（比如自己的裸照），都通过上述 ACL 保护起来。即使“上网用户”遭遇高危漏洞的攻击，本地执行的攻击代码也【难以拿到】你的隐私（俺说"难以拿到"，意思就是说，还是有可能滴，但是可能性很小，后面会解释）。  顺便提醒一下：对于 Windows 系统，只有使用 NTFS 格式的分区，才支持 ACL。FAT32 格式的分区是不支持滴！  如果你是个菜鸟，不懂得如何设置文件及目录的 ACL，没关系！Google 一下，你就知道。   
   4. 多用户浏览器共享同一个桌面的技巧
    你可以直接用 Windows 提供的“快速用户切换”。对于 Windows 系统，从 WinXP 开始就提供了"快速用户切换"的功能。用它来切换用户还是很方便滴。但是这招有一个缺点：你一次只能看到某一个用户运行的软件，其它用户运行的软件看不到。  不过没关系，还有一个小技巧，可以让你在同一个桌面中，运行不同用户的软件（包括浏览器）。  假设你创建了 A ＆ B 两个用户。其中 A 是主用户，用来完成你日常的工作；B 是上网用户。那么你可以先登录“A用户”，然后在“A用户”的桌面上创建一个浏览器的快捷方式。（如何创建快捷方式，就不用俺手把手教了吧）  用鼠标选中该快捷方式，在快捷菜单（右键菜单）中，选择“属性”菜单项。出现如下对话框。        
  在该对话框中，点“高级”按钮。出现如下对话框。把“以其他用户身份运行”选项打勾，就可以啦。        
  之后，如果你想在“A用户”的桌面上运行“B用户”的浏览器，只需点击该快捷方式，就会弹出如下对话框。然后输入“B用户”的用户名/口令，就能以“B用户”的身份运行浏览器。        
  刚才介绍的是图形界面的配置。对于习惯于命令行的 IT 专业人员，还可以用命令行的方式启动指定用户的某个进程。Linux 系统和 Mac OS 系统有 
   su
   或 
   sudo
   命令；Windows 系统有 
   runas
   命令。        ◇优点 
  
   1. 解决跨站脚本（XSS）的问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   2. 解决高危插件（Flash）的使用问题
    这个优点跟前两种方案类似，俺就不再啰嗦了。   
   3. 防范各种浏览器漏洞
    正如刚才提到的——前两种方案（多浏览器、多实例）无法防御浏览器及插件的某些高危漏洞（具备本地执行攻击代码的漏洞）。而“多用户方案”可以大大降低这类漏洞的危害性。使得攻击代码只能威胁到“上网用户”本身，而不会威胁到其它操作系统用户。        ◇缺点 
  
   1. 初始配置稍嫌麻烦
    相比前面两种方案，这个方案的【初始配置】比较麻烦。而且你要分清楚哪个用户是用来干啥的。不过捏，一旦用久了，习惯了，也就不觉得麻烦了。   
   2. 无法防范极个别高明的攻击者
    “多用户方案”之所以可以隔离攻击代码，是因为如今所有主流的桌面操作系统，都能够在操作系统层面，对不同的系统用户进行隔离。因为有操作系统层面的隔离，所以才限制了攻击代码的危害性。  但是，操作系统层面的隔离，也不是百分之百可靠滴。不要忘了，操作系统本身也是软件，也可能出现安全漏洞。在操作系统的安全漏洞中，有一类漏洞叫做“权限提升漏洞”（简称“提权漏洞”）。所谓的“提权漏洞”，顾名思义，就是能够提升【当前执行代码】的权限。比方说，本来攻击代码没有管理员权限，通过"提权漏洞"，就可以拿到管理员权限。  如果你的操作系统本身存在“提权漏洞”，同时你的浏览器或者插件存在“能够在本地执行代码的漏洞”，那么，高明的攻击者就有可能把这两者组合起来，对你的系统进行组合攻击。  不过大伙儿别担心——要实现这类组合攻击，需要同时掌握【未公开的】浏览器或插件漏洞，并且还要有【未公开的】操作系统提权漏洞（俺在  前面的帖子  里介绍过，“未公开漏洞”总是比“零日漏洞”更危险）。另外，攻击者还需要做很多准备工作，才能诱使你访问到恶意网页。一般的入侵者根本没有这个本事，也没有耐心去搞这些。反之，有这个本事又有这个耐心的入侵者，通常不会拿这种招数去入侵普通网友（这么做简直是大材小用）。所以，如果你只是一个普通的网友，在前面三个方案中挑选一个，即可。   估计有些好奇的同学会打听了。什么样的入侵者具有这种实力？什么样的人会成为他们的目标？  由于本文的篇幅已经很长了，俺稍微调一下列位看官的胃口，在《Web相关的防范（下）》再来八卦这些，同时也介绍一下比“多用户方案”更高级的方案。虽然这种方案很多人用不到，但俺还是会写出来，就当满足一下大伙儿的好奇心 :-)    
   
    回到本系列的目录
   
       

    版权声明
     本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者  编程随想  和本文原始地址：   https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html 
    
    
  
  
    
         
    
    
    
 
    
  

&tags=觀點" class="ssk ssk-tumblr"></a>
    <a href="https://buffer.com/add?text=如何防止黑客入侵[6]：Web相关的防范（中）&url=https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html" class="ssk ssk-buffer"></a>
</div>


    <div id="main" role="main" class="container">
      
  <!-- Html Elements for Search -->
  <ul id="results-container" class="searched" style="color: #2980B9;"></ul>

  <script src="/opinion/assets/js/simple-jekyll-search.min.js"></script>

  <!-- Configuration -->
  <script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/opinion/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a><time>{date}</time><a class="tag">{category}</a></li>',
    noResultsText: '没找到',
    limit: 100,
    fuzzy: false,
    exclude: ['Welcome']
  })

  </script>

      







  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
    


  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
    



<article class="post">
  <h1>如何防止黑客入侵[6]：Web相关的防范（中）</h1>
  <!-- Look the author details up from the site config. -->
  

  <div>
    <span class="date">
      2012-09-08
    </span>

    <!-- Output author details if some exist. -->
    
      
    


    <ul class="tag">
      <li>
        <a href="https://nodebe4.github.io/opinion/categories/#编程随想">
          编程随想
        </a>
      </li>
    </ul>

    
        <span>
            <!-- Personal Info. -->
            <a href="https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html" style="font-size:14px;">原文</a>
        </span>
    

    <span style="float: right;" title="编程随想的其它文章">
      <a style="font-size: 14px;" rel="nofollow" href="#sametag" class="tags">#编程随想 的其它文章</a>
    </span>

  </div>

  <div class="entry">
    
    
    
    <div class="post hentry uncustomized-post-template">
<a name="5167729474941440412">
 </a>   <h1 class="post-title entry-title" id="web--"> <a href="https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html"> 如何防止黑客入侵[6]：Web相关的防范（中） </a> </h1>
  <div class="post-header">
    <div class="post-header-line-1">
      <div class="post-inner-index"></div>
    </div>
  </div>
  <div class="post-body entry-content">
在本系列的 <a href="https://program-think.blogspot.com/2012/08/howto-prevent-hacker-attack-5.html"> 前一篇 </a> 聊了些基础性的东西，包括：常见的攻击手法、如何选择浏览器和插件。今天，俺继续介绍几个相对高级一点的话题。 <br /> <a name="more">
  </a>     <!--program-think-->
 <br /> <br />     <h2 id="section"> ★如何防范浏览器和插件的漏洞？ </h2>
 <br /> 在前一篇已经告诉大伙儿“如何选择浏览器”。但是光知道这个是不够滴！因为浏览器也是软件，只要是软件就可能会出现漏洞（包括安全漏洞）。 <br /> 即使你按照俺的建议，选择 Firefox 或 Chrome 作为日常的浏览器，也【无法完全避免】浏览器自身出漏洞的问题。而且浏览器的漏洞中，有一些是没有补丁的高危漏洞（包括“未公开漏洞”＆“零日漏洞”，俺在 <a href="https://program-think.blogspot.com/2010/08/howto-prevent-hacker-attack-4.html"> 前面的帖子 </a> 里介绍过）。因为没有补丁，所以这类高危漏洞就特别危险。这就引出了第一个问题： <b>
   如何防范浏览器的漏洞？
  </b> <br /> 另外，在浏览器插件中，Flash 插件既是最危险的插件，也是使用最广的插件。这就引出了第二个问题： <b>
   如何安全地使用危险的插件？
  </b> <br /> 要解决上述2个问题，可以使用同一个原则，那就是：【 <b>
   对浏览器进行隔离
  </b> 】。具体的隔离方式有很多种，今天俺由浅入深，分别介绍一下。 <br /> <br /> <a name="multi_browser">
  </a> <br />     <h2 id="section-1"> ★“多浏览器”的方案 </h2>
 <br />     <h3 id="section-2"> ◇操作步骤 </h3>
 <br /> 这招是最简单的——就是在一台电脑上安装多款【不同内核】的浏览器。具体步骤俺就不多说了，节约点口水。 <br /> <br />     <h3 id="section-3"> ◇优点 </h3>
 <br /> <b>
   1. 解决网银的问题
  </b> <br /> 前面提到了国内网银依赖于 IE 的问题。但是 IE 的安全性又不如 Firefox 和 Chrome，咋办捏？最简单的办法就是同时安装两款浏览器（比如 IE + Firefox）。平时你上网的时候，用 Firefox，需要用网银，则改用 IE。 <br /> 由于你仅仅在使用网银的时候，才开启 IE，大大降低了 IE 被入侵的机会。 <br /> <br /> <b>
   2. 解决跨站脚本（XSS）的问题
  </b> <br /> 使用多种浏览器，还可以帮你解决跨站脚本攻击的问题。 <br /> 单纯的XSS攻击，主要是依赖 JavaScript。而 JavaScript 只能在浏览器进程内起作用，无法跨浏览器进程。所以，如果你同时使用 A B 两款浏览器。如果 A 浏览器发送 XSS 攻击，通常不会影响到 B 浏览器。除非这个 XSS 攻击结合了浏览器漏洞或插件漏洞。那么，多款浏览器是否能防范浏览器漏洞和插件漏洞捏？请看往下看。 <br /> <br /> <b>
   3. 部分解决高危插件（Flash）的使用问题
  </b> <br /> 俺在 <a href="https://program-think.blogspot.com/2012/08/howto-prevent-hacker-attack-5.html"> 上一篇 </a> 提到了利用 Flash 入侵 Gmail 的案例。 <br /> 比方说，你同时用 Firefox 和 Chrome。其中 Firefox 安装 Flash，用来上普通的网站；而 Chrome 不装或禁用 Flash，专门用来上 Google 的相关服务器（比如 Gmail）。 <br /> 某天，你收到一封恶意的邮件，该邮件会利用 Flash 的漏洞来入侵用户的电脑。幸运的是，你用来访问 Gmail 的 Chrome 上没有 Flash 插件（被禁用），于是攻击者的阴谋没有得逞 :-) <br /> <br />     <h3 id="section-4"> ◇缺点 </h3>
 <br /> <b>
   1. 无法彻底解决浏览器漏洞和插件漏洞的问题
  </b> <br /> 细心的读者会注意到，刚才那个小节的标题是 <q> 部分解决高危插件（Flash）的问题 </q> 。为啥俺要特地强调【部分解决】捏？因为浏览器的漏洞和插件的漏洞有很多种。有些漏洞只是让浏览器崩溃，无伤大雅；而有些漏洞可以导致在本地执行代码，并且能进一步植入木马。一旦你碰到后者，即使你采用“多种浏览器”的方式，也抵挡不住。 <br /> 某些天真的网友可能会问：浏览器厂商和插件厂商不是会升级补丁吗？但是问题在于，有少数一些漏洞是没有补丁的。为啥会这样捏？请看本系列上一篇《 <a href="https://program-think.blogspot.com/2010/08/howto-prevent-hacker-attack-4.html"> 安全漏洞的基本防范 </a> 》，里面介绍了"未公开漏洞"和"零日漏洞"。 <br /> 不过别担心，俺后面还会介绍更高级的招数，来防范这种情况。 <br /> <br /> <b>
   2. 灵活性不够
  </b> <br /> 对于“多浏览器”的方案，还有一个缺点是不够灵活。 <br /> 因为你要为每一种用途安装一款浏览器，如果你的用途比较多（比如：上网银、普通浏览、Web 邮箱、看视频），就要装好几款。 <br /> 另外，有些用户就喜欢某一款浏览器，你让这些用户装好几款浏览器，他们会觉得不爽。 <br /> 对于“灵活性不够”的缺点，大伙儿可以参考接下来要介绍的第二招——“多实例”的方案。 <br /> <br /> <a name="multi_profile">
  </a> <br />     <h2 id="section-5"> ★【多实例】的方案 </h2>
 <br />     <h3 id="section-6"> ◇什么是浏览器的多实例？ </h3>
 <br /> 所谓的浏览器多实例，有时候也称之为“Multiple Profiles”。 <br /> 不论是 Firefox 还是 Chrome，默认安装的时候，只有一个实例（Profile）。和浏览器相关的各种信息，包括：插件、扩展、外观（皮肤）、页面缓存、cookie、等等，都存储在这个实例中。 <br /> 反之，如果使用多实例，每个实例都具有独立的插件、独立的扩展、独立的外观（皮肤）、独立的页面缓存、独立的 cookie、等等。不同实例之间是相对隔离的，【不会】互相影响。 <br /> 对于 Chrome，再特别提醒一下： <br /> Chrome 同时支持“Multiple Profiles”与“Multiple Accounts”。但别把这两者搞混了。即使你配置了多个 Accounts，依然在【同一个】实例里。 <br /> <br />     <h3 id="section-7"> ◇操作步骤 </h3>
 <br /> 多实例的配置，很多人不晓得。所以俺详细说一下。考虑到 Windows 用户居多，俺以 Windows 举例。Linux 和 Mac OS 的操作步骤大同小异。 <br /> <br /> <b>
   多实例的 Firefox
  </b> <br /> <br /> 对于 Windows 上的 Firefox，Profile 都放置于 <code class="language-plaintext highlighter-rouge">
   %APPDATA%\Mozilla\Firefox\Profiles
  </code> 目录下。 <br /> 假设你想创建一个【全新的】Firefox 实例，可以通过如下命令行来启动 Firefox。 <br />     <div class="language-plaintext shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"{PATH}\firefox.exe" -P "XXXX" -no-remote</code></pre></div>    </div>
 上述命令中， <code class="language-plaintext highlighter-rouge">
   {PATH}
  </code> 表示你的 Firefox 的【安装目录】。 <code class="language-plaintext highlighter-rouge">
   XXXX
  </code> 表示你要创建的【实例名】（实例名可以是任意字母组合，你也可以把 <code class="language-plaintext highlighter-rouge">
   XXXX
  </code> 改成其它名称）。 <br /> 运行完上述命令，Firefox 会启动出一个名叫 <code class="language-plaintext highlighter-rouge">
   XXXX
  </code> 的实例。与此同时，在 <code class="language-plaintext highlighter-rouge">
   %APPDATA%\Mozilla\Firefox\Profiles
  </code> 下会多出一个名叫 <code class="language-plaintext highlighter-rouge">
   XXXX
  </code> 的目录。 <br /> 按照上述方式依样画葫芦，你就可以启动出任意多个 Firefox 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。 <br /> 另外，Firefox 还提供了一个多实例的管理界面，用如下命令可以调出该界面。 <br />     <div class="language-plaintext shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"{PATH}\firefox.exe" -p</code></pre></div>    </div>
 <br /> <b>
   多实例的 Chrome
  </b> <br /> <br /> Chrome 类似于 Firefox，也可以通过命令行启动新的实例。 <br /> 对于 Windows 上的 Chrome，由于 Chrome 安装的时候没让选安装目录，所以其【 <b>
   exe 的安装目录固定如下
  </b> 】： <br /> <br /> Windows 7 或 Vista 系统 <br /> <code class="language-plaintext highlighter-rouge">
   C:\Users\
   
    {USER}
   
   \AppData\Local\Google\Chrome\Application\chrome.exe
  </code> <br /> Windows XP 系统 <br /> <code class="language-plaintext highlighter-rouge">
   C:\Documents and Settings\
   
    {USER}
   
   \Local Settings\Application Data\Google\Chrome\Application\chrome.exe
  </code> <br /> 上述的 <code class="language-plaintext highlighter-rouge">
   {USER}
  </code> 表示你的 Windows 用户名 <br /> <br /> 找到 <code class="language-plaintext highlighter-rouge">
   chrome.exe
  </code> 之后，接下来，你需要创建一个目录，用来存放新创建的实例。比方说，你用的是这个目录： <code class="language-plaintext highlighter-rouge">
   X:\XXXX\
  </code> <br /> 然后，通过如下命令启动 Chrome，就可以创建出新实例 <br /> <br /> Vista 或 Windows 7 系统 <br />     <div class="language-plaintext shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Users\{USER}\AppData\Local\Google\Chrome\Application\chrome.exe --user-data-dir="X:\XXXX\"</code></pre></div>    </div>
 Windows XP 或 Win 2003 系统 <br />     <div class="language-plaintext shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Documents and Settings\{USER}\Local Settings\Application Data\Google\Chrome\chrome.exe --user-data-dir="X:\XXXX\"</code></pre></div>    </div>
 <br /> 按照上述方式依样画葫芦，你就可以创建出任意多个 Chrome 实例。为了省事，你可以把上述命令行做成一个快捷方式，放到桌面上，免得每次都敲键盘。 <br /> <br />     <h3 id="section-8"> ◇优点 </h3>
 <br /> <b>
   1. 解决跨站脚本（XSS）的问题
  </b> <br /> 这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。 <br /> <br /> <b>
   2. 部分解决高危插件（Flash）的使用问题
  </b> <br /> 这个优点跟“多浏览器”方案是类似的。俺就不再啰嗦了。 <br /> <br /> <b>
   3. 灵活性高
  </b> <br /> 与“多浏览器”的方案相比，“多实例”的方案明显灵活多了。因为 Firefox 和 Chrome 可以创建出任意多个实例（只要你的硬盘够大，想建几个实例都行）。而且，这个方案可以满足某些 Firefox 粉丝或 Chrome 粉丝的个人偏好。 <br /> <br />     <h3 id="section-9"> ◇缺点 </h3>
 <br /> <b>
   1. 无法彻底解决浏览器漏洞的问题
  </b> <br /> 在这方面，“多实例方案”与“多浏览器方案”具有共同的缺陷——无法抵御具有【本地代码执行】的高危漏洞。包括浏览器漏洞和插件漏洞都有可能出现这类高危漏洞。 <br /> 那么，该咋办捏，请看下一节——“多用户”的方案。 <br /> <br /> <a name="multi_user">
  </a> <br />     <h2 id="section-10"> ★【多用户】的方案 </h2>
 <br /> 前面提到的两种方案，都无法防范某些浏览器或插件的高危漏洞。因为这些高危漏洞会导致在本地执行攻击代码，并有可能植入木马。现在，俺来介绍第三种方案——多用户方案。此方案可以防范 <b>
   大部分
  </b> 在本地执行的攻击代码。 <br /> 先说明一下，此处的“用户”指的是【操作系统用户】。 <br /> <br />     <h3 id="section-11"> ◇某些高危漏洞为啥很危险？ </h3>
 <br /> 俺前面反复提到“导致本地执行攻击代码的漏洞”。这样的漏洞是非常非常危险的。为啥捏？俺简单扫盲一下。 <br /> 如果你的浏览器或者浏览器插件具有这类漏洞，当你访问某个恶意网页时，如果该恶意网页能够利用此漏洞，就可以在你的本地的操作系统中执行攻击代码。由于这个攻击代码是在浏览器的进程内触发的，所以该攻击代码就具有当前用户所具有的权限。 <br /> 比方说，如今大部分网友都用 Windows 上网。并且，这些网友都是以“系统管理员”的身份使用浏览器。一旦碰到这类漏洞时，本地的攻击代码也同时具有了“系统管理员权限”。有了这么高的权限，攻击代码可以为所欲为。 <br /> 某些网友可能会问：那不用管理员身份上网，是不是就没事了？ <br /> 俺只能说，用低权限的用户身份（比如 Windows 里面的“Users 组”）上网，相对于用管理员身份上网，会好一些。但是捏，还是有问题。 <br /> 举个例子： <br /> 即使你用低权限用户上网，一旦遭遇这类漏洞，攻击代码还是有可能植入木马。然后捏，这个木马有可能会查找你电脑上的各种私密文件（比如你的裸照）。然后木马会把这些私密文件发送给木马的主人。 <br /> <br /> 从上述例子可见，用低权限的用户上网，【不能】彻底解决问题。所以，俺隆重推出第三种方案——多用户方案。 <br /> <br />     <h3 id="section-12"> ◇啥是“多用户方案”捏？ </h3>
 <br /> 如今的桌面操作系统，无论是 Windows 还是 Linux 或 Mac OS，都可以创建多个操作系统用户，并且这多个用户可以同时运行程序。如果你用过 WinXP 的快速用户切换，应该对此深有体会。 <br /> 多用户方案的关键在于： <br /> 你需要创建一个或多个【低权限】的“上网用户”（所谓低权限，必须低于你当前使用的用户权限）。这些“上网用户”专门用来访问各种网站。 <br /> 假使你不幸访问了恶意网页，遭遇本地执行的攻击代码，问题也不大。因为这些上网用户的权限很低，所以它们触发的攻击代码，权限也很低。因此攻击代码就比较难钻空子。一般来说，对“上网用户”的权限限制得越严格，攻击代码就越难有作为。 <br /> <br />     <h3 id="section-13"> ◇操作步骤 </h3>
 <br /> <b>
   1. 创建上网用户
  </b> <br /> 如何在桌面系统中创建新的用户，大家应该都会吧？不会的同学，请看《 <a href="https://program-think.blogspot.com/2010/06/howto-prevent-hacker-attack-1.html"> 避免使用高权限用户 </a> 》一文的相关章节。上网用户可以只创建一个，也可以创建多个。具体建几个，看你的需求。 <br /> 举例： <br /> 假如你非常看重网银的安全，可以创建两个上网用户，一个专门用来访问网银，一个专门用来上其它网站。 <br /> 提醒一下：在这些上网用户的环境中，除了浏览器，其它啥软件都【别】装。 <br /> <br /> <b>
   2. 设置上网用户的权限
  </b> <br /> 再啰嗦一次，上网用户的权限，一定要低于你目前使用的用户权限。 <br /> 以 Windows 为例： <br /> 在 Windows 中，常见的用户组的权限大小分别是： <b>
   “Administrators 组” ＞ “Power Users 组” ＞ “Users 组” ＞ “Guest 组”
  </b> 。 <br /> 如果你平时用“Administrators 组”的用户，那么可以把上网用户设置为：“Power User”或“User”或“Guest” <br /> 如果你平时用“Power Users 组”的用户，那么上网用户就只能设置为 User 或 Guest。 <br /> 以此类推...... <br /> （如果你想了解这些用户组之间的权限差异，可以参考本系列的第一个帖子《 <a href="https://program-think.blogspot.com/2010/06/howto-prevent-hacker-attack-1.html"> 避免使用高权限用户 </a> 》） <br /> <br /> 提醒一下： <br /> Guest 用户组的权限是最低，低得难以想象。所以，从安全角度而言，把上网用户设置为“Guest 组”是最安全滴。但是，也是最麻烦滴。你需要进行好多设置——否则的话，你可能连浏览器都跑不起来。 <br /> 所以，除非你对 Windows 系统比较熟悉，否则的话，俺【不】建议使用“Guest 组”的权限。比较理想的权限是“Users 组”。这个组的权限也比较低，但是用起来不麻烦。 <br /> <br /> <b>
   3. 设置文件目录的访问控制权限（ACL）
  </b> <br /> 每个人的电脑中，都会有某几个目录是用来存放你的敏感个人资料的。 <br /> 你必须设置这些目录的访问控制权限（简称 ACL），设置为：“上网用户”所在的组【 <b>
   不允许读写
  </b> 】。这样一来，你可以把自己那些敏感的，私密的文件（比如自己的裸照），都通过上述 ACL 保护起来。即使“上网用户”遭遇高危漏洞的攻击，本地执行的攻击代码也【难以拿到】你的隐私（俺说"难以拿到"，意思就是说，还是有可能滴，但是可能性很小，后面会解释）。 <br /> 顺便提醒一下：对于 Windows 系统，只有使用 NTFS 格式的分区，才支持 ACL。FAT32 格式的分区是不支持滴！ <br /> 如果你是个菜鸟，不懂得如何设置文件及目录的 ACL，没关系！Google 一下，你就知道。 <br /> <br /> <b>
   4. 多用户浏览器共享同一个桌面的技巧
  </b> <br /> 你可以直接用 Windows 提供的“快速用户切换”。对于 Windows 系统，从 WinXP 开始就提供了"快速用户切换"的功能。用它来切换用户还是很方便滴。但是这招有一个缺点：你一次只能看到某一个用户运行的软件，其它用户运行的软件看不到。 <br /> 不过没关系，还有一个小技巧，可以让你在同一个桌面中，运行不同用户的软件（包括浏览器）。 <br /> 假设你创建了 A ＆ B 两个用户。其中 A 是主用户，用来完成你日常的工作；B 是上网用户。那么你可以先登录“A用户”，然后在“A用户”的桌面上创建一个浏览器的快捷方式。（如何创建快捷方式，就不用俺手把手教了吧） <br /> 用鼠标选中该快捷方式，在快捷菜单（右键菜单）中，选择“属性”菜单项。出现如下对话框。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh4.googleusercontent.com/G7iCvdIjvzNzNLP-G0vIx1TUWoquHyB1250xkyEHN-yWMR1pDiCx_BBF8hPyXLCaRyp_3fuz0tXVVxNm5cb4dQpGezCDaS0_cl4LZV6wwGnw5icjZK81l3bmdmVv" /> </center>
 <br /> 在该对话框中，点“高级”按钮。出现如下对话框。把“以其他用户身份运行”选项打勾，就可以啦。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh3.googleusercontent.com/X47byUOJ2PtD7Smq9ArZdUFPjBjrCgrkY9lYSdWnTB7RIHUq1ByRDxtDL9v09Nk5eACHC4RzZDcV0RT9-adVQ77RxwGOqACe0YPpC_UgOEsSX4bp85kbWWlKwFJn" /> </center>
 <br /> 之后，如果你想在“A用户”的桌面上运行“B用户”的浏览器，只需点击该快捷方式，就会弹出如下对话框。然后输入“B用户”的用户名/口令，就能以“B用户”的身份运行浏览器。 <br />     <center> <img alt="不见图 请翻墙" src="https://lh5.googleusercontent.com/vULI8x0WJ0XStJdYnN3G-t4Dj_Pr0YTzB-vyOVnANH04M2I6UXVOs49EJDwBS0Ba6Rq9pc0-JcekxJvrIrWh7mr2CzTGnVMr6LFAsQFlLf7w479G9PLEQWSW3-Ia" /> </center>
 <br /> 刚才介绍的是图形界面的配置。对于习惯于命令行的 IT 专业人员，还可以用命令行的方式启动指定用户的某个进程。Linux 系统和 Mac OS 系统有 <code class="language-plaintext highlighter-rouge">
   su
  </code> 或 <code class="language-plaintext highlighter-rouge">
   sudo
  </code> 命令；Windows 系统有 <code class="language-plaintext highlighter-rouge">
   runas
  </code> 命令。 <br /> <br />     <h3 id="section-14"> ◇优点 </h3>
 <br /> <b>
   1. 解决跨站脚本（XSS）的问题
  </b> <br /> 这个优点跟前两种方案类似，俺就不再啰嗦了。 <br /> <br /> <b>
   2. 解决高危插件（Flash）的使用问题
  </b> <br /> 这个优点跟前两种方案类似，俺就不再啰嗦了。 <br /> <br /> <b>
   3. 防范各种浏览器漏洞
  </b> <br /> 正如刚才提到的——前两种方案（多浏览器、多实例）无法防御浏览器及插件的某些高危漏洞（具备本地执行攻击代码的漏洞）。而“多用户方案”可以大大降低这类漏洞的危害性。使得攻击代码只能威胁到“上网用户”本身，而不会威胁到其它操作系统用户。 <br /> <br />     <h3 id="section-15"> ◇缺点 </h3>
 <br /> <b>
   1. 初始配置稍嫌麻烦
  </b> <br /> 相比前面两种方案，这个方案的【初始配置】比较麻烦。而且你要分清楚哪个用户是用来干啥的。不过捏，一旦用久了，习惯了，也就不觉得麻烦了。 <br /> <br /> <b>
   2. 无法防范极个别高明的攻击者
  </b> <br /> “多用户方案”之所以可以隔离攻击代码，是因为如今所有主流的桌面操作系统，都能够在操作系统层面，对不同的系统用户进行隔离。因为有操作系统层面的隔离，所以才限制了攻击代码的危害性。 <br /> 但是，操作系统层面的隔离，也不是百分之百可靠滴。不要忘了，操作系统本身也是软件，也可能出现安全漏洞。在操作系统的安全漏洞中，有一类漏洞叫做“权限提升漏洞”（简称“提权漏洞”）。所谓的“提权漏洞”，顾名思义，就是能够提升【当前执行代码】的权限。比方说，本来攻击代码没有管理员权限，通过"提权漏洞"，就可以拿到管理员权限。 <br /> 如果你的操作系统本身存在“提权漏洞”，同时你的浏览器或者插件存在“能够在本地执行代码的漏洞”，那么，高明的攻击者就有可能把这两者组合起来，对你的系统进行组合攻击。 <br /> 不过大伙儿别担心——要实现这类组合攻击，需要同时掌握【未公开的】浏览器或插件漏洞，并且还要有【未公开的】操作系统提权漏洞（俺在 <a href="http://program-think.blogspot.com/2010/08/howto-prevent-hacker-attack-4.html"> 前面的帖子 </a> 里介绍过，“未公开漏洞”总是比“零日漏洞”更危险）。另外，攻击者还需要做很多准备工作，才能诱使你访问到恶意网页。一般的入侵者根本没有这个本事，也没有耐心去搞这些。反之，有这个本事又有这个耐心的入侵者，通常不会拿这种招数去入侵普通网友（这么做简直是大材小用）。所以，如果你只是一个普通的网友，在前面三个方案中挑选一个，即可。 <br /> <br /> 估计有些好奇的同学会打听了。什么样的入侵者具有这种实力？什么样的人会成为他们的目标？ <br /> 由于本文的篇幅已经很长了，俺稍微调一下列位看官的胃口，在《Web相关的防范（下）》再来八卦这些，同时也介绍一下比“多用户方案”更高级的方案。虽然这种方案很多人用不到，但俺还是会写出来，就当满足一下大伙儿的好奇心 :-) <br /> <br /> <br /> <b>
   <a href="https://program-think.blogspot.com/2010/06/howto-prevent-hacker-attack-0.html#index">
    回到本系列的目录
   </a>
  </b>     <div class="post-copyright">
<b>
    版权声明
   </b> <br /> 本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者 <a href="mailto:program.think@gmail.com"> 编程随想 </a> 和本文原始地址： <br /> <a href="https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html" id="OriginalPostUrl"> https://program-think.blogspot.com/2012/09/howto-prevent-hacker-attack-6.html </a>
    </div>
    <div style="clear: both;"></div>
  </div>
  <div class="post-footer" style="margin-bottom:50px;">
    <div class="post-footer-line post-footer-line-1" style="display:none;">
<span class="post-author vcard"> </span> <span class="reaction-buttons"> </span> <span class="star-ratings"> </span> <span class="post-icons"> </span> <span class="post-backlinks post-comment-link"> </span>
    </div>
    <div class="post-footer-line post-footer-line-2 post-toolbar"></div>
    <div class="post-footer-line post-footer-line-3">
<span class="post-location"> </span>
    </div>
  </div>
</div>


  </div>

  <hr style="border-top:1px solid #28323C;"/>

<font size=2px>
  文章版权归原作者所有。
</font>

<div style="text-align:center"><img width="1px" src="https://i.imgur.com/HSw56Ez.png" alt="二维码分享本站" style="text-align:center"/></div>

  <div id="sametag">
    <h4 style="display: inline-block;">#编程随想 的其它文章</h4>
    <span>--<a href="https://nodebe4.github.io/opinion/2021-05-09/%E5%88%86%E4%BA%AB%E5%90%84%E7%B1%BB%E7%94%B5%E5%AD%90%E4%B9%A6-%E6%94%BF%E6%B2%BB-IT-%E7%A7%91%E6%99%AE-%E5%8E%86%E5%8F%B2-%E7%AD%89-97%E6%9C%AC/">最新</a>-</span>
    <span>-<a href="https://nodebe4.github.io/opinion/2009-01-15/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%BC%A0%E5%8F%8A%E6%9C%AC%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B/">最早</a>--</span>
    
      <li>
        <time>2012-09-14</time>
        <a href="https://nodebe4.github.io/opinion/2012-09-14/%E5%9B%9E%E9%A1%BE%E5%85%AD%E5%9B%9B%E7%B3%BB%E5%88%97-20-%E8%A2%81%E6%9C%A8%E6%B1%82%E6%84%9A-%E7%9A%84%E5%9B%9B-%E4%BA%8C%E4%B9%9D%E5%AF%B9%E8%AF%9D/">
          回顾六四系列[20]：“袁木求愚”的四·二九对话
        </a>
      </li>
    
    
      <li>
        <time>2012-09-09</time>
        <a href="https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/">
          每周转载：关于香港抗议洗脑教育（网文3篇，图片多张）
        </a>
      </li>
    
    
      <li>
        <time>2012-09-05</time>
        <a href="https://nodebe4.github.io/opinion/2012-09-05/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%8D%87%E7%BA%A7-%E5%BC%95%E5%85%A5-BBCode-%E8%AF%AD%E6%B3%95-%E9%A1%BA%E4%BE%BF%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95/">
          博客评论功能升级（引入 BBCode 语法），顺便分享一下实现方法
        </a>
      </li>
    
    
      <li>
        <time>2012-09-02</time>
        <a href="https://nodebe4.github.io/opinion/2012-09-02/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E4%BF%9D%E9%92%93%E5%BC%95%E5%8F%91%E7%9A%84%E7%8B%AD%E9%9A%98%E6%B0%91%E6%97%8F%E4%B8%BB%E4%B9%89-%E7%BD%91%E6%96%874%E7%AF%87/">
          每周转载：关于保钓引发的狭隘民族主义（网文4篇）
        </a>
      </li>
    
  </div>


  <hr>
  <div class="pagination">
    
      <span class="prev" >
          <a href="https://nodebe4.github.io/opinion/2012-09-06/%E8%AF%BB%E5%9B%BE%E8%AF%86%E6%94%BF%E6%B2%BB-%E7%88%B6%E6%AF%8D%E5%BD%93%E5%AE%98=%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%B7%A5%E4%BD%9C/">
            前一篇：【读图识政治】父母当官=更好的工作？
          </a>
      </span>
    
    
      <span class="next" >
          <a href="https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/">
            後一篇：每周转载：关于香港抗议洗脑教育（网文3篇，图片多张）
          </a>
      </span>
    

    <script>
    /* post pagination keyboard shortcuts */
    document.body.onkeyup = function(e){
      if (e.keyCode == '37') { window.location = 'https://nodebe4.github.io/opinion/2012-09-06/%E8%AF%BB%E5%9B%BE%E8%AF%86%E6%94%BF%E6%B2%BB-%E7%88%B6%E6%AF%8D%E5%BD%93%E5%AE%98=%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%B7%A5%E4%BD%9C/'; } // left arrow key
      if (e.keyCode == '39') { window.location = 'https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/'; } // right arrow key
      if (e.keyCode == '45') { window.location = 'https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/'; } // insert key
      if (e.keyCode == '46') { window.location = 'https://nodebe4.github.io/opinion/2012-09-05/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%8D%87%E7%BA%A7-%E5%BC%95%E5%85%A5-BBCode-%E8%AF%AD%E6%B3%95-%E9%A1%BA%E4%BE%BF%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95/'; } // delete key
    };
    </script>
    <link rel="stylesheet" type="text/css" href="/opinion/assets/css/fab.css" />

<div class="fab-wrapper">
  <div class="fab-wheel">
    
    
    
    <a class="fab-action fab-action-1" title="上一篇(热键 &#8594;)" href="https://nodebe4.github.io/opinion/2012-09-06/%E8%AF%BB%E5%9B%BE%E8%AF%86%E6%94%BF%E6%B2%BB-%E7%88%B6%E6%AF%8D%E5%BD%93%E5%AE%98=%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%B7%A5%E4%BD%9C/">
      <i>后</i>
    </a>
    
    
    <a class="fab-action fab-action-2" title="下一篇(热键 &#8592;)" href="https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/">
      <i>前</i>
    </a>
    
    
    <a class="fab-action fab-action-3" title="<编程随想>上一篇(热键 ins)" href="https://nodebe4.github.io/opinion/2012-09-09/%E6%AF%8F%E5%91%A8%E8%BD%AC%E8%BD%BD-%E5%85%B3%E4%BA%8E%E9%A6%99%E6%B8%AF%E6%8A%97%E8%AE%AE%E6%B4%97%E8%84%91%E6%95%99%E8%82%B2-%E7%BD%91%E6%96%873%E7%AF%87-%E5%9B%BE%E7%89%87%E5%A4%9A%E5%BC%A0/">
      <i>左</i>
    </a>
    
    
    <a class="fab-action fab-action-4" title="<编程随想>下一篇(热键 del)" href="https://nodebe4.github.io/opinion/2012-09-05/%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%8D%87%E7%BA%A7-%E5%BC%95%E5%85%A5-BBCode-%E8%AF%AD%E6%B3%95-%E9%A1%BA%E4%BE%BF%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95/">
      <i>右</i>
    </a>
    
  </div>
</div>


  </div>


  

</article>

    </div>

    <div style="z-index:2;">
<script src="/opinion/assets/js/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 56,
  cornerOffset: 20, // px
  id: 'back-to-top',
  backgroundColor: '#ddd',
  textColor: 'red'
})</script>
</div>


    <div class="wrapper-footer" id="footer">
      <div class="container">
        <footer class="footer">
          <img width="200px" src="https://i.imgur.com/HSw56Ez.png" alt="二维码分享本站"/>
<font size=2px>二维码分享本站</font>

<!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

  

  

  
  <li><a href="mailto:beauti4@protonmail.com" class="icon-8 email" title="Email"><svg viewBox="0 0 512 512"><path d="M101.3 141.6v228.9h0.3 308.4 0.8V141.6H101.3zM375.7 167.8l-119.7 91.5 -119.6-91.5H375.7zM127.6 194.1l64.1 49.1 -64.1 64.1V194.1zM127.8 344.2l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7L127.8 344.2 127.8 344.2zM384.4 307.8l-64.4-64.4 64.4-49.3V307.8z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://github.com/NodeBE4/opinion" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
  

  

  

  

  

  
  <li><a href="/opinion/feed.xml" class="icon-21 rss" title="RSS"><svg viewBox="0 0 512 512"><path d="M201.8 347.2c0 20.3-16.5 36.8-36.8 36.8 -20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8C185.3 310.4 201.8 326.8 201.8 347.2zM128.2 204.7v54.5c68.5 0.7 124 56.3 124.7 124.7h54.5C306.7 285.3 226.9 205.4 128.2 204.7zM128.2 166.6c57.9 0.3 112.3 22.9 153.2 63.9 41 41 63.7 95.5 63.9 153.5h54.5c-0.3-149.9-121.7-271.4-271.6-271.9V166.6L128.2 166.6z"/></svg><!--[if lt IE 9]><em>RSS</em><![endif]--></a></li>
  

  

  

  

  

    
</ul>





<p><span style="color:blue">内容每小时更新一次.</span> Powered by <a href="https://github.com/AWEEKJ/kiko-now">Kiko Now</a> & <a href="https://github.com/gitalk/gitalk">Gitalk</a> & <a href="https://github.com/duty-machine/news">duty-machine</a>, 站务 <a href="https://be4.herokuapp.com">NodeBE4</a>（<span style="color:red">被墙</span>）</p>





        </footer>
      </div>
    </div>

    



  </body>
</html>
